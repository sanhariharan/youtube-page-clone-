!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ebb90421-4464-415d-bc82-054c2b9ba520",e._sentryDebugIdIdentifier="sentry-dbid-ebb90421-4464-415d-bc82-054c2b9ba520")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d103cf55"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7075],{17377:function(e,t,n){n.d(t,{_:function(){return x}});var r=n(39698),a=n(45903),i=n(25e3),l=n(32477),u=n(8182),o=n(93918),s=n(29287),c=n(56596),d=n(75209),g=n(25770),p=n(36010),f=n.n(p),m=n(28079),v=n(30983),h=n(43429),y=n(74833),B=n(93302),U=n(2161),b=(0,o.X)({self:[s.l0.rowWithGap(8),s.l0.align.center],dot:[s.l0.width(8),s.l0.height(8),{borderRadius:"50%"}],title:[s.l0.flex.grow(1)]}),Z=function(e){var t=e.title,n=e.usage,r=e.resourceUsageType,a=e.iconUrl;return(0,u.BX)(c.G,{css:b.self,children:["string"==typeof a?(0,u.tZ)(U.ZP,{size:16,iconUrl:a,alt:t}):null,(0,u.tZ)(y.xv,{css:b.title,multiline:!1,children:t}),(0,u.tZ)(y.xv,{color:"dimmer",multiline:!1,children:(0,B.fZ)(n,{resourceUsageType:r,gibsDisplayAsBytes:!0})})]})},_=(0,o.X)({self:[s.l0.height("100%")],empty:[s.l0.height("100%")]}),w=c.K.a,x=function(e){var t=e.percentage,n=e.color,o=e.linkedRepl,s=e.count,c=e.usage,p=e.resourceUsageType,y=o?(0,g.aq)(o):m.$I,B=(0,l._)((0,h.useState)(!1),2),U=B[0],b=B[1];return(0,u.tZ)(v.u,{tooltip:o?(0,u.tZ)(Z,{title:o.title,usage:c,resourceUsageType:p,iconUrl:o.iconUrl}):(0,u.tZ)(Z,{title:"+".concat(s," more"),usage:c,resourceUsageType:p}),placement:"top",delay:"none",isOpen:U,maxWidth:400,children:function(e,l){return(0,u.tZ)(f(),(0,i._)((0,a._)({legacyBehavior:!0},y),{passHref:!0,children:(0,u.tZ)(w,{onMouseOver:function(){return b(!0)},onMouseLeave:function(){return b(!1)},ref:l,css:_.self,style:(0,r._)({minWidth:"calc(".concat(100*d.$,"%)"),width:"calc(".concat(t,"% - 0.9px)"),backgroundColor:n},"&:lastOfType",{width:"".concat(t,"%")})})}))}})}},75928:function(e,t,n){n.d(t,{X:function(){return z},$:function(){return L}});var r=n(32477),a=n(21289),i=n(8182),l=n(43429),u=n(56596),o=n(93918),s=n(29287),c=n(17377),d=n(6246),g=n(75209),p=function(e,t){if("workspace_info_modal"!==t.type)return[e.slice(0,8),e.slice(8)];var n=e.findIndex(function(e){var n;return(null===(n=e.repl)||void 0===n?void 0:n.id)===t.replId});if(n<8)return[e.slice(0,8),e.slice(8)];var r=e[n];return[e.slice(0,8).concat(r),e.slice(8,n).concat(e.slice(n+1))]},f=n(8279),m=n(15146),v=n(99741),h=n(67313),y=n(74833),B=n(39698),U=n(45903),b=n(25e3),Z=n(93302),_=n(2161),w=n(25770),x=n(36010),S=n.n(x),G=n(5542),k=n(49996),C=(0,o.X)({self:[s.l0.rowWithGap(8),s.l0.align.center],dot:[s.l0.flex.grow(1),s.l0.width(8),s.l0.height(8),s.l0.minWidth(8),s.l0.maxHeight(8),{borderRadius:"50%"}],title:[s.l0.flex.grow(1),s.l0.color.foregroundDefault,(0,B._)({},(0,k.EM)("mobileMax"),[s.l0.flex.shrink(1),s.l0.truncate])],line:[s.l0.flex.growAndShrink(1),s.l0.height(8),s.l0.width("100%"),(0,B._)({},(0,k.EM)("mobileMax"),[s.l0.flex.shrink(4)])]}),T=u.K.a,P=u.K.li,R=function(e){var t=e.color,n=e.title,r=e.usage,a=e.resourceUsageType,l=e.linkedRepl,o=e.username,c=l?(0,w.aq)(l):(0,G.Ru)(o);return(0,i.tZ)(P,{children:(0,i.tZ)(S(),(0,b._)((0,U._)({legacyBehavior:!0},c),{passHref:!0,children:(0,i.tZ)(T,{children:(0,i.BX)(u.G,{css:C.self,children:[(0,i.tZ)("div",{css:C.dot,style:{backgroundColor:t}}),l?(0,i.tZ)(_.ZP,{size:16,iconUrl:l.iconUrl,alt:n}):null,(0,i.tZ)(y.xv,{css:C.title,multiline:!1,children:n}),(0,i.tZ)(u.G,{css:C.line,children:(0,i.tZ)("svg",{width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,i.tZ)("line",{x1:"0%",y1:"50%",x2:"100%",y2:"50%",stroke:s.TV.outlineDefault})})}),(0,i.tZ)(y.xv,{color:"dimmer",multiline:!1,children:(0,Z.fZ)(r,{resourceUsageType:a})})]})})}))})},I=(0,o.X)({self:[s.l0.colWithGap(4)]}),D=u.K.ul,V=function(e){var t=e.topRepls,n=e.groupedRepls,r=e.groupedTotal,a=e.context,l=e.username,o=e.resourceUsageType;if("workspace_info_modal"===a.type){var c=t.findIndex(function(e){return e.repl.id===a.replId});return -1===c?(0,i.tZ)(u.G,{css:I.self,children:(0,i.tZ)(y.xv,{multiline:!1,children:"No storage usage"})}):(0,i.BX)(D,{css:I.self,children:[t.map(function(e,t){return(0,i.tZ)(R,{color:t===c?s.TV.accentPrimaryDefault:s.TV.accentPrimaryDimmer,title:e.repl.title,usage:e.usage,resourceUsageType:o,linkedRepl:e.repl,username:l},t)}),0!==n.length?(0,i.tZ)(R,{color:s.TV.backgroundHighest,title:"+".concat(n.length," more"),usage:r,resourceUsageType:o,username:l}):null]})}return(0,i.BX)(D,{css:I.self,children:[0===t.length?(0,i.tZ)(y.xv,{multiline:!1,children:"No resource usage"}):null,t.map(function(e,t){return(0,i.tZ)(R,{color:g.D[t%g.D.length],title:e.repl.title,usage:e.usage,resourceUsageType:o,linkedRepl:e.repl,username:l},t)}),0!==n.length?(0,i.tZ)(R,{color:g.D[t.length%g.D.length],title:"+".concat(n.length," more"),usage:r,resourceUsageType:o,username:l}):null]})},M=n(68514),E=[s.l0.width("100%"),s.l0.rowWithGap(1),s.l0.height(16),s.l0.borderRadius(4),s.l0.overflow("hidden"),s.l0.backgroundColor.backgroundHigher],A={small:(0,o.X)({bar:[E,s.l0.height(10)]}),base:(0,o.X)({bar:[E,s.l0.height(16)]})},X=(0,o.X)({selfPlaceholder:[s.l0.width("100%"),s.l0.rowWithGap(1),s.l0.height(16),s.l0.borderRadius(4),s.l0.overflow("hidden"),s.l0.backgroundColor.backgroundHigher,f.p.backgroundPulse(s.TV.backgroundHigher,s.TV.backgroundRoot)],barWrapper:[s.l0.flex.grow(1)],barAndTriggerWrapper:[s.l0.rowWithGap(8),s.l0.align.center],self:[s.l0.colWithGap(8),s.l0.flex.growAndShrink(1)]}),L=function(e){var t=e.summary,n=e.context,o=e.username,f=e.resourceUsageType,y=e.overageSummary,B=e.small,U=B?A.small:A.base,b=B?12:24,Z=(0,r._)((0,l.useState)(!1),2),_=Z[0],w=Z[1],x=t.perRepl,S=Math.max(t.total,t.limit),G=(0,a._)(x).filter(function(e){return e.percentage>0}).sort(function(e,t){return t.usage-e.usage}),k=(0,r._)(p(G,n),2),C=k[0],T=k[1],P=C.filter(function(e){return null!==e.repl&&void 0!==e.repl}),R=T.filter(function(e){return null!==e.repl&&void 0!==e.repl}),I=new Map(P.map(function(e){return[e.repl.id,e]})),D=R.reduce(function(e,t){return e+t.usage},0),E=0===S?0:D/S,L=new Set(R.map(function(e){var t;return null===(t=e.repl)||void 0===t?void 0:t.id})),z=(0,d.b)(P,E,L),F="workspace_info_modal"===n.type,N="cycles_page"===n.type?s.TV.backgroundHighest:s.TV.backgroundHigher,$=(0,i.tZ)(m.hU,{alt:_?"Hide Repls":"Show Repls",size:b,children:_?(0,i.tZ)(h.Z,{onClick:function(){return w(!_)},size:b}):(0,i.tZ)(v.Z,{onClick:function(){return w(!_)},size:b})}),Y=z.length>0;return(0,i.BX)(u.G,{css:X.self,children:[(0,i.BX)(u.G,{css:X.barAndTriggerWrapper,children:[y||(0,i.tZ)(u.G,{css:X.barWrapper,children:(0,i.tZ)(u.G,{css:U.bar,style:{backgroundColor:N},children:z.map(function(e,t){var r,a=I.get(H(e));return(0,i.tZ)(c._,{percentage:100*e.percentage,color:F?W(e,n.replId):g.D[t%g.D.length],linkedRepl:null==a?void 0:a.repl,count:e.replIds.size,usage:null!==(r=null==a?void 0:a.usage)&&void 0!==r?r:D,resourceUsageType:f},t)})})}),Y?$:null]}),Y&&_?(0,i.BX)(i.HY,{children:[(0,i.tZ)(V,{topRepls:P,groupedRepls:R,groupedTotal:D,context:n,username:o,resourceUsageType:f}),F?(0,i.tZ)(M.R,{}):null]}):null]})},z=function(){return(0,i.tZ)(u.G,{children:(0,i.tZ)(u.G,{css:X.selfPlaceholder})})},W=function(e,t){return e.replIds.has(t)?s.TV.accentPrimaryDefault:s.TV.accentPrimaryDimmest},H=function(e){return e.replIds.keys().next().value}},75209:function(e,t,n){n.d(t,{$:function(){return a},D:function(){return r}});var r=n(29287).tX.categorical,a=.0075},6246:function(e,t,n){n.d(t,{K:function(){return a},b:function(){return i}});var r=n(75209);function a(e){return"deleted_".concat(e)}var i=function(e,t,n){var i=[],l=0;e.forEach(function(e,t){var n,u,o=Math.max(e.percentage,r.$),s=o-e.percentage;0!==s&&(l+=s),i.push({percentage:o,adjusted:0!==s,grouped:!1,replIds:new Set([null!==(u=null===(n=e.repl)||void 0===n?void 0:n.id)&&void 0!==u?u:a(t)])})});var u=0===t?0:Math.max(t,r.$);if(u>0){var o=u-t;o>0&&(l+=o),i.push({percentage:u,adjusted:o>0,grouped:!0,replIds:n})}if(l>0){var s=i.filter(function(e){return!e.adjusted}),c=s.length;if(c>0){var d=l/c,g=!0,p=!1,f=void 0;try{for(var m,v=s[Symbol.iterator]();!(g=(m=v.next()).done);g=!0){var h=m.value;h.percentage-=d}}catch(e){p=!0,f=e}finally{try{g||null==v.return||v.return()}finally{if(p)throw f}}}}return i}},32078:function(e,t,n){n.d(t,{_4:function(){return l},lc:function(){return g}});var r=n(45903),a=n(25e3),i=n(40028),l=function(e){switch(e.__typename){case"AccountStorageUtilization":return u(e);case"MonthlyEgressSummary":return o(e);case"UsageOverviewUnitPriceSku":return c(e);case"UsageOverviewMatrixPriceSku":return d(e);case"StaticDeploymentUtilization":return s(e);default:(0,i.Z)(e)}},u=function(e){var t=e.total,n=e.perRepl,r=e.quota,a=e.percentagesDisplayedUsingTotal;return{total:Number(t),limit:Number(r),perRepl:a?h(n,Number(t)):n.map(p)}},o=function(e){var t=e.usage,n=e.limit,r=e.perRepl;return{total:Number(t),limit:Number(n),perRepl:r.map(p)}},s=function(e){var t=e.items,n=e.limit,r=t.length;return{total:r,limit:n,perRepl:t.map(function(e){return f(e,r)})}},c=function(e){var t=e.replUsageOverview;return{total:e.usage,limit:e.allotment,perRepl:t.map(v)}},d=function(e){var t=e.replUsageOverview,n=e.tierType;return{total:0,limit:0,perRepl:t.map(function(e){return m(e,n)})}};function g(e){var t=e.billingPeriodSummary,n=e.billableMetric,r={total:0,limit:0,perRepl:[]};if(null==t)return r;var a=t.totals.find(function(e){return e.billableMetric===n});if(null==a)return r;var i=[],l=!0,u=!1,o=void 0;try{for(var s,c=t.perRepl[Symbol.iterator]();!(l=(s=c.next()).done);l=!0){var d=s.value,g=d.usage.find(function(e){return e.billableMetric===n});if(null!=g){var p={usage:g.usage,percentage:g.percentage,repl:d.repl};i.push(p)}}}catch(e){u=!0,o=e}finally{try{l||null==c.return||c.return()}finally{if(u)throw o}}return r.total=a.usage,r.limit=a.freeUnits,r.perRepl=i,r}var p=function(e){return(0,a._)((0,r._)({},e),{usage:Number(e.usage)})},f=function(e,t){return{usage:1,percentage:1/t,repl:e.repl,lastDeployedAt:e.currentBuild.timeCreated}},m=function(e,t){return{usage:e.usage,percentage:e.percentage,repl:e.repl,matrixTier:{label:e.configName,type:t}}},v=function(e){return{usage:e.usage,percentage:e.percentage,repl:e.repl}},h=function(e,t){return e.map(function(e){return(0,a._)((0,r._)({},e),{percentage:0===t?0:Number(e.usage)/t,usage:Number(e.usage)})})}},93302:function(e,t,n){n.d(t,{$s:function(){return s},G$:function(){return a},fZ:function(){return i},p6:function(){return o}});var r=n(40028),a=.01,i=function(e,t){var n=t.resourceUsageType,r=t.forceGib,a=t.precision,i=t.skipUnits,l=t.additional,o=t.minimumValue,s=t.truncateToMillions,c=t.gibsDisplayAsBytes,d=u({input:e,resourceUsageType:n,forceGib:void 0!==r&&r,precision:void 0===a?4:a,minimumValue:void 0===o?null:o,truncateToMillions:void 0!==s&&s,gibsDisplayAsBytes:void 0!==c&&c});return void 0!==i&&i?d.formattedValue:void 0!==l&&l?[d.formattedValue,"additional",d.units].join(" "):[d.formattedValue,d.units].join(" ")};function l(e,t){var n=t.precision,r=t.minimumValue,a=t.forceGib,i=r&&0!==e;return e>=1073741824*(null!=r?r:1)||a?i&&e<1073741824*r?{formattedValue:"<".concat(r.toLocaleString(void 0,{minimumFractionDigits:n})),units:"GiB"}:{formattedValue:s(e).toFixed(n),units:"GiB"}:i&&e<1048576*r?{formattedValue:"<".concat(r.toLocaleString(void 0,{minimumFractionDigits:n})),units:"MiB"}:{formattedValue:o(e).toFixed(n),units:"MiB"}}var u=function(e){var t=e.input,n=e.resourceUsageType,a=e.forceGib,i=e.precision,u=e.minimumValue,o=e.truncateToMillions,s=e.gibsDisplayAsBytes,c=u&&0!==t&&t<u;switch(n){case"Bytes":return l(t,{precision:i,minimumValue:u,forceGib:a});case"GiB":if(0===t)return{formattedValue:t.toFixed(i),units:"GiB"};if(s)return l(1073741824*t,{precision:i,minimumValue:u,forceGib:!1});if(c)return{formattedValue:"<".concat(u.toLocaleString(void 0,{minimumFractionDigits:i})),units:"GiB"};return{formattedValue:t.toFixed(i),units:"GiB"};case"ComputeUnits":if(t>=1e6&&o)return{formattedValue:(t/1e6).toLocaleString(void 0,{maximumFractionDigits:t>=1e6&&o?2:0})+" million",units:"compute units"};return{formattedValue:t.toLocaleString(void 0,{maximumFractionDigits:0}),units:"compute units"};case"ComputeHours":return{formattedValue:t.toLocaleString(void 0,{maximumFractionDigits:0}),units:"compute hours"};case"Requests":if(t>=1e6&&o)return{formattedValue:(t/1e6).toLocaleString(void 0,{maximumFractionDigits:t>=1e6&&o?2:0})+" million",units:"requests"};return{formattedValue:t.toLocaleString(void 0,{maximumFractionDigits:0}),units:"requests"};case"Site":return{formattedValue:t.toLocaleString(void 0,{maximumFractionDigits:0}),units:"site"};case"Hours":return{formattedValue:t.toLocaleString(void 0,{maximumFractionDigits:2}),units:"hours"};default:(0,r.Z)(n)}},o=function(e){return e/1048576},s=function(e){return e/1073741824}},81340:function(e,t,n){n.d(t,{L:function(){return R}});var r=n(34142),a=n(32477),i=n(87682),l=n(8182),u=n(72310),o=n(45903),s=n(93295),c=n(23982),d=n(77393),g=n(72986);function p(){var e=(0,s._)(["\n  fragment CurrentUserUsageBasedBillingBudgetFragment on CurrentUser {\n    id\n    usageBasedBillingBudget {\n      ... on UsageBasedBillingBudget {\n        id\n        monthlyBudgetUsd\n        hasReachedBudget\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}function f(){var e=(0,s._)(["\n  query UsageBasedBillingBudgetCurrentUser {\n    currentUser {\n      id\n      ...CurrentUserUsageBasedBillingBudgetFragment\n      usageInterval {\n        ... on UsageInterval {\n          totalAmountUsd\n        }\n        ... on ServiceUnavailable {\n          message\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function m(){var e=(0,s._)(["\n  mutation UpdateUsageBasedBillingBudget(\n    $input: UpdateUsageBasedBillingBudgetInput!\n  ) {\n    updateUsageBasedBillingBudget(input: $input) {\n      ... on CurrentUser {\n        ...CurrentUserUsageBasedBillingBudgetFragment\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var v={},h=(0,c.Ps)(p()),y=(0,c.Ps)(f(),h),B=(0,c.Ps)(m(),h),U=n(1498),b=n(15146),Z=n(18836),_=n(8279),w=n(74833),x=n(56596),S=n(93918),G=n(52682),k=n(29287),C=n(43429),T=n(16560),P=(0,S.X)({rootContainer:[k.l0.colWithGap(12),k.l0.align.start],budgetInputContainer:[k.l0.rowWithGap(8),k.l0.align.center],budgetInput:[k.l0.maxWidth(k.TV.space80)],inputLoadingPlaceholder:[_.p.backgroundPulse(k.TV.outlineDimmest,k.TV.outlineDimmer),k.l0.width(k.TV.space128),k.l0.height(k.TV.space32),k.l0.borderRadius(8)],removeBudgetButton:[k.l0.height(k.TV.space32),k.l0.width(k.TV.space32)],errorText:[k.l0.color.accentNegativeStronger],saveButton:[k.l0.width(128)]});function R(e){var t,n,s,c,p,f,m=e.onUpdateSuccess,h=(0,a._)((0,C.useState)(null),2),_=h[0],S=h[1],k=(0,u.Y)(null,function(e){return null!=e&&e<T.M7?{message:"Monthly usage budget must be at least $".concat(T.M7)}:null!=e&&e%10!=0?{message:"Monthly usage budget must be a multiple of $10"}:void 0}),R=(0,a._)((0,C.useState)(null),2),I=R[0],D=R[1],V=(0,a._)((0,C.useState)(null),2),M=V[0],E=V[1],A=(t=(0,o._)({},v,{onCompleted:function(e){if((null===(n=e.currentUser)||void 0===n?void 0:null===(t=n.usageBasedBillingBudget)||void 0===t?void 0:t.__typename)==="UsageBasedBillingBudget"?(S(null!==(d=e.currentUser.usageBasedBillingBudget.monthlyBudgetUsd)&&void 0!==d?d:null),k.setValue(null!==(g=e.currentUser.usageBasedBillingBudget.monthlyBudgetUsd)&&void 0!==g?g:null),null!=m&&m()):(null===(a=e.currentUser)||void 0===a?void 0:null===(r=a.usageBasedBillingBudget)||void 0===r?void 0:r.__typename)==="UnauthorizedError"&&E(e.currentUser.usageBasedBillingBudget.message),(null===(i=e.currentUser)||void 0===i?void 0:i.usageInterval)&&(null===(l=e.currentUser)||void 0===l?void 0:l.usageInterval.__typename)==="UsageInterval"){var t,n,r,a,i,l,u,o,s,c,d,g;D(e.currentUser.usageInterval.totalAmountUsd)}else(null===(u=e.currentUser)||void 0===u?void 0:u.usageInterval)&&((null===(o=e.currentUser)||void 0===o?void 0:o.usageInterval.__typename)==="ServiceUnavailable"||(null===(s=e.currentUser)||void 0===s?void 0:s.usageInterval.__typename)==="UnauthorizedError"||(null===(c=e.currentUser)||void 0===c?void 0:c.usageInterval.__typename)==="UserError")&&E(e.currentUser.usageInterval.message)}}),d.a(y,t)).loading,X=(0,a._)((n=(0,o._)({},v,{onCompleted:function(e){var t;"CurrentUser"===e.updateUsageBasedBillingBudget.__typename&&(null===(t=e.updateUsageBasedBillingBudget.usageBasedBillingBudget)||void 0===t?void 0:t.__typename)==="UsageBasedBillingBudget"&&(S(e.updateUsageBasedBillingBudget.usageBasedBillingBudget.monthlyBudgetUsd),k.setValue(e.updateUsageBasedBillingBudget.usageBasedBillingBudget.monthlyBudgetUsd)),("UnauthorizedError"===e.updateUsageBasedBillingBudget.__typename||"UserError"===e.updateUsageBasedBillingBudget.__typename)&&E(e.updateUsageBasedBillingBudget.message)}}),g.D(B,n)),2),L=X[0],z=X[1].loading,W=_!==k.value,H=null!==(p=null===(c=k.error)||void 0===c?void 0:c.message)&&void 0!==p?p:null,F=null!==I&&null!==k.value&&k.value<=I?"You've already spent ".concat(I.toLocaleString("en-US",{style:"currency",currency:"USD"})," this billing period.\n  Increase your budget to avoid service interruption.\n  ").concat(W?" Saving your changes will suspend any active usage-based services.":""):null,N=null!==(f=null!=H?H:F)&&void 0!==f?f:null,$=(s=(0,r._)(function(){var e,t,n;return(0,i.Jh)(this,function(r){switch(r.label){case 0:if(k.validate(),!k.isValid)return[2];return E(null),[4,L({variables:{input:{monthlyBudgetUsd:k.value}}})];case 1:if(t=(e=r.sent()).data,null!=(n=e.errors))return E(n[0].message),[2];if((null==t?void 0:t.updateUsageBasedBillingBudget.__typename)==="UnauthorizedError"||(null==t?void 0:t.updateUsageBasedBillingBudget.__typename)==="UserError")return E(t.updateUsageBasedBillingBudget.message),[2];return S(k.value),[2]}})}),function(){return s.apply(this,arguments)});return(0,l.BX)(x.G,{css:P.rootContainer,children:[(0,l.tZ)(w.xv,{variant:"subheadDefault",multiline:!1,children:"Monthly usage limit"}),(0,l.BX)(x.G,{css:P.budgetInputContainer,children:[A?(0,l.tZ)(x.G,{css:P.inputLoadingPlaceholder}):null,null!=k.value?(0,l.BX)(l.HY,{children:[(0,l.tZ)(Z.II,{value:k.value>0?"$".concat(k.value.toLocaleString()):"$",css:P.budgetInput,maxLength:8,onChange:function(e){var t=e.target.value.replace(/\D/g,"");if(""===t){k.setValue(0);return}var n=Number(t);k.setValue(n)}}),(0,l.tZ)(b.hU,{alt:"Remove monthly usage budget",css:P.removeBudgetButton,onClick:function(){k.setValue(null)},children:(0,l.tZ)(G.Z,{})})]}):null,A||null!=k.value?null:(0,l.tZ)(U.zx,{text:"Enable monthly usage budget",onClick:function(){return k.setValue(null!=_?_:100)}})]}),N?(0,l.tZ)(w.xv,{variant:"small",css:P.errorText,multiline:!0,children:N}):null,M?(0,l.tZ)(w.xv,{variant:"small",css:P.errorText,multiline:!0,children:M}):null,(0,l.tZ)(U.zx,{text:"Save",colorway:"primary",onClick:$,loading:z,css:P.saveButton,disabled:A||z||null!=H||!W})]})}},89960:function(e,t,n){n.d(t,{t:function(){return S}});var r=n(45903),a=n(8182),i=n(38213),l=n(84460),u=n(88211),o=n(81340),s=n(25486),c=n(90777),d=n(1498),g=n(68514),p=n(15146),f=n(37951),m=n(56596),v=n(93918),h=n(52924),y=n(97615),B=n(88936),U=n(99656),b=n(20573),Z=n(29287),_=n(43429),w=n(87001),x=(0,v.X)({self:[Z.l0.colWithGap(16)],paymentMethodContainer:[Z.l0.colWithGap(16)],addPaymentMethodContainer:[Z.l0.colWithGap(6)],loadingContainer:[Z.l0.justify.center,Z.l0.align.center,Z.l0.minHeight(80)]});function S(e){var t=e.goToNewPaymentMethodForm,n=e.onPreferencesUpdated,v=e.showUsageSettingsBudget,S=(0,i.A)(),G=(0,s.U)(),k=G.loading,C=G.isOnTrialPlan,T=G.trialWillCancel,P=(0,c.Q)(),R=P.paymentMethod,I=P.loading,D=P.error,V=(0,l.kr)({defaultAutoRefillEnabledValue:!1,onAutoRefillPreferencesUpdated:function(){n&&n()}}).cardAutoRefillPreferencesProps,M=(0,_.useMemo)(function(){return C&&!T?(0,a.tZ)(f.E,{colorway:"primary",icon:(0,a.tZ)(y.Z,{}),text:(0,a.BX)(a.HY,{children:["Adding a payment method will set your Replit ",w.we," ","membership to auto-renew at the end of the trial."]})}):S?(0,a.tZ)(f.E,{colorway:"primary",icon:(0,a.tZ)(y.Z,{}),text:"Add a payment method to enable additional resource usage."}):(0,a.tZ)(f.E,{colorway:"warning",icon:(0,a.tZ)(b.Z,{}),text:"Add a payment method and enable Auto-Refill to prevent your Power Ups from being disabled when you run out of Cycles."})},[C,T,S]);return I||k||null!=D?(0,a.tZ)(m.G,{css:x.loadingContainer,children:(0,a.tZ)(B.Z,{})}):(0,a.BX)(m.G,{css:x.self,children:[null!=R?(0,a.BX)(m.G,{css:x.paymentMethodContainer,children:[(0,a.BX)(m.G,{css:[Z.l0.rowWithGap(8),Z.l0.align.center],children:[(0,a.tZ)(p.hU,{alt:"Update Payment Method",onClick:t,children:(0,a.tZ)(h.Z,{})}),(0,a.tZ)(u.R,{last4:R.last4})]}),v?(0,a.BX)(a.HY,{children:[(0,a.tZ)(g.R,{}),(0,a.tZ)(o.L,{})]}):null,S?null:(0,a.BX)(a.HY,{children:[(0,a.tZ)(g.R,{}),(0,a.tZ)(l.OK,(0,r._)({},V))]})]}):null," ",null==R?(0,a.BX)(m.G,{css:x.addPaymentMethodContainer,children:[M,(0,a.tZ)(d.zx,{text:"Add Payment Method",iconLeft:(0,a.tZ)(U.Z,{}),onClick:t})]}):null]})}},71411:function(e,t,n){n.d(t,{P:function(){return l}});var r=n(32477),a=n(21289),i=n(43429);function l(e){var t=(0,r._)((0,i.useState)(e),2),n=t[0],l=t[1],u=(0,r._)((0,i.useState)([]),2),o=u[0],s=u[1],c=(0,i.useCallback)(function(e){s((0,a._)(o).concat([n])),l(e)},[o,s,n,l]);return{currentStep:n,goTo:c,goBack:(0,i.useCallback)(function(){var e=o.pop();s(o),e&&l(e)},[o,s,l]),canGoBack:o.length>0}}},16166:function(e,t,n){n.d(t,{U:function(){return u}});var r=n(8182),a=n(38213),i=n(59868),l=n(1498),u=function(e){var t=e.isPro,n=e.setShowUpgradeModal,u=e.source;return(0,a.A)()?null:(0,r.tZ)(l.zx,{colorway:"primary",text:t?"Change Storage":"Upgrade Storage",onClick:function(){(0,i.j)(i.U3.UPGRADE_SELECTED,{source:u,isPro:t}),n(!0)}})}},85838:function(e,t,n){n.d(t,{q:function(){return v}});var r=n(8182),a=n(93918),i=n(20573),l=n(37951),u=n(29287),o=n(56596),s=n(42588),c=n(75582),d=n(91612),g=n(47957),p=n(38213),f=(0,a.X)({self:[u.l0.colWithGap(8)]}),m=o.K.a,v=function(){var e,t=(0,g.Pf)({}),n=t.data;if(t.loading&&!n||!n||(null==n?void 0:null===(e=n.currentUser)||void 0===e?void 0:e.storageInfo.__typename)!=="StorageInfo"||"StorageQuota"!==n.currentUser.storageInfo.storageQuota.__typename||"StorageQuotaStatus"!==n.currentUser.storageInfo.storageQuotaStatus2.__typename||"StorageGracePeriodQuota"!==n.currentUser.storageInfo.storageGracePeriodQuota.__typename||"AccountStorageUtilization"!==n.currentUser.storageInfo.accountStorageUtilization.__typename||"UserPowerUpsTypes"!==n.currentUser.userPowerUpsByType.__typename)return null;var a=n.currentUser,u=a.storageInfo,s=u.storageQuotaStatus2.status,d=u.storageQuota.quota,p=u.storageGracePeriodQuota.quota,v=u.accountStorageUtilization.total,B=a.userPowerUpsByType.storage,U=B.currentSku,b=B.daysLeftInGracePeriod,Z=B.isInGracePeriod,_=a.cyclesAutoRefillConfiguration,w=Number(d),x=Number(v),S=s===c.bS.ExceedingQuota,G="0"!==p,k=(null==_?void 0:_.__typename)==="CyclesAutoRefillConfiguration"&&_.enabled,C=G&&S?(0,r.tZ)(m,{href:"https://docs.replit.com/programming-ide/workspace-features/expandable-storage",target:"_blank",children:(0,r.tZ)(l.E,{icon:(0,r.tZ)(i.Z,{}),colorway:"orange",text:"You’re prolific! You’re over the storage limit for your plan. Don’t worry, you have a grace period to upgrade your storage or clear space before the limits affect you. Click to learn more"})}):(0,r.tZ)(y,{quotaStatus:s,quota:w,total:x,hasLimitEnforcementGracePeriod:G}),T=U?(0,r.tZ)(h,{sku:U,hasAutorefillEnabled:k,isInGracePeriod:Z,daysLeftInGracePeriod:null!=b?b:void 0}):null;return null!==C||null!==T?(0,r.BX)(o.G,{css:f.self,children:[C,T]}):null},h=function(e){var t=e.sku,n=e.hasAutorefillEnabled,a=e.isInGracePeriod,u=e.daysLeftInGracePeriod,o=void 0===u?0:u;return(0,p.A)()?null:a&&o>0?(0,r.tZ)(l.E,{icon:(0,r.tZ)(i.Z,{}),colorway:"primary",text:"You’re out of Cycles to pay for your ".concat(d.zd[t]," GiB ")+"storage add-on. You have ".concat(o," days left to ")+"refill your Cycles, or you’ll lose access to that storage space. To avoid this in the future, turn Cycles Auto-Refill on."}):n?null:(0,r.tZ)(l.E,{icon:(0,r.tZ)(i.Z,{}),colorway:"primary",text:"Turn on Cycles Auto-Refill to prevent your ".concat(d.zd[t]," ")+"GiB storage add-on from expiring when you run out of Cycles."})},y=function(e){var t=e.quotaStatus,n=e.quota,a=e.total;switch(t){case c.bS.ExceedingQuota:return(0,r.tZ)(l.E,{icon:(0,r.tZ)(i.Z,{}),colorway:"orange",text:"Your account is over the storage limit for your plan. Upgrade your account storage or delete Repls or files to free up space."});case c.bS.ApproachingQuota:return(0,r.tZ)(l.E,{icon:(0,r.tZ)(i.Z,{}),colorway:"primary",text:"Your account is almost out of storage. You’re using ".concat((0,s.s)(a)," / ").concat((0,s.s)(n),". Upgrade your account storage or delete Repls or files to free up space.")});default:return null}}},34785:function(e,t,n){n.d(t,{s:function(){return i}});var r=n(75582),a=n(87001),i=function(e){switch(e){case r.HP.HackerPro:return"".concat(a.we," plan");case r.HP.Hacker:return"".concat(a.ZK," plan");default:return"".concat(a.Ic," plan")}}},42588:function(e,t,n){n.d(t,{s:function(){return i}});var r=n(91612),a=n(93302),i=function(e){return e>2*r.lb?"".concat((0,a.$s)(e).toLocaleString(void 0,{maximumFractionDigits:1})," GiB"):"".concat(Math.round((0,a.p6)(e)).toLocaleString()," MiB")}},23211:function(e,t,n){n.d(t,{X$:function(){return o},dA:function(){return l},dD:function(){return i},gr:function(){return u},uZ:function(){return a},yr:function(){return r}});var r=200,a="flag-tropical-pink",i="flag-usage-utopia",l="flag-electric-stems";function u(e){switch(e){case"e2-micro":return[.00833,"6.40"];case"e2-small":return[.0166,"12.80"];case"e2-medium":return[.0333,"25.60"];case"n1-custom-1-4096":return[.0687,"52.80"];case"e2-standard-2":return[.1375,"105.60"];case"e2-standard-4":return[.275,"211.20"];default:return[null,null]}}function o(e){switch(e){case"0.25 vCPU / 1 GiB RAM":return"e2-micro";case"0.5 vCPU / 2 GiB RAM":return"e2-small";case"1 vCPU / 4 GiB RAM":return"e2-medium";case"Dedicated 1 vCPU / 4 GiB RAM":return"n1-custom-1-4096";case"Dedicated 2 vCPU / 8 GiB RAM":return"e2-standard-2";case"Dedicated 4 vCPU / 16 GiB RAM":return"e2-standard-4";default:return null}}},16560:function(e,t,n){n.d(t,{M7:function(){return u},Xo:function(){return a},hU:function(){return i},kc:function(){return o},m0:function(){return r},v7:function(){return l}});var r=125e-8,a=.4,i=18,l=2,u=10,o=8}}]);
//# sourceMappingURL=7075-e5ae523480bfa97e.js.map