!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="eaaefa40-3e9a-4b8e-bac6-2eebc1f76cfb",e._sentryDebugIdIdentifier="sentry-dbid-eaaefa40-3e9a-4b8e-bac6-2eebc1f76cfb")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d103cf55"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3421],{74879:function(e,t,n){var r=n(43429),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=function(e){var t=e.animate,n=void 0===t||t,o=e.animateBegin,l=e.backgroundColor,s=void 0===l?"#f5f6f7":l,a=e.backgroundOpacity,c=void 0===a?1:a,h=e.baseUrl,u=void 0===h?"":h,f=e.children,d=e.foregroundColor,m=e.foregroundOpacity,p=e.gradientRatio,g=void 0===p?2:p,v=e.gradientDirection,y=e.uniqueKey,b=e.interval,x=e.rtl,w=e.speed,k=e.style,S=e.title,A=void 0===S?"Loading...":S,M=e.beforeMask,E=void 0===M?null:M,T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),D=y||Math.random().toString(36).substring(6),O=D+"-diff",C=D+"-animated-diff",L=D+"-aria",j="0; "+(void 0===b?.25:b)+"; 1",W=(void 0===w?1.2:w)+"s";return(0,r.createElement)("svg",i({"aria-labelledby":L,role:"img",style:i(i({},void 0===k?{}:k),void 0!==x&&x?{transform:"scaleX(-1)"}:null)},T),A?(0,r.createElement)("title",{id:L},A):null,E&&(0,r.isValidElement)(E)?E:null,(0,r.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+u+"#"+O+")",style:{fill:"url("+u+"#"+C+")"}}),(0,r.createElement)("defs",null,(0,r.createElement)("clipPath",{id:O},f),(0,r.createElement)("linearGradient",{id:C,gradientTransform:"top-bottom"===(void 0===v?"left-right":v)?"rotate(90)":void 0},(0,r.createElement)("stop",{offset:"0%",stopColor:s,stopOpacity:c},n&&(0,r.createElement)("animate",{attributeName:"offset",values:-g+"; "+-g+"; 1",keyTimes:j,dur:W,repeatCount:"indefinite",begin:o})),(0,r.createElement)("stop",{offset:"50%",stopColor:void 0===d?"#eee":d,stopOpacity:void 0===m?1:m},n&&(0,r.createElement)("animate",{attributeName:"offset",values:-g/2+"; "+-g/2+"; "+(1+g/2),keyTimes:j,dur:W,repeatCount:"indefinite",begin:o})),(0,r.createElement)("stop",{offset:"100%",stopColor:s,stopOpacity:c},n&&(0,r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+g),keyTimes:j,dur:W,repeatCount:"indefinite",begin:o})))))},l=function(e){return e.children?(0,r.createElement)(o,i({},e)):(0,r.createElement)(s,i({},e))},s=function(e){return(0,r.createElement)(l,i({viewBox:"0 0 476 124"},e),(0,r.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,r.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};t.ZP=l},28999:function(e,t,n){n.d(t,{lV:function(){return l}});var r=n(43429),i=n(71999),o=n(90234);function l(e,t){let n=(0,r.useMemo)(()=>(0,o.cn)(null,(t,n,...r)=>e(t,n,...r)),[e]);return(0,i.b9)(n,t)}},89061:function(e,t,n){n.d(t,{$8:function(){return eO},AE:function(){return el},Bn:function(){return eM},Bx:function(){return er},ES:function(){return eC},Ej:function(){return eu},F9:function(){return eF},Hj:function(){return eo},Ie:function(){return ex},Iv:function(){return y},JA:function(){return eL},K4:function(){return eU},K8:function(){return eN},KX:function(){return E},Kd:function(){return ei},Ku:function(){return G},L9:function(){return Z},LX:function(){return eK},Lr:function(){return f},MN:function(){return T},O8:function(){return s},O_:function(){return eY},P:function(){return ez},Pl:function(){return et},Tb:function(){return eT},Tj:function(){return ed},WN:function(){return eE},YE:function(){return e1},YW:function(){return b},Yw:function(){return M},ZH:function(){return ee},ZS:function(){return ev},Zr:function(){return eq},_q:function(){return ej},_r:function(){return eJ},at:function(){return e8},cE:function(){return S},cG:function(){return eX},db:function(){return eS},ef:function(){return z},fE:function(){return eV},fY:function(){return ew},ff:function(){return K},g3:function(){return eI},gY:function(){return es},hX:function(){return u},ju:function(){return e_},kU:function(){return J},kV:function(){return e0},kY:function(){return eg},kh:function(){return U},lv:function(){return V},m0:function(){return eh},m2:function(){return ef},m8:function(){return k},p7:function(){return eD},qV:function(){return ey},qh:function(){return eA},rl:function(){return eZ},td:function(){return eW},u9:function(){return ep},wA:function(){return e4},xi:function(){return e5},xx:function(){return e2},yr:function(){return h},yz:function(){return Y}});var r=n(84357),i=n(38265),o=n(74633),l=n(81232);let s=e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=m(e.state,n.from);return r.line?c(e):!!r.block&&d(e)};function a(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=e(t,n);return!!i&&(r(n.update(i)),!0)}}let c=a(g,0),h=a(g,1),u=a(g,2),f=a(p,0),d=a((e,t)=>p(e,t,function(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),i=n.to<=r.to?r:e.doc.lineAt(n.to),o=t.length-1;o>=0&&t[o].to>r.from?t[o].to=i.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return t}(t)),0);function m(e,t){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}function p(e,t,n=t.selection.ranges){let r=n.map(e=>m(t,e.from).block);if(!r.every(e=>e))return null;let i=n.map((e,n)=>(function(e,{open:t,close:n},r,i){let o,l,s=e.sliceDoc(r-50,r),a=e.sliceDoc(i,i+50),c=/\s*$/.exec(s)[0].length,h=/^\s*/.exec(a)[0].length,u=s.length-c;if(s.slice(u-t.length,u)==t&&a.slice(h,h+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:i+h,margin:h&&1}};i-r<=100?o=l=e.sliceDoc(r,i):(o=e.sliceDoc(r,r+50),l=e.sliceDoc(i-50,i));let f=/^\s*/.exec(o)[0].length,d=/\s*$/.exec(l)[0].length,m=l.length-d-n.length;return o.slice(f,f+t.length)==t&&l.slice(m,m+n.length)==n?{open:{pos:r+f+t.length,margin:/\s/.test(o.charAt(f+t.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(l.charAt(m-1))?1:0}}:null})(t,r[n],e.from,e.to));if(2!=e&&!i.every(e=>e))return{changes:t.changes(n.map((e,t)=>i[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}]))};if(1!=e&&i.some(e=>e)){let e=[];for(let t=0,n;t<i.length;t++)if(n=i[t]){let i=r[t],{open:o,close:l}=n;e.push({from:o.pos-i.open.length,to:o.pos+o.margin},{from:l.pos-l.margin,to:l.pos+i.close.length})}return{changes:e}}return null}function g(e,t,n=t.selection.ranges){let r=[],i=-1;for(let{from:e,to:o}of n){let n=r.length,l=1e9,s=m(t,e).line;if(s){for(let n=e;n<=o;){let a=t.doc.lineAt(n);if(a.from>i&&(e==o||o>a.from)){i=a.from;let e=/^\s*/.exec(a.text)[0].length,t=e==a.length,n=a.text.slice(e,e+s.length)==s?e:-1;e<a.text.length&&e<l&&(l=e),r.push({line:a,comment:n,token:s,indent:e,empty:t,single:!1})}n=a.to+1}if(l<1e9)for(let e=n;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=l);r.length==n+1&&(r[n].single=!0)}}if(2!=e&&r.some(e=>e.comment<0&&(!e.empty||e.single))){let e=[];for(let{line:t,token:n,indent:i,empty:o,single:l}of r)(l||!o)&&e.push({from:t.from+i,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&r.some(e=>e.comment>=0)){let e=[];for(let{line:t,comment:n,token:i}of r)if(n>=0){let r=t.from+n,o=r+i.length;" "==t.text[o-t.from]&&o++,e.push({from:r,to:o})}return{changes:e}}return null}let v=r.q6.define(),y=r.q6.define(),b=r.r$.define(),x=r.r$.define({combine:e=>(0,r.BO)(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}),w=r.QQ.define({create:()=>I.empty,update(e,t){let n=t.state.facet(x),i=t.annotation(v);if(i){let r=D.fromTransaction(t,i.selection),o=i.side,l=0==o?e.undone:e.done;return l=r?O(l,l.length,n.minDepth,r):j(l,t.startState.selection),new I(0==o?i.rest:l,0==o?l:i.rest)}let o=t.annotation(y);if(("full"==o||"before"==o)&&(e=e.isolate()),!1===t.annotation(r.YW.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let l=D.fromTransaction(t),s=t.annotation(r.YW.time),a=t.annotation(r.YW.userEvent);return l?e=e.addChanges(l,s,a,n,t):t.selection&&(e=e.addSelection(t.startState.selection,s,a,n.newGroupDelay)),("full"==o||"after"==o)&&(e=e.isolate()),e},toJSON:e=>({done:e.done.map(e=>e.toJSON()),undone:e.undone.map(e=>e.toJSON())}),fromJSON:e=>new I(e.done.map(D.fromJSON),e.undone.map(D.fromJSON))});function k(e={}){return[w,x.of(e),i.tk.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?M:"historyRedo"==e.inputType?E:null;return!!n&&(e.preventDefault(),n(t))}})]}let S=w;function A(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let i=n.field(w,!1);if(!i)return!1;let o=i.pop(e,n,t);return!!o&&(r(o),!0)}}let M=A(0,!1),E=A(1,!1),T=A(0,!0);class D{constructor(e,t,n,r,i){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=i}setSelAfter(e){return new D(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(e=>e.toJSON())}}static fromJSON(e){return new D(e.changes&&r.as.fromJSON(e.changes),[],e.mapped&&r.n0.fromJSON(e.mapped),e.startSelection&&r.jT.fromJSON(e.startSelection),e.selectionsAfter.map(r.jT.fromJSON))}static fromTransaction(e,t){let n=L;for(let t of e.startState.facet(b)){let r=t(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new D(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,L)}static selection(e){return new D(void 0,L,void 0,void 0,e)}}function O(e,t,n,r){let i=e.slice(t+1>n+20?t-n-1:0,t);return i.push(r),i}function C(e,t){return e.length?t.length?e.concat(t):e:t}let L=[];function j(e,t){if(!e.length)return[D.selection([t])];{let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),O(e,e.length-1,1e9,n.setSelAfter(r)))}}function W(e,t){if(!e.length)return e;let n=e.length,i=L;for(;n;){let o=function(e,t,n){let i=C(e.selectionsAfter.length?e.selectionsAfter.map(e=>e.map(t)):L,n);if(!e.changes)return D.selection(i);let o=e.changes.map(t),l=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(l):l;return new D(o,r.Py.mapEffects(e.effects,t),s,e.startSelection.map(l),i)}(e[n-1],t,i);if(o.changes&&!o.changes.empty||o.effects.length){let t=e.slice(0,n);return t[n-1]=o,t}t=o.mapped,n--,i=o.selectionsAfter}return i.length?[D.selection(i)]:L}let q=/^(input\.type|delete)($|\.)/;class I{constructor(e,t,n=0,r){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new I(this.done,this.undone):this}addChanges(e,t,n,r,i){var o,l;let s,a,c=this.done,h=c[c.length-1];return new I(c=h&&h.changes&&!h.changes.empty&&e.changes&&(!n||q.test(n))&&(!h.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(i,(o=h.changes,l=e.changes,s=[],a=!1,o.iterChangedRanges((e,t)=>s.push(e,t)),l.iterChangedRanges((e,t,n,r)=>{for(let e=0;e<s.length;){let t=s[e++],i=s[e++];r>=t&&n<=i&&(a=!0)}}),a))||"input.type.compose"==n)?O(c,c.length-1,r.minDepth,new D(e.changes.compose(h.changes),C(e.effects,h.effects),h.mapped,h.startSelection,L)):O(c,c.length,r.minDepth,e),L,t,n)}addSelection(e,t,n,r){var i;let o=this.done.length?this.done[this.done.length-1].selectionsAfter:L;return o.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(i=o[o.length-1]).ranges.length==e.ranges.length&&0===i.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length?this:new I(j(this.done,e),this.undone,t,n)}addMapping(e){return new I(W(this.done,e),W(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=0==e?this.done:this.undone;if(0==r.length)return null;let i=r[r.length-1],o=i.selectionsAfter[0]||t.selection;if(n&&i.selectionsAfter.length){let n,l;return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:v.of({side:e,rest:(n=r[r.length-1],(l=r.slice())[r.length-1]=n.setSelAfter(n.selectionsAfter.slice(0,n.selectionsAfter.length-1)),l),selection:o}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0})}if(!i.changes)return null;{let n=1==r.length?L:r.slice(0,r.length-1);return i.mapped&&(n=W(n,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:v.of({side:e,rest:n,selection:o}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}}}function B(e,t){return r.jT.create(e.ranges.map(t),e.mainIndex)}function R(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function P({state:e,dispatch:t},n){let r=B(e.selection,n);return!r.eq(e.selection)&&(t(R(e,r)),!0)}function N(e,t){return r.jT.cursor(t?e.to:e.from)}function F(e,t){return P(e,n=>n.empty?e.moveByChar(n,t):N(n,t))}function $(e){return e.textDirectionAt(e.state.selection.main.head)==i.Nm.LTR}I.empty=new I(L,L);let V=e=>F(e,!$(e)),Z=e=>F(e,$(e)),z=e=>F(e,!0),J=e=>F(e,!1);function _(e,t){return P(e,n=>n.empty?e.moveByGroup(n,t):N(n,t))}let K=e=>_(e,!$(e)),G=e=>_(e,$(e));function H(e,t){return P(e,n=>{if(!n.empty)return N(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)})}"undefined"!=typeof Intl&&Intl.Segmenter;let U=e=>H(e,!1),Y=e=>H(e,!0);function Q(e){let t=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,n=0,r=0,o;if(t){for(let t of e.state.facet(i.tk.scrollMargins)){let i=t(e);(null==i?void 0:i.top)&&(n=Math.max(null==i?void 0:i.top,n)),(null==i?void 0:i.bottom)&&(r=Math.max(null==i?void 0:i.bottom,r))}o=e.scrollDOM.clientHeight-n-r}else o=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:t,height:Math.max(e.defaultLineHeight,o-5)}}function X(e,t){let n,r=Q(e),{state:o}=e,l=B(o.selection,n=>n.empty?e.moveVertically(n,t,r.height):N(n,t));if(l.eq(o.selection))return!1;if(r.selfScroll){let t=e.coordsAtPos(o.selection.main.head),s=e.scrollDOM.getBoundingClientRect(),a=s.top+r.marginTop,c=s.bottom-r.marginBottom;t&&t.top>a&&t.bottom<c&&(n=i.tk.scrollIntoView(l.main.head,{y:"start",yMargin:t.top-a}))}return e.dispatch(R(o,l),{effects:n}),!0}let ee=e=>X(e,!1),et=e=>X(e,!0);function en(e,t,n){let i=e.lineBlockAt(t.head),o=e.moveToLineBoundary(t,n);if(o.head==t.head&&o.head!=(n?i.to:i.from)&&(o=e.moveToLineBoundary(t,n,!1)),!n&&o.head==i.from&&i.length){let n=/^\s*/.exec(e.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;n&&t.head!=i.from+n&&(o=r.jT.cursor(i.from+n))}return o}let er=e=>P(e,t=>en(e,t,!0)),ei=e=>P(e,t=>en(e,t,!1)),eo=e=>P(e,t=>r.jT.cursor(e.lineBlockAt(t.head).from,1)),el=e=>P(e,t=>r.jT.cursor(e.lineBlockAt(t.head).to,-1)),es=({state:e,dispatch:t})=>{let n,i;return n=!1,i=B(e.selection,t=>{let i=(0,o.Um)(e,t.head,-1)||(0,o.Um)(e,t.head,1)||t.head>0&&(0,o.Um)(e,t.head-1,1)||t.head<e.doc.length&&(0,o.Um)(e,t.head+1,-1);if(!i||!i.end)return t;n=!0;let l=i.start.from==t.head?i.end.to:i.end.from;return r.jT.cursor(l)}),!!n&&(t(R(e,i)),!0)};function ea(e,t){let n=B(e.state.selection,e=>{let n=t(e);return r.jT.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)});return!n.eq(e.state.selection)&&(e.dispatch(R(e.state,n)),!0)}function ec(e,t){return ea(e,n=>e.moveByChar(n,t))}let eh=e=>ec(e,!$(e)),eu=e=>ec(e,$(e)),ef=e=>ec(e,!0),ed=e=>ec(e,!1);function em(e,t){return ea(e,n=>e.moveByGroup(n,t))}let ep=e=>em(e,!$(e)),eg=e=>em(e,$(e)),ev=e=>em(e,!0),ey=e=>em(e,!1);function eb(e,t){return ea(e,n=>e.moveVertically(n,t))}let ex=e=>eb(e,!1),ew=e=>eb(e,!0);function ek(e,t){return ea(e,n=>e.moveVertically(n,t,Q(e).height))}let eS=e=>ek(e,!1),eA=e=>ek(e,!0),eM=e=>ea(e,t=>en(e,t,!0)),eE=e=>ea(e,t=>en(e,t,!1)),eT=e=>ea(e,t=>r.jT.cursor(e.lineBlockAt(t.head).from)),eD=e=>ea(e,t=>r.jT.cursor(e.lineBlockAt(t.head).to)),eO=({state:e,dispatch:t})=>(t(R(e,{anchor:0})),!0),eC=({state:e,dispatch:t})=>(t(R(e,{anchor:e.doc.length})),!0),eL=({state:e,dispatch:t})=>(t(R(e,{anchor:e.selection.main.anchor,head:0})),!0),ej=({state:e,dispatch:t})=>(t(R(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0),eW=({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0),eq=({state:e,dispatch:t})=>{let n=eG(e).map(({from:t,to:n})=>r.jT.range(t,Math.min(n+1,e.doc.length)));return t(e.update({selection:r.jT.create(n),userEvent:"select"})),!0},eI=({state:e,dispatch:t})=>{let n=e.selection,i=null;return n.ranges.length>1?i=r.jT.create([n.main]):n.main.empty||(i=r.jT.create([r.jT.cursor(n.main.head)])),!!i&&(t(R(e,i)),!0)};function eB(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:o}=e,l=o.changeByRange(i=>{let{from:o,to:l}=i;if(o==l){let r=t(i);r<o?(n="delete.backward",r=eR(e,r,!1)):r>o&&(n="delete.forward",r=eR(e,r,!0)),o=Math.min(o,r),l=Math.max(l,r)}else o=eR(e,o,!1),l=eR(e,l,!0);return o==l?{range:i}:{changes:{from:o,to:l},range:r.jT.cursor(o,o<i.head?-1:1)}});return!l.changes.empty&&(e.dispatch(o.update(l,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?i.tk.announce.of(o.phrase("Selection deleted")):void 0})),!0)}function eR(e,t,n){if(e instanceof i.tk)for(let r of e.state.facet(i.tk.atomicRanges).map(t=>t(e)))r.between(t,t,(e,r)=>{e<t&&r>t&&(t=n?r:e)});return t}let eP=(e,t)=>eB(e,n=>{let i=n.from,{state:l}=e,s=l.doc.lineAt(i),a,c;if(!t&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if("	"==a[a.length-1])return i-1;let e=(0,r.IS)(a,l.tabSize)%(0,o.y1)(l)||(0,o.y1)(l);for(let t=0;t<e&&" "==a[a.length-1-t];t++)i--;c=i}else(c=(0,r.cp)(s.text,i-s.from,t,t)+s.from)==i&&s.number!=(t?l.doc.lines:1)?c+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(s.text.slice(c-s.from,i-s.from))&&(c=(0,r.cp)(s.text,c-s.from,!1,!1)+s.from);return c}),eN=e=>eP(e,!1),eF=e=>eP(e,!0),e$=(e,t)=>eB(e,n=>{let i=n.head,{state:o}=e,l=o.doc.lineAt(i),s=o.charCategorizer(i);for(let e=null;;){if(i==(t?l.to:l.from)){i==n.head&&l.number!=(t?o.doc.lines:1)&&(i+=t?1:-1);break}let a=(0,r.cp)(l.text,i-l.from,t)+l.from,c=l.text.slice(Math.min(i,a)-l.from,Math.max(i,a)-l.from),h=s(c);if(null!=e&&h!=e)break;(" "!=c||i!=n.head)&&(e=h),i=a}return i}),eV=e=>e$(e,!1),eZ=e=>e$(e,!0),ez=e=>eB(e,t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),eJ=e=>eB(e,t=>{let n=e.lineBlockAt(t.head).from;return t.head>n?n:Math.max(0,t.head-1)}),e_=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:r.xv.of(["",""])},range:r.jT.cursor(e.from)}));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},eK=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,i=e.doc.lineAt(n),o=n==i.from?n-1:(0,r.cp)(i.text,n-i.from,!1)+i.from,l=n==i.to?n+1:(0,r.cp)(i.text,n-i.from,!0)+i.from;return{changes:{from:o,to:l,insert:e.doc.slice(n,l).append(e.doc.slice(o,n))},range:r.jT.cursor(l)}});return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function eG(e){let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),o=e.doc.lineAt(r.to);if(r.empty||r.to!=o.from||(o=e.doc.lineAt(r.to-1)),n>=i.number){let e=t[t.length-1];e.to=o.to,e.ranges.push(r)}else t.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return t}function eH(e,t,n){if(e.readOnly)return!1;let i=[],o=[];for(let t of eG(e)){if(n?t.to==e.doc.length:0==t.from)continue;let l=e.doc.lineAt(n?t.to+1:t.from-1),s=l.length+1;if(n)for(let n of(i.push({from:t.to,to:l.to},{from:t.from,insert:l.text+e.lineBreak}),t.ranges))o.push(r.jT.range(Math.min(e.doc.length,n.anchor+s),Math.min(e.doc.length,n.head+s)));else for(let n of(i.push({from:l.from,to:t.from},{from:t.to,insert:e.lineBreak+l.text}),t.ranges))o.push(r.jT.range(n.anchor-s,n.head-s))}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:r.jT.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}let eU=({state:e,dispatch:t})=>eH(e,t,!1),eY=({state:e,dispatch:t})=>eH(e,t,!0);function eQ(e,t,n){if(e.readOnly)return!1;let r=[];for(let t of eG(e))n?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}let eX=({state:e,dispatch:t})=>eQ(e,t,!1),e0=({state:e,dispatch:t})=>eQ(e,t,!0),e1=e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(eG(t).map(({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n}))),r=B(t.selection,t=>e.moveVertically(t,!0)).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0},e2=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(t=>{let{from:n,to:i}=t,s=e.doc.lineAt(n),a=n==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n=(0,o.qz)(e).resolveInner(t),r=n.childBefore(t),i=n.childAfter(t),s;return r&&i&&r.to<=t&&i.from>=t&&(s=r.type.prop(l.md.closedBy))&&s.indexOf(i.name)>-1&&e.doc.lineAt(r.to).from==e.doc.lineAt(i.from).from&&!/\S/.test(e.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}(e,n),c=new o.Gn(e,{simulateBreak:n,simulateDoubleBreak:!!a}),h=(0,o.K0)(c,n);for(null==h&&(h=(0,r.IS)(/^\s*/.exec(e.doc.lineAt(n).text)[0],e.tabSize));i<s.to&&/\s/.test(s.text[i-s.from]);)i++;a?{from:n,to:i}=a:n>s.from&&n<s.from+100&&!/\S/.test(s.text.slice(0,n))&&(n=s.from);let u=["",(0,o.SS)(e,h)];return a&&u.push((0,o.SS)(e,c.lineIndent(s.from,-1))),{changes:{from:n,to:i,insert:r.xv.of(u)},range:r.jT.cursor(n+1+u[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0};function e3(e,t){let n=-1;return e.changeByRange(i=>{let o=[];for(let r=i.from;r<=i.to;){let l=e.doc.lineAt(r);l.number>n&&(i.empty||i.to>l.from)&&(t(l,o,i),n=l.number),r=l.to+1}let l=e.changes(o);return{changes:o,range:r.jT.range(l.mapPos(i.anchor,1),l.mapPos(i.head,1))}})}let e4=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new o.Gn(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),i=e3(e,(t,i,l)=>{let s=(0,o.K0)(r,t.from);if(null==s)return;/\S/.test(t.text)||(s=0);let a=/^\s*/.exec(t.text)[0],c=(0,o.SS)(e,s);(a!=c||l.from<t.from+a.length)&&(n[t.from]=s,i.push({from:t.from,to:t.from+a.length,insert:c}))});return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0},e8=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(e3(e,(t,n)=>{n.push({from:t.from,insert:e.facet(o.c)})}),{userEvent:"input.indent"})),!0),e5=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(e3(e,(t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let l=(0,r.IS)(i,e.tabSize),s=0,a=(0,o.SS)(e,Math.max(0,l-(0,o.y1)(e)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;n.push({from:t.from+s,to:t.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0)},34880:function(e,t,n){n.d(t,{Ep:function(){return z},Jb:function(){return j},K9:function(){return ee},N$:function(){return es},Zg:function(){return h},a7:function(){return Y},g:function(){return U},i3:function(){return Q},ko:function(){return et},nx:function(){return el},ql:function(){return F},rJ:function(){return O},sW:function(){return k},tm:function(){return X},uP:function(){return Z},yC:function(){return L},zo:function(){return y}});var r=n(38265),i=n(84357),o=n(40780);let l="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class s{constructor(e,t,n=0,r=e.length,i,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=i?e=>i(l(e)):l,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return -1;this.bufferPos=0,this.buffer=this.iter.value}return(0,i.gm)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=(0,i.bg)(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,i.nZ)(e);let r=this.normalize(t);for(let e=0,i=n;;e++){let o=r.charCodeAt(e),l=this.match(o,i);if(e==r.length-1){if(l)return this.value=l,this;break}i==n&&e<t.length&&t.charCodeAt(e)==o&&i++}}}match(e,t){let n=null;for(let r=0;r<this.matches.length;r+=2){let i=this.matches[r],o=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}"undefined"!=typeof Symbol&&(s.prototype[Symbol.iterator]=function(){return this});let a={from:-1,to:-1,match:/.*/.exec("")},c="gm"+(null==/x/.unicode?"":"u");class h{constructor(e,t,n,r=0,i=e.length){if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=a,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new d(e,t,n,r,i);this.re=new RegExp(t,c+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=m(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=m(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}let u=new WeakMap;class f{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=u.get(e);if(!r||r.from>=n||r.to<=t){let r=new f(t,e.sliceString(t,n));return u.set(e,r),r}if(r.from==t&&r.to==n)return r;let{text:i,from:o}=r;return o>t&&(i=e.sliceString(t,o)+i,o=t),r.to<n&&(i+=e.sliceString(r.to,n)),u.set(e,new f(o,i)),new f(t,i.slice(t-o,n-o))}}class d{constructor(e,t,n,r,i){this.text=e,this.to=i,this.done=!1,this.value=a,this.matchPos=m(e,r),this.re=new RegExp(t,c+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=f.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=m(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=f.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function m(e,t){if(t>=e.length)return t;let n=e.lineAt(t),r;for(;t<n.to&&(r=n.text.charCodeAt(t-n.from))>=56320&&r<57344;)t++;return t}function p(e){let t=String(e.state.doc.lineAt(e.state.selection.main.head).number),n=(0,o.Z)("input",{class:"cm-textfield",name:"line",value:t});function l(){let t=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!t)return;let{state:o}=e,l=o.doc.lineAt(o.selection.main.head),[,s,a,c,h]=t,u=c?+c.slice(1):0,f=a?+a:l.number;if(a&&h){let e=f/100;s&&(e=e*("-"==s?-1:1)+l.number/o.doc.lines),f=Math.round(o.doc.lines*e)}else a&&s&&(f=f*("-"==s?-1:1)+l.number);let d=o.doc.line(Math.max(1,Math.min(o.doc.lines,f))),m=i.jT.cursor(d.from+Math.max(0,Math.min(u,d.length)));e.dispatch({effects:[g.of(!1),r.tk.scrollIntoView(m.from,{y:"center"})],selection:m}),e.focus()}return{dom:(0,o.Z)("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:g.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),l())},onsubmit:e=>{e.preventDefault(),l()}},(0,o.Z)("label",e.state.phrase("Go to line"),": ",n)," ",(0,o.Z)("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(h.prototype[Symbol.iterator]=d.prototype[Symbol.iterator]=function(){return this});let g=i.Py.define(),v=i.QQ.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(g)&&(e=n.value);return e},provide:e=>r.mH.from(e,e=>e?p:null)}),y=e=>{let t=(0,r.Sd)(e,p);if(!t){let n=[g.of(!0)];null==e.state.field(v,!1)&&n.push(i.Py.appendConfig.of([v,b])),e.dispatch({effects:n}),t=(0,r.Sd)(e,p)}return t&&t.dom.querySelector("input").select(),!0},b=r.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),x={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},w=i.r$.define({combine:e=>(0,i.BO)(e,x,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function k(e){let t=[T,E];return e&&t.push(w.of(e)),t}let S=r.p.mark({class:"cm-selectionMatch"}),A=r.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function M(e,t,n,r){return(0==n||e(t.sliceDoc(n-1,n))!=i.D0.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=i.D0.Word)}let E=r.lg.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(w),{state:n}=e,o=n.selection;if(o.ranges.length>1)return r.p.none;let l=o.main,a,c=null;if(l.empty){if(!t.highlightWordAroundCursor)return r.p.none;let e=n.wordAt(l.head);if(!e)return r.p.none;c=n.charCategorizer(l.head),a=n.sliceDoc(e.from,e.to)}else{let e=l.to-l.from;if(e<t.minSelectionLength||e>200)return r.p.none;if(t.wholeWords){var h,u,f;if(a=n.sliceDoc(l.from,l.to),!(M(c=n.charCategorizer(l.head),n,l.from,l.to)&&(h=c,u=l.from,f=l.to,h(n.sliceDoc(u,u+1))==i.D0.Word&&h(n.sliceDoc(f-1,f))==i.D0.Word)))return r.p.none}else if(!(a=n.sliceDoc(l.from,l.to).trim()))return r.p.none}let d=[];for(let i of e.visibleRanges){let e=new s(n.doc,a,i.from,i.to);for(;!e.next().done;){let{from:i,to:o}=e.value;if((!c||M(c,n,i,o))&&(l.empty&&i<=l.from&&o>=l.to?d.push(A.range(i,o)):(i>=l.to||o<=l.from)&&d.push(S.range(i,o)),d.length>t.maxMatches))return r.p.none}}return r.p.set(d)}},{decorations:e=>e.decorations}),T=r.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),D=({state:e,dispatch:t})=>{let{selection:n}=e,r=i.jT.create(n.ranges.map(t=>e.wordAt(t.head)||i.jT.cursor(t.head)),n.mainIndex);return!r.eq(n)&&(t(e.update({selection:r})),!0)},O=({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some(e=>e.from===e.to))return D({state:e,dispatch:t});let o=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some(t=>e.sliceDoc(t.from,t.to)!=o))return!1;let l=function(e,t){let{main:n,ranges:r}=e.selection,i=e.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let n=!1,i=new s(e.doc,t,r[r.length-1].to);;)if(i.next(),i.done){if(n)return null;i=new s(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),n=!0}else{if(n&&r.some(e=>e.from==i.value.from))continue;if(o){let t=e.wordAt(i.value.from);if(!t||t.from!=i.value.from||t.to!=i.value.to)continue}return i.value}}(e,o);return!!l&&(t(e.update({selection:e.selection.addRange(i.jT.range(l.from,l.to),!1),effects:r.tk.scrollIntoView(l.to)})),!0)},C=i.r$.define({combine:e=>(0,i.BO)(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new ea(e),scrollToMatch:e=>r.tk.scrollIntoView(e)})});function L(e){return e?[C.of(e),ed]:ed}class j{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,c),!0}catch(e){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new N(this):new I(this)}getCursor(e,t=0,n){let r=e.doc?e:i.yy.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?B(this,r,t,n):q(this,r,t,n)}}class W{constructor(e){this.spec=e}}function q(e,t,n,r){var o,l;return new s(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?(o=t.doc,l=t.charCategorizer(t.selection.main.head),(e,t,n,r)=>((r>e||r+n.length<t)&&(r=Math.max(0,e-2),n=o.sliceString(r,Math.min(o.length,t+2))),(l(R(n,e-r))!=i.D0.Word||l(P(n,e-r))!=i.D0.Word)&&(l(P(n,t-r))!=i.D0.Word||l(R(n,t-r))!=i.D0.Word))):void 0)}class I extends W{constructor(e){super(e)}nextMatch(e,t,n){let r=q(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=q(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let n=Math.max(t,r-1e4-this.spec.unquoted.length),i=q(this.spec,e,n,r),o=null;for(;!i.nextOverlapping().done;)o=i.value;if(o)return o;if(n==t)return null;r-=1e4}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=q(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=q(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}function B(e,t,n,r){var o;return new h(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(o=t.charCategorizer(t.selection.main.head),(e,t,n)=>!n[0].length||(o(R(n.input,n.index))!=i.D0.Word||o(P(n.input,n.index))!=i.D0.Word)&&(o(P(n.input,n.index+n[0].length))!=i.D0.Word||o(R(n.input,n.index+n[0].length))!=i.D0.Word)):void 0},n,r)}function R(e,t){return e.slice((0,i.cp)(e,t,!1),t)}function P(e,t){return e.slice(t,(0,i.cp)(e,t))}class N extends W{nextMatch(e,t,n){let r=B(this.spec,e,n,e.doc.length).next();return r.done&&(r=B(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let i=Math.max(t,n-1e4*r),o=B(this.spec,e,i,n),l=null;for(;!o.next().done;)l=o.value;if(l&&(i==t||l.from>i+10))return l;if(i==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,n)=>"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t)}matchAll(e,t){let n=B(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let i=B(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!i.next().done;)r(i.value.from,i.value.to)}}let F=i.Py.define(),$=i.Py.define(),V=i.QQ.define({create:e=>new J(er(e).create(),null),update(e,t){for(let n of t.effects)n.is(F)?e=new J(n.value.create(),e.panel):n.is($)&&(e=new J(e.query,n.value?en:null));return e},provide:e=>r.mH.from(e,e=>e.panel)});function Z(e){let t=e.field(V,!1);return t?t.query.spec:er(e)}function z(e){var t;return(null===(t=e.field(V,!1))||void 0===t?void 0:t.panel)!=null}class J{constructor(e,t){this.query=e,this.panel=t}}let _=r.p.mark({class:"cm-searchMatch"}),K=r.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),G=r.lg.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(V))}update(e){let t=e.state.field(V);(t!=e.startState.field(V)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return r.p.none;let{view:n}=this,o=new i.f_;for(let t=0,r=n.visibleRanges,i=r.length;t<i;t++){let{from:l,to:s}=r[t];for(;t<i-1&&s>r[t+1].from-500;)s=r[++t].to;e.highlight(n.state,l,s,(e,t)=>{let r=n.state.selection.ranges.some(n=>n.from==e&&n.to==t);o.add(e,t,r?K:_)})}return o.finish()}},{decorations:e=>e.decorations});function H(e){return t=>{let n=t.state.field(V,!1);return n&&n.query.spec.valid?e(t,n):el(t)}}let U=H((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let o=i.jT.single(r.from,r.to),l=e.state.facet(C);return e.dispatch({selection:o,effects:[eu(e,r),l.scrollToMatch(o.main,e)],userEvent:"select.search"}),eo(e),!0}),Y=H((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,o=t.prevMatch(n,r,r);if(!o)return!1;let l=i.jT.single(o.from,o.to),s=e.state.facet(C);return e.dispatch({selection:l,effects:[eu(e,o),s.scrollToMatch(l.main,e)],userEvent:"select.search"}),eo(e),!0}),Q=H((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!!n&&!!n.length&&(e.dispatch({selection:i.jT.create(n.map(e=>i.jT.range(e.from,e.to))),userEvent:"select.search.matches"}),!0)}),X=({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:o}=n.main,l=[],a=0;for(let t=new s(e.doc,e.sliceDoc(r,o));!t.next().done;){if(l.length>1e3)return!1;t.value.from==r&&(a=l.length),l.push(i.jT.range(t.value.from,t.value.to))}return t(e.update({selection:i.jT.create(l,a),userEvent:"select.search.matches"})),!0},ee=H((e,{query:t})=>{let{state:n}=e,{from:o,to:l}=n.selection.main;if(n.readOnly)return!1;let s=t.nextMatch(n,o,o);if(!s)return!1;let a=[],c,h,u=[];if(s.from==o&&s.to==l&&(h=n.toText(t.getReplacement(s)),a.push({from:s.from,to:s.to,insert:h}),s=t.nextMatch(n,s.from,s.to),u.push(r.tk.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(o).number)+"."))),s){let t=0==a.length||a[0].from>=s.to?0:s.to-s.from-h.length;c=i.jT.single(s.from-t,s.to-t),u.push(eu(e,s)),u.push(n.facet(C).scrollToMatch(c.main,e))}return e.dispatch({changes:a,selection:c,effects:u,userEvent:"input.replace"}),!0}),et=H((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map(e=>{let{from:n,to:r}=e;return{from:n,to:r,insert:t.getReplacement(e)}});if(!n.length)return!1;let i=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:r.tk.announce.of(i),userEvent:"input.replace.all"}),!0});function en(e){return e.state.facet(C).createPanel(e)}function er(e,t){var n,r,i,o,l;let s=e.selection.main,a=s.empty||s.to>s.from+100?"":e.sliceDoc(s.from,s.to);if(t&&!a)return t;let c=e.facet(C);return new j({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:c.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(i=null==t?void 0:t.literal)&&void 0!==i?i:c.literal,regexp:null!==(o=null==t?void 0:t.regexp)&&void 0!==o?o:c.regexp,wholeWord:null!==(l=null==t?void 0:t.wholeWord)&&void 0!==l?l:c.wholeWord})}function ei(e){let t=(0,r.Sd)(e,en);return t&&t.dom.querySelector("[main-field]")}function eo(e){let t=ei(e);t&&t==e.root.activeElement&&t.select()}let el=e=>{let t=e.state.field(V,!1);if(t&&t.panel){let n=ei(e);if(n&&n!=e.root.activeElement){let r=er(e.state,t.query.spec);r.valid&&e.dispatch({effects:F.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[$.of(!0),t?F.of(er(e.state,t.query.spec)):i.Py.appendConfig.of(ed)]});return!0},es=e=>{let t=e.state.field(V,!1);if(!t||!t.panel)return!1;let n=(0,r.Sd)(e,en);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:$.of(!1)}),!0};class ea{constructor(e){this.view=e;let t=this.query=e.state.field(V).query.spec;function n(e,t,n){return(0,o.Z)("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=(0,o.Z)("input",{value:t.search,placeholder:ec(e,"Find"),"aria-label":ec(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=(0,o.Z)("input",{value:t.replace,placeholder:ec(e,"Replace"),"aria-label":ec(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=(0,o.Z)("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=(0,o.Z)("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=(0,o.Z)("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=(0,o.Z)("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",()=>U(e),[ec(e,"next")]),n("prev",()=>Y(e),[ec(e,"previous")]),n("select",()=>Q(e),[ec(e,"all")]),(0,o.Z)("label",null,[this.caseField,ec(e,"match case")]),(0,o.Z)("label",null,[this.reField,ec(e,"regexp")]),(0,o.Z)("label",null,[this.wordField,ec(e,"by word")]),...e.state.readOnly?[]:[(0,o.Z)("br"),this.replaceField,n("replace",()=>ee(e),[ec(e,"replace")]),n("replaceAll",()=>et(e),[ec(e,"replace all")])],(0,o.Z)("button",{name:"close",onclick:()=>es(e),"aria-label":ec(e,"close"),type:"button"},["\xd7"])])}commit(){let e=new j({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:F.of(e)}))}keydown(e){(0,r.$1)(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Y:U)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),ee(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(F)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(C).top}}function ec(e,t){return e.state.phrase(t)}let eh=/[\s\.,:;?!]/;function eu(e,{from:t,to:n}){let i=e.state.doc.lineAt(t),o=e.state.doc.lineAt(n).to,l=Math.max(i.from,t-30),s=Math.min(o,n+30),a=e.state.sliceDoc(l,s);if(l!=i.from){for(let e=0;e<30;e++)if(!eh.test(a[e+1])&&eh.test(a[e])){a=a.slice(e);break}}if(s!=o){for(let e=a.length-1;e>a.length-30;e--)if(!eh.test(a[e-1])&&eh.test(a[e])){a=a.slice(0,e);break}}return r.tk.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${i.number}.`)}let ef=r.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),ed=[V,i.Wl.low(G),ef]},23556:function(e,t,n){n.d(t,{C:function(){return f}});var r=n(74633),i=n(84357),o=n(38265);function l(e){let t=e.selection.main.head;return e.doc.lineAt(t)}function s(e,t){let n=0;e:for(let r=0;r<e.length;r++)switch(e[r]){case" ":n+=1;continue;case"	":n+=t-n%t;continue;case"\r":continue;default:break e}return n}let a=i.r$.define({combine:e=>(0,i.BO)(e,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})});class c{constructor(e,t,n,r){for(let i of(this.lines=e,this.state=t,this.map=new Map,this.unitWidth=n,this.markerType=r,this.lines))this.add(i);this.state.facet(a).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has("number"==typeof e?e:e.number)}get(e){let t=this.map.get("number"==typeof e?e:e.number);if(!t)throw Error("Line not found in indentation map");return t}set(e,t,n){let r=!e.text.trim().length,i={line:e,col:t,level:n,empty:r};return this.map.set(i.line.number,i),i}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(1===e.number)return this.set(e,0,0);if(e.number===this.state.doc.lines){let t=this.closestNonEmpty(e,-1);return this.set(e,0,t.level)}let t=this.closestNonEmpty(e,-1),n=this.closestNonEmpty(e,1);return t.level>=n.level&&"codeOnly"!==this.markerType?this.set(e,0,t.level):t.empty&&0===t.level&&0!==n.level?this.set(e,0,0):n.level>t.level?this.set(e,0,t.level+1):this.set(e,0,n.level)}let t=s(e.text,this.state.tabSize),n=Math.floor(t/this.unitWidth);return this.set(e,t,n)}closestNonEmpty(e,t){let n=e.number+t;for(;-1===t?n>=1:n<=this.state.doc.lines;){if(this.has(n)){let e=this.get(n);if(!e.empty)return e}let e=this.state.doc.line(n);if(e.text.trim().length){let t=s(e.text,this.state.tabSize),n=Math.floor(t/this.unitWidth);return this.set(e,t,n)}n+=t}let r=this.state.doc.line(-1===t?1:this.state.doc.lines);return this.set(r,0,0)}findAndSetActiveLines(){let e,t;let n=l(this.state);if(!this.has(n))return;let r=this.get(n);if(this.has(r.line.number+1)){let e=this.get(r.line.number+1);e.level>r.level&&(r=e)}if(this.has(r.line.number-1)){let e=this.get(r.line.number-1);e.level>r.level&&(r=e)}if(0!==r.level){for(r.active=r.level,e=r.line.number;e>1;e--){if(!this.has(e-1))continue;let t=this.get(e-1);if(t.level<r.level)break;t.active=r.level}for(t=r.line.number;t<this.state.doc.lines;t++){if(!this.has(t+1))continue;let e=this.get(t+1);if(e.level<r.level)break;e.active=r.level}}}}function h(e,t,n,r,i){let o=`repeating-linear-gradient(to right, var(${e}) 0 ${t}px, transparent ${t}px ${n}ch)`;return`${o} ${r*n}.5ch/calc(${n*i}ch - 1px) no-repeat`}class u{constructor(e){this.view=e,this.unitWidth=(0,r.y1)(e.state),this.currentLineNumber=l(e.state).number,this.generate(e.state)}update(e){let t=(0,r.y1)(e.state),n=t!==this.unitWidth;n&&(this.unitWidth=t);let i=l(e.state).number,o=i!==this.currentLineNumber;this.currentLineNumber=i;let s=e.state.facet(a).highlightActiveBlock&&o;(e.docChanged||e.viewportChanged||n||s)&&this.generate(e.state)}generate(e){let t=new i.f_,n=function(e,t=e.state){let n=new Set;for(let{from:r,to:i}of e.visibleRanges){let e=r;for(;e<=i;){let r=t.doc.lineAt(e);n.has(r)||n.add(r),e=r.to+1}}return n}(this.view,e),{hideFirstIndent:r,markerType:l,thickness:s}=e.facet(a),u=new c(n,e,this.unitWidth,l);for(let e of n){let n=u.get(e.number);if(!(null==n?void 0:n.level))continue;let i=function(e,t,n,r){let{level:i,active:o}=e;if(n&&0===i)return[];let l=n?1:0,s=[];if(void 0!==o){let e=o-l-1;e>0&&s.push(h("--indent-marker-bg-color",r,t,l,e)),s.push(h("--indent-marker-active-bg-color",r,t,o-1,1)),o!==i&&s.push(h("--indent-marker-bg-color",r,t,o,i-o))}else s.push(h("--indent-marker-bg-color",r,t,l,i-l));return s.join(",")}(n,this.unitWidth,r,s);t.add(e.from,e.from,o.p.line({class:"cm-indent-markers",attributes:{style:`--indent-markers: ${i}`}}))}this.decorations=t.finish()}}function f(e={}){return[a.of(e),function(e){let t={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"},n=t;return e&&(n=Object.assign(Object.assign({},t),e)),o.tk.baseTheme({"&light":{"--indent-marker-bg-color":n.light,"--indent-marker-active-bg-color":n.activeLight},"&dark":{"--indent-marker-bg-color":n.dark,"--indent-marker-active-bg-color":n.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})}(e.colors),o.lg.fromClass(u,{decorations:e=>e.decorations})]}}}]);
//# sourceMappingURL=3421-ea8f24e02d81f762.js.map