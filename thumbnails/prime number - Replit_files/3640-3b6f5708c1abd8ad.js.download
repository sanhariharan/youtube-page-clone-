!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d476016a-07cb-46fb-9125-3d1b5a47ac9a",e._sentryDebugIdIdentifier="sentry-dbid-d476016a-07cb-46fb-9125-3d1b5a47ac9a")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d103cf55"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3640],{45454:function(e,t,r){var n=r(8182),i=r(56596),o=r(29287),l=r(93918),a=r(1498),c=r(22326),h=(0,l.X)({containerStretch:[o.l0.rowWithGap(1),o.l0.flex.growAndShrink(1)],containerShrink:o.l0.rowWithGap(1),ctaStretch:[o.l0.borderRadius(8,0,0,8),o.l0.flex.growAndShrink(1)],ctaShrink:o.l0.borderRadius(8,0,0,8),count:o.l0.borderRadius(0,8,8,0)});t.Z=function(e){return(0,n.BX)(i.G,{css:[e.stretch?h.containerStretch:h.containerShrink,e.css],children:[(0,n.tZ)(a.zx,{colorway:e.colorway,iconLeft:e.icon,stretch:e.stretch,onClick:e.onClick,text:e.text,css:e.stretch?h.ctaStretch:h.ctaShrink}),(0,n.tZ)(a.zx,{colorway:e.colorway,onClick:e.onCountClick,text:(0,c.d)(e.count),css:h.count})]})}},52141:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(45903),i=r(93295),o=r(23982),l=r(56750),a=r(77393);function c(){var e=(0,i._)(["\n  query PublicForks(\n    $replId: String!\n    $count: Int!\n    $after: String\n    $search: String\n  ) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        publicForkCount\n        releasesForkCount\n        publishedAs\n        publicForks(count: $count, after: $after, search: $search) {\n          items {\n            id\n            ...ReplPostReplCardRepl\n          }\n          pageInfo {\n            nextCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var h={},d=(0,o.Ps)(c(),l.n);function s(e){var t;return t=(0,n._)({},h,{variables:e}),a.a(d,t)}},38637:function(e,t,r){r.d(t,{M:function(){return o}});var n=r(93295);function i(){var e=(0,n._)(["\n  fragment PostsFeedNavTag on Tag {\n    id\n    isOfficial\n  }\n"]);return i=function(){return e},e}var o=(0,r(23982).Ps)(i())},33687:function(e,t,r){r.d(t,{b:function(){return a}});var n=r(93295),i=r(23982),o=r(78747);function l(){var e=(0,n._)(["\n  fragment ReplPostRecentCommentUser on User {\n    id\n    username\n    image\n    ...UserLinkUser\n  }\n  ","\n"]);return l=function(){return e},e}var a=(0,i.Ps)(l(),o._)},56750:function(e,t,r){r.d(t,{n:function(){return d}});var n=r(93295),i=r(23982),o=r(80357),l=r(40306),a=r(65967),c=r(38637);function h(){var e=(0,n._)(["\n  fragment ReplPostReplCardRepl on Repl {\n    id\n    iconUrl\n    description(plainText: true)\n    ...ReplPostReplInfoRepl\n    ...ReplStatsRepl\n    ...ReplLinkRepl\n    tags {\n      id\n      ...PostsFeedNavTag\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}var d=(0,i.Ps)(h(),o.Zs,l.T,a.Y,c.M)},80357:function(e,t,r){r.d(t,{Gz:function(){return g},U5:function(){return m},Zs:function(){return x},f_:function(){return w},rP:function(){return v}});var n=r(93295),i=r(23982),o=r(73931),l=r(50335),a=r(3174),c=r(40306),h=r(38637),d=r(33687);function s(){var e=(0,n._)(["\n  fragment ReplPostReplInfoRepl on Repl {\n    id\n    title\n    description(plainText: true)\n    imageUrl\n    iconUrl\n    templateInfo {\n      label\n      iconUrl\n    }\n  }\n"]);return s=function(){return e},e}function u(){var e=(0,n._)(["\n  fragment ReplPostRepl on Repl {\n    id\n    ...ReplPostReplInfoRepl\n    ...LikeButtonRepl\n    ...ReplStatsRepl\n    tags {\n      id\n      ...PostsFeedNavTag\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return u=function(){return e},e}function y(){var e=(0,n._)(["\n  fragment ReplPostReplComment on ReplComment {\n    id\n    body\n    timeCreated\n    user {\n      id\n      ...ReplPostRecentCommentUser\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function f(){var e=(0,n._)(["\n  fragment ReplPostPost on Post {\n    id\n    title\n    timeCreated\n    isPinned\n    isAnnouncement\n    ...ReplViewPostActionPermissions\n    replComment {\n      id\n      body(removeMarkdown: true)\n    }\n    repl {\n      id\n      ...ReplViewReplActionsPermissions\n      ...ReplPostRepl\n    }\n    user {\n      id\n      ...ReplPostUserPostUser\n    }\n    recentReplComments {\n      id\n      ...ReplPostReplComment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function p(){var e=(0,n._)(["\n  fragment ReplPostCurrentUser on CurrentUser {\n    id\n    ...LikeButtonCurrentUser\n    ...ReplViewReplActionsCurrentUser\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}var x=(0,i.Ps)(s()),w=(0,i.Ps)(u(),x,a.R7,c.T,h.M),g=(0,i.Ps)(y(),d.b),m=(0,i.Ps)(f(),o.K4,o.jN,w,l.n,g),v=(0,i.Ps)(p(),a.wO,o.o3)},40306:function(e,t,r){r.d(t,{T:function(){return o}});var n=r(93295);function i(){var e=(0,n._)(["\n  fragment ReplStatsRepl on Repl {\n    id\n    likeCount\n    publicForkCount\n    commentCount\n  }\n"]);return i=function(){return e},e}var o=(0,r(23982).Ps)(i())},50335:function(e,t,r){r.d(t,{n:function(){return a}});var n=r(93295),i=r(23982),o=r(78747);function l(){var e=(0,n._)(["\n  fragment ReplPostUserPostUser on User {\n    id\n    username\n    image\n    ...UserLinkUser\n  }\n  ","\n"]);return l=function(){return e},e}var a=(0,i.Ps)(l(),o._)},14943:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(8182);r(43429);var i=r(68333);function o(e){var t=e.children,r=e.className,o=e.useRemarkGfm;return(0,n.tZ)(i.ZP,{background:!1,skipHtml:!0,mentionsLink:!0,unwrapDisallowed:!0,lineBreaks:!0,className:r,useRemarkGfm:o,children:t})}},97489:function(e,t,r){r.d(t,{Z:function(){return x}});var n=r(45903),i=r(25e3),o=r(21289),l=r(8182);r(43429);var a=r(74833),c=r(56596),h=r(29287),d=r(1498),s=r(73157),u=r(4618),y=r(38080),f=r(52141),p=r(75582);function x(e){var t=e.replId,r=(0,f.Z)({replId:t,count:10}),x=r.data,w=r.fetchMore,g=r.loading,m=(null==x?void 0:x.repl.__typename)==="Repl"?x.repl:null;if(!m)return(0,l.tZ)(c.G,{css:[h.l0.colWithGap(8)],children:(0,l.tZ)(c.G,{children:g?(0,l.tZ)(a.xv,{color:"dimmest",variant:"subheadDefault",multiline:!1,children:"Loading forks..."}):null})});var v=m.publishedAs===p.O2.Template,Z=m.publicForks,b=v?m.releasesForkCount:m.publicForkCount,R=Z.items.length||0;return(0,l.BX)(c.G,{css:[h.l0.colWithGap(8)],children:[(0,l.BX)(c.G,{children:[null!==b?(0,l.BX)(c.G,{css:[h.l0.colWithGap(12)],children:[(0,l.BX)(c.G,{css:[h.l0.display.block],children:[(0,l.tZ)(a.xv,{variant:"subheadDefault",multiline:!1,children:b})," ",(0,l.BX)(a.xv,{color:"dimmest",variant:"subheadDefault",multiline:!1,children:[(0,s.Z)("forks",b),b!==R?" total":null]})]}),b>0&&R>0?(0,l.tZ)(a.xv,{variant:"subheadBig",multiline:!1,children:"Public forks"}):null,b>0&&0===R?(0,l.tZ)(a.xv,{variant:"subheadBig",multiline:!1,children:"No public forks"}):null]}):null,g?(0,l.tZ)(a.xv,{color:"dimmest",variant:"subheadDefault",multiline:!1,children:"Loading forks..."}):null]}),(0,l.BX)(c.G,{css:[h.l0.flex.growAndShrink(1),h.l0.colWithGap(24)],children:[(0,l.tZ)(c.G,{css:[{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:h.TV.space16,gridAutoFlow:"dense"}],children:Z?Z.items.map(function(e){return(0,l.tZ)(y.Tg,{background:"default",css:[h.l0.borderRadius(8)],children:(0,l.tZ)(u.ZP,{showOwner:!0,repl:e})},e.id)}):null}),(null==Z?void 0:Z.pageInfo.nextCursor)?(0,l.tZ)(d.zx,{disabled:g,text:g?"Loading...":"Load more",onClick:function(){g||w({variables:{after:Z.pageInfo.nextCursor},updateQuery:function(e,t){if(!t||!t.fetchMoreResult)return e;var r="Repl"===e.repl.__typename?e.repl:null;if(!r)return e;var l=t.fetchMoreResult,a="Repl"===l.repl.__typename?l.repl:null;return a?(0,i._)((0,n._)({},l),{repl:(0,i._)((0,n._)({},a),{publicForks:(0,i._)((0,n._)({},a.publicForks),{items:(0,o._)(r.publicForks.items).concat((0,o._)(a.publicForks.items))})})}):e}})}}):null]})]})}},28593:function(e,t,r){r.d(t,{Z:function(){return z}});var n,i=r(8182),o=r(94450),l=r.n(o),a=r(43429),c=r(19659),h=r(61601),d=r(41500),s=r(29479).j.tabletMin,u=r(34142),y=r(45903),f=r(87682),p=r(96546),x=r.n(p),w=r(70671),g=(n=(0,u._)(function(){return(0,f.Jh)(this,function(e){return[2,Promise.all([r.e(6655),r.e(7070)]).then(r.t.bind(r,17070,23)).then(function(e){return e.Excalidraw})]})}),function(){return n.apply(this,arguments)}),m=x()(g,{ssr:!1,loading:function(){return null}});function v(e){var t=e.contents,r=e.key,n={scrollToContent:!0};try{n=(0,y._)({},n,JSON.parse(t||"{}"))}catch(e){}var o=(0,w.F)().isDarkColorScheme;return(0,i.BX)("div",{className:"jsx-a3a0d25f100f396c excalidraw-repl-view-wrapper",children:[(0,i.tZ)(m,{viewModeEnabled:!0,initialData:n,theme:o?"dark":"light"}),(0,i.tZ)(l(),{id:"a3a0d25f100f396c",children:".excalidraw-repl-view-wrapper{cursor:all-scroll;height:100%;width:100%}.excalidraw-repl-view-wrapper .excalidraw .App-toolbar-content{display:none}"})]},r)}var Z=r(65667),b=r.n(Z),R=r(11774);function k(e){var t=e.contents,r=e.isKbmsprite,n=a.useRef(null);return a.useEffect(function(){var e=n.current;if(e){e.width=e.offsetWidth,e.height=e.offsetHeight;var i=JSON.parse(t),o=b()({canvas:e,data:r?(0,R.C)(i):i,readonly:!0});return function(){o.cleanUp()}}},[t,r]),(0,i.tZ)("canvas",{ref:n,className:"jsx-93826966b3fae22 pedit",children:(0,i.tZ)(l(),{id:"93826966b3fae22",children:".pedit.jsx-93826966b3fae22{width:100%;height:100%}"})})}var _=r(32477),C=r(41792);function P(e,t){return(0,y._)({},e,t)}var S={isLoading:!1,result:null,error:null,fileViewerType:null},U=r(96179),E=r(56596),I=r(29287),V=r(51384),T=(0,V.F4)({"0%":{opacity:0},"100%":{opacity:.5}}),N=(0,V.iv)({overflow:"hidden",height:"100%",width:"100%","> svg":{opacity:0,animation:"".concat(T," 200ms 250ms linear forwards"),height:"100%","@media (prefers-reduced-motion: reduce)":{animationDuration:"0ms",animationDelay:"400ms"}}});function F(){var e=(0,a.useId)();return(0,i.tZ)(E.G,{css:N,children:(0,i.BX)(U.Z,{speed:2,backgroundColor:I.TV.backgroundHighest,foregroundColor:I.TV.backgroundHigher,uniqueKey:e,children:[(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"0",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"0",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"0",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"280",y:"0",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"420",y:"0",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"476",y:"0",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"20",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"20",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"20",width:"192",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"328",y:"20",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"384",y:"20",width:"312",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"40",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"40",width:"0",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"60",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"60",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"80",y:"60",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"124",y:"60",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"180",y:"60",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"60",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"352",y:"60",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"408",y:"60",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"440",y:"60",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"532",y:"60",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"600",y:"60",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"644",y:"60",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"80",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"80",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"92",y:"80",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"148",y:"80",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"180",y:"80",width:"108",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"296",y:"80",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"364",y:"80",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"396",y:"80",width:"108",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"100",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"100",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"116",y:"100",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"256",y:"100",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"276",y:"100",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"120",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"120",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"120",width:"96",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"268",y:"120",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"336",y:"120",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"140",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"140",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"140",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"256",y:"140",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"324",y:"140",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"464",y:"140",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"532",y:"140",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"600",y:"140",width:"156",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"160",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"160",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"160",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"304",y:"160",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"372",y:"160",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"180",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"180",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"200",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"200",width:"0",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"220",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"220",width:"96",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"152",y:"220",width:"264",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"424",y:"220",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"240",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"240",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"116",y:"240",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"196",y:"240",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"216",y:"240",width:"312",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"260",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"260",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"260",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"136",y:"260",width:"120",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"264",y:"260",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"344",y:"260",width:"120",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"472",y:"260",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"564",y:"260",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"608",y:"260",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"280",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"280",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"280",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"136",y:"280",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"168",y:"280",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"224",y:"280",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"304",y:"280",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"348",y:"280",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"440",y:"280",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"508",y:"280",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"564",y:"280",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"300",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"300",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"104",y:"300",width:"216",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"328",y:"300",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"360",y:"300",width:"96",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"464",y:"300",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"544",y:"300",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"320",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"320",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"152",y:"320",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"340",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"340",width:"60",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"340",width:"72",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"244",y:"340",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"264",y:"340",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"404",y:"340",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"424",y:"340",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"360",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"360",width:"96",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"200",y:"360",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"380",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"380",width:"108",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"380",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"400",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"400",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"420",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"420",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"440",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"440",width:"0",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"460",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"460",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"92",y:"460",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"148",y:"460",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"168",y:"460",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"460",width:"144",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"480",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"480",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"128",y:"480",width:"36",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"172",y:"480",width:"48",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"228",y:"480",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"248",y:"480",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"500",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"500",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"212",y:"500",width:"12",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"520",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"520",width:"132",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"540",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"96",y:"540",width:"300",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"404",y:"540",width:"204",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"560",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"560",width:"24",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"580",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"72",y:"580",width:"84",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"164",y:"580",width:"156",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"0",y:"600",width:"32",height:"15"}),(0,i.tZ)("rect",{rx:"2",ry:"2",x:"48",y:"600",width:"24",height:"15"})]})})}var D=r(70322),L=r(20142),A=r(81013),j=r(25632);function B(e){var t=e.code,r=e.fontSize,n=e.hideGutter,o=(0,j.Gn)("indentSize","wrapping").preferences;return(0,i.tZ)("code",{css:[I.l0.p(4),I.l0.pl(4),I.l0.pr(2),!n&&I.l0.pl(64),I.l0.font.code,I.l0.fontSize(r||I.TV.fontSizeDefault),{lineHeight:I.TV.lineHeightSmall,overflowX:"auto",tabSize:o.indentSize},o.wrapping?{wordBreak:"break-word",whiteSpace:"break-spaces",overflowWrap:"anywhere"}:{whiteSpace:"pre"}],children:t})}function G(e){var t=e.code,r=(0,D._)(e,["code"]),n=(0,_._)(a.useState(!1),2),o=n[0],l=n[1],c=(0,A.Z)(),h=c.ref,d=c.view;a.useEffect(function(){if(d)return l(!0),function(){return l(!1)}},[d]),a.useEffect(function(){d&&d.dispatch({changes:{from:0,to:d.state.doc.length,insert:t}})},[t,d]);var s=!o;return(0,i.BX)(i.HY,{children:[(0,i.tZ)(L.ZP,(0,y._)({ref:h,css:{height:s?0:"auto"},initialDoc:t,readOnly:!0},r)),s&&(0,i.tZ)(B,(0,y._)({code:t},r))]})}var O=r(36102);function z(e){var t,r,n,o,u,y,f=e.fs,p=e.deeplink,x=null==p?void 0:p.path,w=(r=(t={fs:f,path:x}).fs,n=t.path,u=(o=(0,_._)(a.useReducer(P,S),2))[0],y=o[1],a.useEffect(function(){if(!n){y(S);return}var e=!1,t=(0,C.V)(n);return y({isLoading:!0,fileViewerType:t}),r.readFile(n).then(function(r){if(!e){if(r.error){y({isLoading:!1,result:null,error:{path:n,fileViewerType:t,error:r.error}});return}y({isLoading:!1,result:{path:n,fileViewerType:t,content:r.content},error:null})}}),function(){e=!0}},[r,n]),u);return(0,i.BX)("div",{className:l().dynamic([["e668265632fa90a1",[s]]])+" file-viewer",children:[(0,i.BX)("div",{className:l().dynamic([["e668265632fa90a1",[s]]])+" content",children:[!w.isLoading&&w.result&&w.result.fileViewerType===C.D.Media?(0,i.tZ)("div",{className:l().dynamic([["e668265632fa90a1",[s]]])+" media",children:(0,i.tZ)(h.A,{content:d.Z.from(w.result.content).toString("base64"),mime:(0,c.yC)(w.result.path)})}):null,w.isLoading&&w.fileViewerType===C.D.Media?(0,i.tZ)("div",{className:l().dynamic([["e668265632fa90a1",[s]]])+" file-loader",children:(0,i.tZ)(F,{})}):null,!w.isLoading&&w.result&&w.result.fileViewerType===C.D.Markdown?(0,i.tZ)("div",{className:l().dynamic([["e668265632fa90a1",[s]]])+" markdown",children:(0,i.tZ)(O.Z,{path:w.result.path,source:w.result.content.toString(),fs:f,sourcePos:!1})}):null,w.isLoading&&w.fileViewerType===C.D.Markdown?(0,i.tZ)("div",{className:l().dynamic([["e668265632fa90a1",[s]]])+" file-loader",children:(0,i.tZ)(F,{})}):null,!w.isLoading&&w.result&&w.result.fileViewerType===C.D.Draw?(0,i.tZ)("div",{className:l().dynamic([["e668265632fa90a1",[s]]])+" draw",children:(0,i.tZ)(v,{contents:w.result.content.toString()},w.result.path)}):null,w.isLoading&&w.fileViewerType===C.D.Draw?(0,i.tZ)("div",{className:l().dynamic([["e668265632fa90a1",[s]]])+" file-loader",children:(0,i.tZ)(F,{})}):null,!w.isLoading&&w.result&&w.result.fileViewerType===C.D.Code?(0,i.tZ)(G,{filePath:w.result.path,code:w.result.content.toString(),fontSize:14}):null,w.isLoading&&w.fileViewerType===C.D.Code?(0,i.tZ)("div",{className:l().dynamic([["e668265632fa90a1",[s]]])+" file-loader",children:(0,i.tZ)(F,{})}):null,!w.isLoading&&w.result&&w.result.fileViewerType===C.D.Pedit?(0,i.tZ)(k,{contents:w.result.content.toString(),isKbmsprite:!!(null==x?void 0:x.endsWith(".kbmsprite"))}):null,!w.isLoading&&w.error?(0,i.tZ)("div",{className:l().dynamic([["e668265632fa90a1",[s]]])+" error",children:(0,i.BX)("div",{className:l().dynamic([["e668265632fa90a1",[s]]]),children:["Could not load ",w.error.path]})}):null]}),(0,i.tZ)(l(),{id:"e668265632fa90a1",dynamic:[s],children:".file-viewer.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;align:stretch;height:100%;width:100%}.markdown.__jsx-style-dynamic-selector{word-break:break-word;max-width:840px;margin:0 auto;padding:var(--space-16);overflow-y:auto;position:relative;height:100%}.draw.__jsx-style-dynamic-selector{height:100%;width:100%}.file-tree.__jsx-style-dynamic-selector{background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);overflow:auto;display:none}.content.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:100%;height:100%;overflow-y:auto;position:relative}.file-loader.__jsx-style-dynamic-selector{width:100%;padding:var(--space-16);position:absolute;top:0;left:0;z-index:100;opacity:0;-webkit-animation:fadeIn ease 0s forwards;-moz-animation:fadeIn ease 0s forwards;-o-animation:fadeIn ease 0s forwards;animation:fadeIn ease 0s forwards;-webkit-animation-delay:200ms;-moz-animation-delay:200ms;-o-animation-delay:200ms;animation-delay:200ms}.media.__jsx-style-dynamic-selector,.error.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-moz-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-o-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@media screen and (min-width:".concat(s,"px){.file-tree.__jsx-style-dynamic-selector{display:block;width:260px}}")})]})}},32147:function(e,t,r){r.d(t,{Q:function(){return s},r:function(){return u}});var n=r(93295),i=r(23982),o=r(23855),l=r(75605),a=r(3174),c=r(80428);function h(){var e=(0,n._)(["\n  fragment ReplViewReplViewerRepl on Repl {\n    id\n    publishedAs\n    runCount\n    publicForkCount\n    releasesForkCount\n    prodUrl: hostedUrl(dotty: true)\n    isProject\n    nextPagePathname\n    lang {\n      id\n      header\n      displayName\n    }\n    ...ReplViewerOutputOverlayRepl\n    ...UseReplViewerRepl\n    ...LikeButtonRepl\n  }\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}function d(){var e=(0,n._)(["\n  fragment ReplViewReplViewerCurrentUser on CurrentUser {\n    id\n    ...LikeButtonCurrentUser\n    ...CrosisContextCurrentUser\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}var s=(0,i.Ps)(h(),o.sI,l.gh,a.R7),u=(0,i.Ps)(d(),a.wO,c.D)},75605:function(e,t,r){r.d(t,{gh:function(){return s},yo:function(){return y}});var n=r(45903),i=r(93295),o=r(23982),l=r(80428),a=r(72986);function c(){var e=(0,i._)(["\n  fragment UseReplViewerRepl on Repl {\n    id\n    previewUrl: hostedUrl(dotty: false, dev: false)\n    url\n    wasPosted\n    wasPublished\n    publishedAs\n    isProject\n    lang {\n      id\n      canUseShellRunner\n    }\n    config {\n      isServer\n      isVnc\n    }\n    deployment {\n      id\n      activeRelease {\n        id\n        previewUrl: hostedUrl\n      }\n    }\n    replViewSettings {\n      id\n      defaultView\n      replFile\n    }\n    ...CrosisContextRepl\n  }\n  ","\n"]);return c=function(){return e},e}function h(){var e=(0,i._)(["\n  mutation UserReplViewCreateReplRun($replId: String!) {\n    createReplRun(replId: $replId) {\n      ... on Repl {\n        id\n        runCount\n      }\n    }\n  }\n"]);return h=function(){return e},e}var d={},s=(0,o.Ps)(c(),l.C),u=(0,o.Ps)(h());function y(e){var t=(0,n._)({},d,e);return a.D(u,t)}},9310:function(e,t,r){r.d(t,{G:function(){return i},Z:function(){return N}});var n,i,o=r(34142),l=r(32477),a=r(87682),c=r(43429),h=r(75582),d=r(75605),s=r(38806),u=r(47001),y=r(18107),f=r(84800),p=r(33829),x=r(85492),w=r(90487),g=r(24418),m=r(23015),v=r(10653),Z=r(56158),b=r(35375),R=r(59868),k=r(45123),_=r(30084),C=".lesson/lessonplan.md",P=r(94106),S=r(63009),U=r(55534),E=r(44161),I=r(35273),V=r(30173),T=r(25425);function N(e){var t,r,n,i,N,F,D,L,A,j,B,G,O,z,M,X,W,$,H,J,Y,q=e.currentUser,K=e.repl,Q=e.initialViewMode,ee=e.enableDeeplinks,et=(0,l._)((0,c.useState)(null),2),er=et[0],en=et[1],ei=(0,l._)((0,S.qg)(),2),eo=ei[0],el=ei[1],ea=(0,S.ic)(),ec=(0,l._)((0,c.useState)(u.em.DISCONNECTED),2),eh=ec[0],ed=ec[1],es=(0,U.Z)().showError,eu=(0,T.P5)({controlName:"flag-dot-dev-url",logFlagToAnalytics:!1}),ey=(0,l._)((0,c.useState)(y.Ah.OFFLINE),2),ef=ey[0],ep=ey[1],ex=(0,l._)((0,c.useState)(function(){var e,t,r,n,i,l,c,h,d,s,y,f,R;return t=(e={onUnrecoverableError:(0,E.Z)({origin:"replView: useReplViewer/services/onUnrecoverableError",onNonBsodUnrecoverableError:function(e){en(e)},throwBsod:el}),dotdevUrlEnabled:eu}).onUnrecoverableError,r=e.dotdevUrlEnabled,n=(0,u.ZP)({onUnrecoverableError:t}),i=(0,p.Z)({container:n}),l=(0,g.Z)({container:n,fs:i}),c=(0,m.Z)({container:n,dotReplit:l}),h=(0,w.Z)({container:n}),d=(0,b.TE)({container:n,dotReplit:l,dotdevUrlEnabled:r,enableBetterPortHandling:!1}),s=(0,o._)(function(){var e,t,r,n,i,o,l,d;return(0,a.Jh)(this,function(a){switch(a.label){case 0:return[4,c.getConfigs()];case 1:if(!(null==(e=a.sent())?void 0:e.packagers))return[3,9];t=!0,r=!1,n=void 0,a.label=2;case 2:a.trys.push([2,7,8,9]),i=e.packagers[Symbol.iterator](),a.label=3;case 3:if(t=(o=i.next()).done)return[3,6];if(!(l=o.value).guessImports)return[3,5];return[4,h.installPackages(v.D.active(),l.id)];case 4:a.sent(),a.label=5;case 5:return t=!0,[3,3];case 6:return[3,9];case 7:return d=a.sent(),r=!0,n=d,[3,9];case 8:try{t||null==i.return||i.return()}finally{if(r)throw n}return[7];case 9:return[2]}})}),y=function(){return s.apply(this,arguments)},f=(0,Z.Z)({container:n,beforeRun:y}),R=(0,x.Z)({container:n,toolchain:c,mode:"outputs",beforeRun:y,packager:h,debuggest:f}),{container:n,fs:i,runner:R,dotReplit:l,packager:h,toolchain:c,ports:d}}),1)[0],ew=ex.container,eg=ex.fs,em=ex.dotReplit,ev=ex.runner,eZ=ex.packager,eb=ex.toolchain,eR=ex.ports,ek=(0,c.useRef)((0,s.u9)()),e_=(null===(J=K.replViewSettings)||void 0===J?void 0:J.defaultView)===h.dZ.ReplFile&&K.replViewSettings.replFile?K.replViewSettings.replFile:void 0,eC={type:"Readme"};K.isProject?eC={type:"LessonPlan"}:e_&&(eC={type:"FilePath",path:e_});var eP="Code"===Q||ek.current||e_||(null===(Y=K.replViewSettings)||void 0===Y?void 0:Y.defaultView)!==h.dZ.ReplImage&&(K.publishedAs===h.O2.Template||K.isProject),eS=(0,l._)((0,c.useState)(function(){return eP?{type:"code",fs:eg,container:ew,dotReplit:em}:null}),2),eU=eS[0],eE=eS[1],eI=(0,l._)((0,c.useState)(ek.current),2),eV=eI[0],eT=eI[1],eN=(0,l._)(c.useState(null),2),eF=eN[0],eD=eN[1];(0,I.Z)(function(){(null==eU?void 0:eU.type)==="code"&&(0,R.j)(R.U3.COVER_PAGE_SOURCE_VIEWED)},[null==eU?void 0:eU.type]);var eL=!!((null==eU?void 0:eU.type)==="code"&&!eU.deeplink&&!ek.current),eA=(r=(t={fs:eg,dotReplit:em,preferredFile:eC,skip:!eL}).fs,n=t.dotReplit,i=t.skip,N=t.preferredFile,D=(F=(0,l._)(c.useState(null),2))[0],L=F[1],c.useEffect(function(){if(!i){var e=!1;return Promise.all([(0,k.W)({dotReplit:n,fs:r}),(null==N?void 0:N.type)==="LessonPlan"?r.stat(C):null,(null==N?void 0:N.type)==="FilePath"?r.stat(N.path):null]).then(function(t){var r=(0,l._)(t,3),n=r[0],i=n.entrypoint,o=n.readmeFile,a=r[1],c=r[2];if(!e){if((null==N?void 0:N.type)==="LessonPlan"&&a&&a.exists&&a.type===_.Tv.File){L(C);return}if((null==N?void 0:N.type)==="FilePath"&&c&&c.exists&&c.type===_.Tv.File){L(N.path);return}if((null==N?void 0:N.type)==="Readme"&&o){L(o);return}i&&L(i)}}),function(){e=!0}}},[r,n,i,N]),D);j=(A={fs:eg,currentDeeplink:(null==eU?void 0:eU.type)==="code"?eU.deeplink:void 0,onChange:function(e){eP||e?eE({deeplink:null!=e?e:void 0,type:"code",container:ew,fs:eg,dotReplit:em}):eE(null)},enabled:ee}).currentDeeplink,B=A.onChange,G=A.fs,O=A.enabled,z=(0,c.useRef)(!1),M=(0,P.useRouter)(),X=(0,c.useCallback)((0,o._)(function(){var e,t,r,n;return(0,a.Jh)(this,function(i){switch(i.label){case 0:if(z.current)return[2];return[4,(0,s.mv)(G)];case 1:if(t=(e=i.sent()).path,r=e.line,n=e.col,!t)return B(null),[2];return B({path:t,line:r,col:n}),[2]}})}),[G,B]),$=(W=(0,l._)((0,c.useState)(!1),2))[0],H=W[1],(0,c.useEffect)(function(){$||X().then(function(){return H(!0)})}),(0,c.useEffect)(function(){if(O)return window.addEventListener("hashchange",X),function(){window.removeEventListener("hashchange",X)}},[O,X]),(0,c.useEffect)(function(){if(O&&j&&M.isReady){var e=(0,s.YM)(j),t=M.asPath;try{t=window.decodeURI(t)}catch(e){}if(!t.endsWith(e)){var r=M.asPath.includes("#")?M.asPath.slice(0,M.asPath.indexOf("#")):M.asPath;z.current=!0,M.replace({pathname:M.pathname,query:M.query},"".concat(r).concat(e),{shallow:!0}),z.current=!1}}},[G,j,O]);var ej=(0,l._)((0,d.yo)({variables:{replId:K.id}}),1)[0];(0,c.useEffect)(function(){if((0,s.u9)()){var e=!1;return(0,s.mv)(eg).then(function(t){var r=t.path,n=t.line,i=t.col;!e&&r&&eE({type:"code",container:ew,fs:eg,dotReplit:em,deeplink:{path:r,line:n,col:i}})}),function(){e=!0}}},[ew,eg,em]),(0,c.useEffect)(function(){eL&&eA&&eE({type:"code",container:ew,fs:eg,dotReplit:em,deeplink:{path:eA}})},[eL,eA,ew,eg,em]),(0,c.useEffect)(function(){if(eF){if("server"===eF){eE({type:"server",previewUrl:K.previewUrl});return}eE({type:"vnc",container:ew,fs:eg})}},[ew,eg,eF,K.previewUrl]),(0,c.useEffect)(function(){eh!==u.em.CONNECTED&&eD(null)},[eh]);var eB=(0,f.b)({repl:K,currentUser:q}),eG=!!["html","web_project","kaboom"].includes(K.lang.id)||!!K.config.isServer,eO=eV||!!(eU&&("code"===eU.type||"vnc"===eU.type||"terminal"===eU.type)),ez=(0,V.S)();(0,c.useEffect)(function(){if(eO&&eB&&ew.getConnectionState()===u.em.DISCONNECTED){ew.connect({context:eB,getMinimumRetryDelayMs:ez});var e=eG?[ew.close]:[ev.onStateChanged(ep),ew.onConnectionStateChanged(ed),ew.onPortOpened(function(e){var t=e.isVnc;e.isForwarded&&eD(t?"vnc":"server")}),ew.close];return function(){e.forEach(function(e){return e()})}}},[eO,ew,ev,eB,eG]);var eM=(0,c.useRef)(!1);return(0,c.useEffect)(function(){function e(){return(e=(0,o._)(function(){var e,t;return(0,a.Jh)(this,function(r){switch(r.label){case 0:if(ef!==y.Ah.IDLE||!eM.current||(eM.current=!1,(null==eU?void 0:eU.type)!=="terminal"))return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ev.run()];case 2:return r.sent(),[3,4];case 3:if((t=(e=r.sent()).toString()).includes("Cannot run while state is not IDLE or STOPPING, got state: ".concat(y.Ah.OFFLINE)))t="You are offline. Please check your internet connection.";else throw e;return es(t),[3,4];case 4:return[2]}})})).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[ef,eU,ev,es]),{fs:eg,dotReplit:em,openFile:function(e){(null==eU?void 0:eU.type)==="server"&&ep(y.Ah.IDLE),eE({type:"code",container:ew,fs:eg,deeplink:e,dotReplit:em}),ev.getRunState()===y.Ah.RUNNING&&ev.stopRun()},viewState:eU,runRepl:function(){if(eT(!1),q&&ej(),(0,R.j)(R.U3.REACTED_TO_REPL,{replView:"https://replit.com"+K.url,reaction:"repl_ran",isReplTalk:!1,item:"repl",isCommunityPublish:K.wasPosted,isAppPublish:K.wasPublished}),eG){var e,t;eE({type:"server",previewUrl:(null===(t=K.deployment)||void 0===t?void 0:null===(e=t.activeRelease)||void 0===e?void 0:e.previewUrl)||K.previewUrl}),ep(y.Ah.RUNNING);return}if(K.lang.canUseShellRunner){if("server"===eF?eE({type:"server",previewUrl:K.previewUrl}):"vnc"===eF?eE({type:"vnc",container:ew,fs:eg}):eE({type:"terminal",runner:ev,packager:eZ}),ev.getRunState()!==y.Ah.IDLE){eM.current=!0;return}ev.run();return}eE({type:"deprecationNotice"})},stopRepl:function(){eE(null),eT(!1),ep(y.Ah.IDLE),eG||ev.getRunState()!==y.Ah.RUNNING||ev.stopRun()},runState:ef,isFileTreeOpen:eV,setIsFileTreeOpen:eT,bsodId:null==eo?void 0:eo.eventId,nonBsodUnrecoverableError:er,showUrlOutput:eG,connectionState:eh,toolchain:eb,ports:eR,devClearBsod:function(){ea()}}}(n=i||(i={})).Code="Code",n.Output="Output"},86442:function(e,t,r){r.d(t,{A:function(){return h}});var n=r(93295),i=r(23982),o=r(65967);function l(){var e=(0,n._)(["\n  fragment ReplViewSourceRepl on Repl {\n    id\n    iconUrl\n    title\n    templateLabel\n    ...ReplLinkRepl\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function a(){var e=(0,n._)(["\n  fragment ReplViewFooterRepl on Repl {\n    id\n    description\n    lastPublishedAt\n    timeCreated\n    publishedAs\n    runCount\n    publicForkCount\n    deployment {\n      id\n      activeRelease {\n        id\n        timeCreated\n      }\n    }\n    owner {\n      ... on Team {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n      ... on User {\n        id\n        username\n        url\n        image\n        followerCount\n        isFollowedByCurrentUser\n      }\n    }\n    source {\n      release {\n        id\n      }\n      deployment {\n        id\n        repl {\n          id\n          ...ReplViewSourceRepl\n        }\n      }\n    }\n    tags {\n      id\n    }\n    origin {\n      id\n      ...ReplViewSourceRepl\n    }\n  }\n  ","\n"]);return a=function(){return e},e}var c=(0,i.Ps)(l(),o.Y),h=(0,i.Ps)(a(),c)}}]);
//# sourceMappingURL=3640-3b6f5708c1abd8ad.js.map