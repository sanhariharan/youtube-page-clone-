!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="65b3aa66-77fa-4e10-a9b4-a16e414110bc",e._sentryDebugIdIdentifier="sentry-dbid-65b3aa66-77fa-4e10-a9b4-a16e414110bc")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d103cf55"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2858],{72858:function(e,n,t){t.d(n,{Z:function(){return tz}});var r,o,i,l=t(39698),a=t(32477),s=t(8182),c=t(34142),u=t(87682),d=t(65614),h=t(25425),p=t(72310),m=t(26220),f=t(1498),g=t(18836),v=t(49344),y=t(48272),b=t(37951),Z=t(4070),x=t(74833),w=t(30983),C=t(56596),_=t(32377),U=t(52924),B=t(97615),S=t(53831),T=t(52682),G=t(29287),P=t(35972),I=t(75582),D=t(43429),R=t(45903),M=t(93295),k=t(23982),X=t(72986),E=t(77393);function A(){var e=(0,M._)(["\n  fragment AccountAccountCurrentUser on CurrentUser {\n    id\n    email\n    isVerified\n    verifiedPhoneNumber\n    locale\n    replContinent {\n      id\n      name\n    }\n  }\n"]);return A=function(){return e},e}function W(){var e=(0,M._)(["\n  mutation AccountUpdateEmail($email: String!, $password: String!) {\n    updateEmail(email: $email, password: $password) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function N(){var e=(0,M._)(["\n  mutation AccountUpdatePassword(\n    $currentPassword: String!\n    $newPassword: String!\n  ) {\n    updatePassword(\n      currentPassword: $currentPassword\n      newPassword: $newPassword\n    ) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n      }\n    }\n  }\n"]);return N=function(){return e},e}function V(){var e=(0,M._)(["\n  mutation AccountDeleteAccount {\n    deleteAccount\n  }\n"]);return V=function(){return e},e}function z(){var e=(0,M._)(["\n  mutation AccountSelectReplContinent($input: SelectReplContinentInput!) {\n    selectReplContinent(input: $input) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return z=function(){return e},e}function L(){var e=(0,M._)(["\n  query AccountGetAvailableReplContinents {\n    replContinents {\n      __typename\n      ... on ReplContinentsOutput {\n        continents {\n          id\n          name\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return L=function(){return e},e}var j={},Y=(0,k.Ps)(A()),q=(0,k.Ps)(W(),Y),O=(0,k.Ps)(N()),$=(0,k.Ps)(V()),F=(0,k.Ps)(z(),Y),H=(0,k.Ps)(L());function Q(){var e=(0,M._)(["\n  fragment AccountEmailSettingsCurrentUser on CurrentUser {\n    id\n    emailNotifications\n    marketingNotifications\n  }\n"]);return Q=function(){return e},e}function J(){var e=(0,M._)(["\n  mutation AccountEmailSettingsUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountEmailSettingsCurrentUser\n    }\n  }\n  ","\n"]);return J=function(){return e},e}var K={},ee=(0,k.Ps)(Q()),en=(0,k.Ps)(J(),ee),et=t(20573);function er(e){var n=e.children;return"string"!=typeof n?null:(0,s.tZ)(C.G,{css:[G.l0.align.start],children:(0,s.tZ)(b.E,{icon:(0,s.tZ)(et.Z,{}),colorway:"negative",text:n,css:[G.l0.pr(8)]})})}function eo(e){var n,t,r=e.currentUser,o=(0,a._)(D.useState(!1),2),i=o[0],l=o[1],d=(0,a._)(D.useState(!1),2),h=d[0],v=d[1],y=(0,a._)(D.useState(null),2),Z=y[0],w=y[1],B=(0,p.Y)("",m.Z.email),T=(0,p.Y)("",m.Z.password),P=(0,a._)((n=(0,R._)({},j,{onError:function(){return w("Something went wrong, try reloading the page and try again")},onCompleted:function(e){var n;(null===(n=e.updateEmail)||void 0===n?void 0:n.__typename)==="UserError"?w(e.updateEmail.message):(l(!1),v(!0),T.setValue(""))}}),X.D(q,n)),2),I=P[0],M=P[1].loading,k=(t=(0,c._)(function(e){var n,t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return e.preventDefault(),B.value&&T.value||w("Please fill in all fields"),[4,B.validate()];case 1:if(null==(n=r.sent())?void 0:n.message)return w(null==n?void 0:n.message),[2];return[4,T.validate()];case 2:if(null==(t=r.sent())?void 0:t.message)return w(null==t?void 0:t.message),[2];return I({variables:{email:B.value,password:T.value}}),[2]}})}),function(e){return t.apply(this,arguments)});return i?(0,s.tZ)("form",{onSubmit:k,children:(0,s.BX)(C.G,{css:[G.l0.colWithGap(16)],children:[(0,s.tZ)(x.h4,{level:2,css:[G.l0.fontWeight.medium],children:"Update your email"}),(0,s.BX)(C.G,{css:[G.l0.rowWithGap(16)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,s.tZ)("label",{htmlFor:"newEmail",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New email"})}),(0,s.tZ)(g.II,{id:"newEmail",placeholder:"your@email.com",onChange:function(e){return B.setValue(e.target.value)},value:B.value})]}),(0,s.BX)(C.G,{css:[G.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,s.tZ)("label",{htmlFor:"passwordConfirmation",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Password confirmation"})}),(0,s.tZ)(g.II,{id:"passwordConfirmation",type:"password",placeholder:"••••••••••••",onChange:function(e){return T.setValue(e.target.value)},value:T.value})]})]}),Z?(0,s.tZ)(er,{children:Z}):null,(0,s.BX)(C.G,{css:[G.l0.rowWithGap(12),G.l0.justify.end],children:[(0,s.tZ)(f.zx,{onClick:function(){return l(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:M,colorway:"primary",type:"submit",text:M?"Updating...":"Update",iconLeft:(0,s.tZ)(_.Z,{})})]})]})}):(0,s.BX)(C.G,{css:[G.l0.colWithGap(8)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.row,G.l0.justify.spaceBetween],children:[(0,s.BX)(C.G,{css:[G.l0.colWithGap(4)],children:[(0,s.tZ)(x.xv,{css:[G.l0.fontWeight.medium],children:"Your email"}),(0,s.tZ)(x.xv,{children:r.email})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return l(!0)},text:"Edit",iconLeft:(0,s.tZ)(U.Z,{})})]}),h?(0,s.tZ)(b.E,{colorway:"positive",icon:(0,s.tZ)(_.Z,{}),text:"Visit the verification link sent to ".concat(B.value," to complete your email change.")}):null,h||r.isVerified?null:(0,s.tZ)(b.E,{colorway:"negative",icon:(0,s.tZ)(S.Z,{}),text:"Your email is unverified! Click on the link we sent you to fix this."})]})}function ei(){var e,n=(0,a._)(D.useState(!1),2),t=n[0],r=n[1],o=(0,a._)(D.useState(!1),2),i=o[0],l=o[1],c=(0,a._)(D.useState(null),2),u=c[0],d=c[1],h=(0,p.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),m=(0,p.Y)("",function(e){if(e.length<0)return{message:"Must include password"}}),v=(0,a._)((e=(0,R._)({},j,{onError:function(){return d("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updatePassword)||void 0===n?void 0:n.__typename)==="UserError"?d(e.updatePassword.message):(d(null),r(!1),l(!0),m.setValue(""),h.setValue(""))}}),X.D(O,e)),2),y=v[0],Z=v[1].loading;return t?(0,s.tZ)("form",{onSubmit:function(e){e.preventDefault(),y({variables:{newPassword:h.value,currentPassword:m.value}})},children:(0,s.BX)(C.G,{css:[G.l0.colWithGap(16)],children:[(0,s.tZ)(x.h4,{level:2,css:[G.l0.fontWeight.medium],children:"Update your password"}),(0,s.BX)(C.G,{css:[G.l0.rowWithGap(16)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,s.tZ)("label",{htmlFor:"currentPassword",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Current password"})}),(0,s.tZ)(g.II,{id:"currentPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return m.setValue(e.target.value)},value:m.value})]}),(0,s.BX)(C.G,{css:[G.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,s.tZ)("label",{htmlFor:"newPassword",children:(0,s.tZ)(x.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New password"})}),(0,s.tZ)(g.II,{id:"newPassword",type:"password",placeholder:"••••••••••••",onChange:function(e){return h.setValue(e.target.value)},value:h.value})]})]}),u?(0,s.tZ)(er,{children:u}):null,(0,s.BX)(C.G,{css:[G.l0.rowWithGap(12),G.l0.justify.end],children:[(0,s.tZ)(f.zx,{onClick:function(){return r(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:Z,colorway:"primary",type:"submit",text:Z?"Updating...":"Update",iconLeft:(0,s.tZ)(_.Z,{})})]})]})}):(0,s.BX)(C.G,{css:[G.l0.colWithGap(8)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.row,G.l0.justify.spaceBetween],children:[(0,s.BX)(C.G,{css:[G.l0.colWithGap(4)],children:[(0,s.tZ)(x.xv,{css:[G.l0.fontWeight.medium],children:"Your password"}),(0,s.tZ)(x.xv,{children:"••••••••••••"})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return r(!0)},text:"Edit",iconLeft:(0,s.tZ)(U.Z,{})})]}),i?(0,s.tZ)(b.E,{colorway:"positive",icon:(0,s.tZ)(_.Z,{}),text:"Password updated"}):null]})}function el(e){var n,t,r,o,i,c,u=e.currentUser,d=(r={},(0,l._)(r,I.aG.Na,"North America"),(0,l._)(r,I.aG.Asia,"Asia"),r),h=(o={},(0,l._)(o,I.aG.Na,"Servers located throughout the continental United States"),(0,l._)(o,I.aG.Asia,"Servers located in Mumbai, India"),o),p=(0,a._)(D.useState(!1),2),m=p[0],g=p[1],v=(0,a._)(D.useState(!1),2),Z=v[0],S=v[1],T=(0,a._)(D.useState(null),2),P=T[0],M=T[1],k=(n=(0,R._)({},j,{}),E.a(H,n)).data,A=(null==k?void 0:k.replContinents.__typename)==="ReplContinentsOutput"?k.replContinents.continents:[],W=A.map(function(e){return{value:e.id,title:d[e.id],subtitle:h[e.id],name:e.name,taller:!0}}),N=u.replContinent,V=W.find(function(e){return e.value===N.id}),z=(0,a._)(D.useState(null!==(i=N.id)&&void 0!==i?i:I.aG.Na),2),L=z[0],Y=z[1],q=(0,a._)((t=(0,R._)({},j,{onError:function(){M("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.selectReplContinent)||void 0===n?void 0:n.__typename)==="CurrentUser"?(M(null),g(!1),S(!0)):M(e.selectReplContinent.message)}}),X.D(F,t)),2),O=q[0],$=q[1].loading,Q=(0,s.BX)(C.G,{css:[G.l0.rowWithGap(8),G.l0.align.center],children:[(0,s.tZ)(x.xv,{css:[G.l0.fontWeight.medium],children:"Your server location"}),(0,s.tZ)(w.u,{tooltip:"".concat("Where the servers running your Repls will be located. Select a server location closest to you for the best possible experience."),children:(0,s.tZ)(B.Z,{color:G.TV.foregroundDimmer})})]});return m?(0,s.tZ)("form",{onSubmit:function(e){var n;e.preventDefault(),O({variables:{input:{continent:null===(n=A.find(function(e){return e.id===L}))||void 0===n?void 0:n.id}}})},children:(0,s.BX)(C.G,{css:[G.l0.colWithGap(16)],children:[Q,(0,s.tZ)(C.G,{css:[G.l0.rowWithGap(16)],children:(0,s.tZ)(C.G,{css:[G.l0.colWithGap(4),{width:"calc(100% - 8px)"}],children:(0,s.tZ)(y.P,{placeholder:"Select your server location",initialSelectedItem:V,items:W,onChange:function(e){return Y(e.value)}})})}),P?(0,s.tZ)(er,{children:P}):null,(0,s.BX)(C.G,{css:[G.l0.rowWithGap(12),G.l0.justify.end],children:[(0,s.tZ)(f.zx,{onClick:function(){return g(!1)},text:"Cancel"}),(0,s.tZ)(f.zx,{disabled:$,colorway:"primary",type:"submit",text:$?"Updating...":"Update",iconLeft:(0,s.tZ)(_.Z,{})})]})]})}):(0,s.BX)(C.G,{css:[G.l0.colWithGap(8)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.row,G.l0.justify.spaceBetween,G.l0.align.center],children:[(0,s.BX)(C.G,{css:[G.l0.colWithGap(4)],children:[Q,(0,s.tZ)(x.xv,{children:null!==(c=null==V?void 0:V.title)&&void 0!==c?c:"..."})]}),(0,s.tZ)(f.zx,{variant:"outlined",onClick:function(){return g(!0)},text:"Edit",iconLeft:(0,s.tZ)(U.Z,{})})]}),Z?(0,s.tZ)(b.E,{colorway:"positive",icon:(0,s.tZ)(_.Z,{}),text:"Server location updated"}):null]})}function ea(){var e,n,t=(0,a._)(D.useState(!1),2),r=t[0],o=t[1],i=(0,a._)(D.useState(null),2),l=i[0],h=i[1],p=(0,a._)((e={onError:function(){return h("Something went wrong")},onCompleted:(0,c._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,d.w7)()];case 1:return e.sent(),window.location.href="/logout",[2]}})})},n=(0,R._)({},j,e),X.D($,n)),2),m=p[0],g=p[1],y=g.data,b=g.loading,Z=(null==y?void 0:y.deleteAccount)===!0;return(0,s.BX)(C.G,{css:[G.l0.colWithGap(16)],children:[(0,s.BX)(C.G,{css:[G.l0.flex.column],children:[(0,s.tZ)(x.xv,{css:[G.l0.fontWeight.medium],children:"Danger Zone"}),(0,s.tZ)(x.xv,{color:"dimmer",children:"Irreversible and destructive actions"})]}),(0,s.tZ)(f.zx,{onClick:function(){return o(!0)},colorway:"negative",variant:"outlined",text:"Request account deletion",css:{alignSelf:"flex-start"},iconLeft:(0,s.tZ)(T.Z,{})}),l?(0,s.tZ)(er,{children:l}):null,(0,s.tZ)(v.u,{isOpen:r,onRequestClose:function(){return o(!1)},children:(0,s.BX)(C.G,{css:[G.l0.colWithGap(24)],children:[(0,s.tZ)(x.h4,{variant:"headerDefault",level:2,children:"Delete Account"}),(0,s.tZ)(x.xv,{children:"All your hosted Repls and content will be taken down within 24 hours. This cannot be undone."}),(0,s.BX)(C.G,{css:[G.l0.rowWithGap(12),G.l0.justify.end],children:[(0,s.tZ)(f.zx,{text:"Cancel",disabled:b||Z,onClick:function(){return o(!1)}}),(0,s.tZ)(f.zx,{iconLeft:(0,s.tZ)(T.Z,{}),disabled:b||Z,onClick:function(){return m()},text:"Yes, Delete my Account",colorway:"negative"})]})]})})]})}function es(e){var n,t=e.currentUser,r=(0,a._)(D.useState(null),2),o=r[0],i=r[1],l=(0,a._)((n=(0,R._)({},K,{onError:function(){return i("Something went wrong")},onCompleted:function(){return i(null)}}),X.D(en,n)),2),c=l[0],u=l[1].loading;return(0,s.BX)(P.gC,{spacing:2,align:"stretch",children:[(0,s.BX)(P.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,s.BX)(C.G,{css:[G.l0.rowWithGap(4),G.l0.align.center],children:[(0,s.tZ)(x.xv,{color:"default",css:[G.l0.fontWeight.medium],children:"Receive transactional notifications via email"}),(0,s.tZ)(w.u,{tooltip:"Transactional emails can be important notifications about your deployment status, bounties chat updates, balance-related reminders, and other product-related communication that can improve the product experience.",children:(0,s.tZ)(B.Z,{color:G.TV.foregroundDimmer})})]}),(0,s.tZ)(Z.r,{isSelected:t.emailNotifications,onChange:function(){u||c({variables:{input:{emailNotifications:!t.emailNotifications}}})},"aria-labelledby":"receive-email-product-notifications"})]}),(0,s.BX)(P.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,s.BX)(C.G,{css:[G.l0.rowWithGap(4),G.l0.align.center],children:[(0,s.tZ)(x.xv,{color:"default",css:[G.l0.fontWeight.medium],children:"Receive marketing notifications"}),(0,s.tZ)(w.u,{tooltip:"Marketing emails can be about new features, products, and other updates we think can be interesting for you to know. This preference can take up to 24 hours to update.",children:(0,s.tZ)(B.Z,{color:G.TV.foregroundDimmer})})]}),(0,s.tZ)(Z.r,{isSelected:t.marketingNotifications,onChange:function(){u||c({variables:{input:{marketingNotifications:!t.marketingNotifications}}})},"aria-labelledby":"receive-marketing-notifications"})]}),o?(0,s.tZ)(er,{children:o}):null]})}function ec(e){var n=e.currentUser,t=(0,h.P5)({controlName:"select-geo-continent",logFlagToAnalytics:!1});return(0,s.BX)(C.G,{children:[(0,s.BX)(C.G,{css:[G.l0.colWithGap(24),G.l0.p(16)],children:[(0,s.tZ)(eo,{currentUser:n}),(0,s.tZ)(ei,{}),t?(0,s.tZ)(el,{currentUser:n}):null,(0,s.tZ)(es,{currentUser:n})]}),(0,s.tZ)(C.G,{css:[G.l0.border({color:G.TV.outlineDimmest,direction:"top"}),G.l0.p(16)],children:(0,s.tZ)(ea,{})})]})}var eu=t(93918),ed=(0,eu.X)({container:[G.l0.colWithGap(24),G.l0.p(16)],row:[G.l0.flex.row,G.l0.justify.spaceBetween],cell:[G.l0.colWithGap(4)],label:[G.l0.fontWeight.medium]});function eh(e){var n=e.currentUser;return(0,s.tZ)(C.G,{css:ed.container,children:(0,s.tZ)(C.G,{css:ed.row,children:(0,s.BX)(C.G,{css:ed.cell,children:[(0,s.tZ)(x.xv,{css:ed.label,children:"Your email"}),(0,s.tZ)(x.xv,{children:n.email})]})})})}var ep=t(60814),em=t(55534),ef=t(24801),eg=t(19089),ev=t(70002),ey=t(74094),eb=t(88936),eZ=t(30703),ex=t(57784);function ew(){var e=(0,M._)(["\n  fragment IsYearlyBillingCurrentUser on CurrentUser {\n    id\n    billingInfo {\n      planInfo {\n        interval\n      }\n    }\n  }\n"]);return ew=function(){return e},e}function eC(){var e=(0,M._)(['\n  fragment AccountBillingCurrentUser on CurrentUser {\n    id\n    ...IsYearlyBillingCurrentUser\n    userSubscription {\n      isTrial\n      timeRemainingInTrial\n    }\n    billingInfo {\n      planInfo {\n        provider\n        amount\n        description\n        nextPaymentDue\n        interval\n        cancelAt\n        coupon {\n          percent\n          amount\n          endAt\n        }\n      }\n      expiration\n    }\n    cycles {\n      transactions(count: 1) {\n        items {\n          id\n          time_created\n        }\n      }\n    }\n    customer {\n      id\n      stripeCustomerId\n    }\n    hasUsageUtopia: gate(feature: "flag-usage-utopia")\n  }\n  ',"\n"]);return eC=function(){return e},e}function e_(){var e=(0,M._)(["\n  mutation BillingModalSetBillingPeriod($input: SetTrialBillingPeriodInput!) {\n    setTrialBillingPeriod(input: $input) {\n      __typename\n      ... on Error {\n        message\n      }\n      ... on SetTrialBillingPeriodResult {\n        currentUser {\n          id\n          ...IsYearlyBillingCurrentUser\n        }\n      }\n    }\n  }\n  ","\n"]);return e_=function(){return e},e}var eU={},eB=(0,k.Ps)(ew()),eS=(0,k.Ps)(eC(),eB),eT=(0,k.Ps)(e_(),eB),eG=(0,eu.X)({subsectionContainer:[G.l0.colWithGap(12),G.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+G.TV.outlineDimmest}}],planButtonLink:[G.l0.width("fit-content")],sectionDivider:[G.l0.width("100%"),G.l0.height(1),G.l0.backgroundColor.outlineDimmest],detailsGrid:{display:"grid",gridTemplateColumns:"96px auto",rowGap:4,columnGap:32}});function eP(e){var n,t,r,o,i=e.currentUser,l=null==i?void 0:i.hasUsageUtopia,a=null==i?void 0:null===(t=i.billingInfo)||void 0===t?void 0:null===(n=t.planInfo)||void 0===n?void 0:n.provider,c=(null==i?void 0:null===(r=i.cycles.transactions)||void 0===r?void 0:r.items.length)!=null&&(null==i?void 0:null===(o=i.cycles.transactions)||void 0===o?void 0:o.items.length)>0,u=a===I.Cs.Apple||a===I.Cs.Google?"Resource usage payment details":"Payment details";return(0,s.BX)(C.G,{children:[(0,s.BX)(C.G,{css:eG.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",children:"Your plan"}),(0,s.tZ)(eR,{currentUser:i}),l?null:(0,s.tZ)(ev.Z,{href:"/cycles",variant:"outlined",text:"See your Cycles purchases and usage",iconLeft:(0,s.tZ)(ey.Z,{}),css:eG.planButtonLink})]}),(0,s.BX)(C.G,{css:eG.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:u}),(0,s.tZ)(eg.S,{})]}),l?(0,s.BX)(C.G,{css:eG.subsectionContainer,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Cycles"}),c?(0,s.tZ)(eI,{}):(0,s.tZ)(ev.Z,{href:"/cycles",variant:"outlined",text:"Buy Cycles",iconLeft:(0,s.tZ)(ey.Z,{}),css:eG.planButtonLink})]}):null]})}function eI(){var e=(0,ep.Z)({forceFetch:!1}),n=e.formattedBalanceWithDecimals,t=e.error,r=(0,s.tZ)(x.xv,{children:"Loading balance..."});return n?r=(0,s.BX)(s.HY,{children:[(0,s.tZ)(ey.Z,{size:16,css:{marginRight:2}}),(0,s.tZ)(x.xv,{multiline:!1,children:n})]}):t&&(r=(0,s.tZ)(b.E,{icon:(0,s.tZ)(et.Z,{}),colorway:"warning",text:"Unable to load your balance. Try refreshing the page."})),(0,s.BX)(C.G,{children:[(0,s.tZ)(C.G,{css:[G.l0.flex.row,G.l0.align.center,G.l0.pb(8)],children:r}),(0,s.tZ)(ev.Z,{href:"/cycles",variant:"outlined",text:"View Cycles transactions",css:eG.planButtonLink})]})}function eD(e){var n,t,r=e.currentUser,o=r.billingInfo,i=r.userSubscription,l=(0,em.Z)(),c=l.showConfirm,u=l.showError,d=(0,a._)((n=(0,R._)({},eU,{onCompleted:function(){c("Your billing period has been updated.")},onError:function(){u("Unable to update billing period.")}}),X.D(eT,n)),2),h=d[0],p=d[1].loading,m=null==i?void 0:i.isTrial,g=(0,ef.DC)(null==o?void 0:null===(t=o.planInfo)||void 0===t?void 0:t.interval),v="monthly"===g;return m&&g?(0,s.tZ)(f.zx,{text:v?"Save $100 with yearly billing":"Switch to monthly billing",variant:"outlined",colorway:v?"blurple":void 0,disabled:p,iconLeft:p?(0,s.tZ)(eb.Z,{}):void 0,onClick:function(){h({variables:{input:{billingPeriod:"yearly"===g?I.qh.Monthly:I.qh.Yearly}}})}}):null}function eR(e){var n=e.currentUser,t=n.billingInfo,r=n.customer,o=null==t?void 0:t.planInfo,i=null==o?void 0:o.provider,l=(null==o?void 0:o.nextPaymentDue)?new Date(o.nextPaymentDue):null,a=(null==o?void 0:o.cancelAt)?new Date(o.cancelAt):null,c=(null==t?void 0:t.expiration)?new Date(t.expiration):null,u=null==o?void 0:o.coupon,d=(null==u?void 0:u.endAt)?new Date(u.endAt):void 0,h="",p=d?"until "+d.toDateString():"forever";u&&u.amount?h="Your plan is discounted by $".concat((u.amount/100).toFixed(2)," ").concat(p,"."):u&&u.percent&&(h="Your plan is discounted by ".concat(u.percent,"% ").concat(p,"."));var m=new Date,f=!!c&&m>c,g="You'll retain your ".concat(t?"paid ":"","benefits ")+(c?"until "+c.toDateString():"for a very long time.");return(i===I.Cs.Apple||i===I.Cs.Google)&&o?(0,s.tZ)(ex.Z,{planName:o.description,provider:i}):(0,s.BX)(s.HY,{children:[f||l||!o?null:(0,s.tZ)(x.xv,{variant:"small",multiline:!1,children:g}),a?(0,s.tZ)(b.E,{icon:(0,s.tZ)(et.Z,{}),colorway:"warning",text:"Your plan will be automatically canceled on ".concat(a.toDateString(),". Boosted Repls in your plan's quota will automatically be un-Boosted. Repls Boosted through Cycles will remain unaffected.")}):null,u?(0,s.tZ)(b.E,{icon:(0,s.tZ)(eZ.Z,{}),colorway:"positive",text:h}):null,(0,s.BX)(C.G,{css:eG.detailsGrid,children:[!f&&o?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Plan"}),(0,s.tZ)(x.xv,{color:"default",multiline:!1,children:o.description})]}):null,!f&&l?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Next payment"}),(0,s.tZ)(x.xv,{multiline:!1,children:l.toDateString()})]}):null,(null==o?void 0:o.amount)?(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Amount"}),(0,s.BX)(x.xv,{multiline:!1,children:["$",o.amount/100," per ",o.interval]}),(0,s.tZ)(C.G,{css:{gridColumn:"span 2",alignItems:"flex-start"},children:(0,s.tZ)(eD,{currentUser:n})})]}):null,f||l||!c?null:(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xv,{color:"dimmer",multiline:!1,children:"Expiration"}),(0,s.tZ)(x.xv,{multiline:!1,children:c.toDateString()})]})]}),(null==r?void 0:r.stripeCustomerId)||(null==o?void 0:o.provider)===I.Cs.Stripe?(0,s.tZ)(s.HY,{children:(0,s.BX)(x.xv,{children:["To update your subscription payment method, cancel subscription, or view invoices, ",(0,s.tZ)("a",{href:"/stripe-customer-portal",children:"click here"}),"."]})}):(0,s.tZ)(x.xv,{multiline:!1,children:"No billing information"})]})}var eM=t(48900),ek=t(28074),eX=t(99705),eE=t(36655),eA=t(58719),eW=t(8017),eN=t(40028),eV=t(59060),ez=t(14819);function eL(){var e=(0,M._)(["\n  fragment AccountConnectedServicesCurrentUser on CurrentUser {\n    id\n    githubAuth: auth(provider: GITHUB) {\n      provider\n    }\n    googleAuth: auth(provider: GOOGLE) {\n      provider\n    }\n    facebookAuth: auth(provider: FACEBOOK) {\n      provider\n    }\n    appleAuth: auth(provider: APPLE) {\n      provider\n    }\n  }\n"]);return eL=function(){return e},e}function ej(){var e=(0,M._)(["\n  query AccountConnectedServices {\n    currentUser {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return ej=function(){return e},e}function eY(){var e=(0,M._)(["\n  mutation AccountConnectedServicesDisconnectAuthProvider(\n    $provider: UserAuthProviders!\n  ) {\n    disconnectAuthProvider(provider: $provider) {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return eY=function(){return e},e}var eq={},eO=(0,k.Ps)(eL());ej();var e$=(0,k.Ps)(eY(),eO),eF=function(e){switch(e){case I.x9.Apple:return"apple.com";case I.x9.Facebook:return"facebook.com";case I.x9.Github:return"github.com";case I.x9.Google:return"google.com";default:(0,eN.Z)(e)}};function eH(e){var n,t,r,o,i,l=e.currentUser,h=(0,ek.L)().user,p=null!==(i=null==h?void 0:h.providerData)&&void 0!==i?i:[],m=(0,a._)(D.useState(null),2),g=m[0],y=m[1],b=(0,a._)(D.useState(null),2),Z=b[0],w=b[1],_=(0,eE.J)(),U=(0,a._)((n={onError:function(){return y("Something went wrong")},onCompleted:(0,c._)(function(){return(0,u.Jh)(this,function(e){return[2,y(null)]})})},t=(0,R._)({},eq,n),X.D(e$,t)),2),B=U[0],S=U[1],T=(r=(0,c._)(function(e){var n,t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:if(h)return[3,1];return eM.Tb(Error("Tried to connect OAuth provider without SDK user")),y("Please log out and log back in to connect external services. We're sorry for the inconvenience."),[2];case 1:return n=eF(e),[4,(0,d.Ps)(h,n)];case 2:"error"===(t=r.sent()).type&&("provider-exists"===t.treatment?y("This provider is already linked to your account."):y("Something unexpected happened. Please try again.")),r.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),P=(o=(0,c._)(function(e){var n,t,r,o;return(0,u.Jh)(this,function(i){switch(i.label){case 0:if(n=e.provider,t=e.name,h)return[3,1];return eM.Tb(Error("Received OAuth disconnect request without SDK user")),[3,3];case 1:return r=eF(n),[4,(0,d.xV)(h,r)];case 2:if("error"===(o=i.sent()).type)switch(o.treatment){case"provider-not-linked":y("".concat(t," isn't linked to your account."));break;case"unhandled":case"unknown":y("Something unexpected happened when attempting to remove this provider. Please try again.");break;default:(0,eN.Z)(o)}i.label=3;case 3:return B({variables:{provider:n.toUpperCase()}}),w(null),[2]}})}),function(e){return o.apply(this,arguments)});return D.useEffect(function(){var e;(0,d.WT)().then((e=(0,c._)(function(e){var n,t,r,o;return(0,u.Jh)(this,function(i){switch(i.label){case 0:if("success"!==e.type)return[3,7];if((null===(n=e.result)||void 0===n?void 0:n.providerId)!==eV._i)return[3,6];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,eX.d8)(e.result.user)];case 2:if("error"===(t=i.sent()).type)throw Error(t.message);return[3,4];case 3:return r=i.sent(),eM.Tb(r),[2];case 4:return[4,_({userCredential:e.result,oauthProviderId:eV._i,scopes:[]})];case 5:"error"===(o=i.sent()).type&&y(o.message),i.label=6;case 6:return[2];case 7:switch(e.treatment){case"credential-conflict":y("This provider cannot be used, please try another method.");break;case"email-conflict":y("This email cannot be used, please try another method.");break;case"forbidden-operation":y("That action is not permitted");break;case"user-needs-email":y("Adding this provider failed because it doesn't have an associated email address.");break;case"requires-provider-link":case"timeout":case"unhandled":case"unknown":y("Something unexpected happened, please try again.");break;default:(0,eN.Z)(e)}return[2]}})}),function(n){return e.apply(this,arguments)})).catch(function(e){return eM.Tb(e)})},[]),(0,s.BX)(C.G,{css:[G.l0.colWithGap(16)],children:[[{name:"GitHub",provider:I.x9.Github,isConnected:l.githubAuth},{name:"Google",provider:I.x9.Google,isConnected:l.googleAuth},{name:"Facebook",provider:I.x9.Facebook,isConnected:l.facebookAuth},{name:"Apple",provider:I.x9.Apple,isConnected:l.appleAuth}].map(function(e){var n=e.name,t=e.provider,r=e.isConnected,o=eF(t),i=p.find(function(e){return e.providerId===o}),l=null!=r?r:void 0!==i;return(0,s.BX)(C.G,{css:[G.l0.flex.row,G.l0.justify.spaceBetween,G.l0.align.center],children:[(0,s.tZ)(x.xv,{color:l?"default":"dimmest",css:[G.l0.fontWeight.medium],children:n}),(0,s.tZ)("div",{children:l?(0,s.tZ)(f.zx,{onClick:function(){return w({name:n,provider:t})},text:"Disconnect",variant:"outlined",disabled:S.loading,iconLeft:(0,s.tZ)(eA.Z,{})}):(0,s.tZ)(f.zx,{onClick:function(){return T(t)},text:"Connect",iconLeft:(0,s.tZ)(eW.Z,{})})})]},t)}),g?(0,s.tZ)(er,{children:g}):null,(0,s.tZ)(v.u,{isOpen:null!==Z,onRequestClose:function(){return w(null)},children:Z?(0,s.tZ)(ez.Z,{confirmLabel:"Yes, disconnect this service",isDestructive:!0,title:"Disconnect ".concat(Z.name),onCancel:function(){return w(null)},onConfirm:function(){return P(Z)},children:"Are you sure you want to disconnect this service? You can reconnect it at any time."}):null})]})}var eQ=t(25e3),eJ=t(94450),eK=t.n(eJ),e0=t(29358),e1=t(5542);function e2(){var e=(0,M._)(["\n  fragment AccountProfileCurrentUser on CurrentUser {\n    id\n    username\n    fullName\n    canChangeUsername\n    firstName\n    lastName\n    bio\n    hasPrivacyRole\n    hasProfileImage\n    image\n    isSubscribed\n    url\n  }\n"]);return e2=function(){return e},e}function e8(){var e=(0,M._)(["\n  mutation AccountProfileCurrentUserUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountProfileCurrentUser\n    }\n  }\n  ","\n"]);return e8=function(){return e},e}var e3={},e4=(0,k.Ps)(e2()),e9=(0,k.Ps)(e8(),e4),e6=t(63461),e7=t(36010),e5=t.n(e7),ne=t(39390),nn=t(29479),nt=t(56971),nr=t(79621),no=t(32855),ni=t(8279),nl=t(93496),na=(0,eu.X)({ruiInput:[G.l0.height(32),{fontSize:"".concat(G.TV.fontSizeDefault," !important"),backgroundColor:"".concat(nl.vb.interactiveBackground," !important"),transition:"border-color 120ms ease-out !important","&":{borderRadius:"".concat(G.TV.space8," !important")},":not(:disabled)":{borderColor:"".concat(nl.vb.interactiveBorder," !important")},"&:hover":{borderColor:"".concat(nl.vb.interactiveBorderHover," !important"),transitionDuration:"0ms !important"},"&:focus":{outline:"2px solid ".concat(G.TV.accentPrimaryDefault," !important")}}]});function ns(e){var n,t,r=e.currentUser,o=(0,a._)(D.useState(null),2),i=o[0],d=o[1],h=(0,a._)(D.useState(!1),2),m=h[0],g=h[1],y=D.useRef(r.bio),b=(0,a._)((n=(0,R._)({},e3,{onError:function(e){d(e.message||"Something went wrong. Please try again.")},onCompleted:function(){return d(null)}}),X.D(e9,n)),2),Z=b[0],x=b[1].loading,w=(0,p.Y)(r.firstName||"",function(e){if(e.length>250)return{message:"First name must be less than ".concat(250," characters.")}}),U=(0,p.Y)(r.lastName||"",function(e){if(e.length>250)return{message:"Last name must be less than ".concat(250," characters.")}}),B=(0,p.Y)(r.bio||"",function(e){if(e.length>140)return{message:"Bio name must be less than ".concat(140," characters.")}}),S=(t=(0,c._)(function(e){return(0,u.Jh)(this,function(n){switch(n.label){case 0:return e.preventDefault(),[4,Z({variables:{input:{firstName:w.value,lastName:U.value,bio:B.value}}})];case 1:return n.sent(),y.current!==B.value&&((0,no.w)({source:"profile",surface:"bio"}),y.current=B.value),[2]}})}),function(e){return t.apply(this,arguments)});return(0,s.BX)("div",{className:eK().dynamic([["eb9d7f32a9a7df20",[nn.j.mobileMax]]]),children:[(0,s.BX)("div",{className:eK().dynamic([["eb9d7f32a9a7df20",[nn.j.mobileMax]]])+" profile",children:[(0,s.tZ)("div",{className:eK().dynamic([["eb9d7f32a9a7df20",[nn.j.mobileMax]]])+" profile-image",children:(0,s.BX)(C.G,{css:[G.l0.colWithGap(8),G.l0.width(128)],children:[(0,s.tZ)(nt.Z,{currentUser:r,onChange:function(e){return Z({variables:{input:{profileImageId:e.imageId}}})}}),r.hasProfileImage?(0,s.tZ)(f.zx,{iconLeft:(0,s.tZ)(T.Z,{}),text:"Remove photo",size:"small",variant:"outlined",onClick:function(){return g(!0)}}):null]})}),(0,s.tZ)("div",{className:eK().dynamic([["eb9d7f32a9a7df20",[nn.j.mobileMax]]])+" profile-info",children:(0,s.tZ)(P.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:(0,s.tZ)("form",{onSubmit:S,className:eK().dynamic([["eb9d7f32a9a7df20",[nn.j.mobileMax]]]),children:(0,s.BX)(P.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:[(0,s.tZ)(P.gC,{wrap:"nowrap",align:"end",children:(0,s.tZ)(e0.ZP,{style:{cursor:"not-allowed",border:"none"},css:na.ruiInput,disabled:!0,description:r.canChangeUsername?(0,s.BX)(s.HY,{children:["* You can change your username"," ",(0,s.tZ)(e5(),{legacyBehavior:!0,href:"/~/cli/account/change-username",children:"through the CLI"})," ","once"]}):"* You cannot change your username",value:r.username})}),(0,s.BX)(P.gC,{wrap:"nowrap",align:"stretch",spacing:2,children:[(0,s.BX)(P.Ug,{spacing:2,wrap:"nowrap",children:[(0,s.tZ)(e0.ZP,{css:na.ruiInput,label:"First name",onChange:function(e){return w.setValue(e.target.value)},value:w.value,validationResults:w.error?[{message:w.error.message,state:"error"}]:void 0}),(0,s.tZ)(e0.ZP,{css:na.ruiInput,label:"Last name",onChange:function(e){return U.setValue(e.target.value)},value:U.value,validationResults:U.error?[{message:U.error.message,state:"error"}]:void 0})]}),(0,s.BX)("div",{className:eK().dynamic([["eb9d7f32a9a7df20",[nn.j.mobileMax]]]),children:[(0,s.tZ)(e6.Z,{tag:"label",foreground:2,size:"xsmall",children:"Bio"}),(0,s.tZ)("textarea",{css:na.ruiInput,maxLength:140,value:B.value,onChange:function(e){return B.setValue(e.target.value)},placeholder:"Add a bio",className:eK().dynamic([["eb9d7f32a9a7df20",[nn.j.mobileMax]]])}),(0,s.BX)(e6.Z,{size:"xsmall",foreground:3,children:["* ",B.value.length," / ",140," characters"]})]})]}),i?(0,s.tZ)(er,{children:i}):null,(0,s.BX)(C.G,{css:[G.l0.flex.row,G.l0.justify.end,(0,l._)({gap:12},G.BC.max("mobileMax"),[G.l0.flex.column,{gap:8}])],children:[(0,s.tZ)(ev.Z,(0,eQ._)((0,R._)({},(0,e1.Ru)({username:r.username,id:r.id,url:r.url})),{iconLeft:(0,s.tZ)(ne.Z,{}),text:"View my public profile"})),(0,s.tZ)(f.zx,{disabled:x,colorway:"primary",type:"submit",iconLeft:x?(0,s.tZ)(eb.Z,{}):(0,s.tZ)(_.Z,{}),text:"Save Changes",css:[x?ni.p.backgroundPulse(G.TV.accentPrimaryDimmest,G.TV.accentPrimaryDimmer):null]})]})]})})})})]}),(0,s.tZ)(v.u,{isOpen:m,onRequestClose:function(){return g(!1)},children:(0,s.tZ)(nr.Z,{name:"profile photo",entityType:"photo",delete:function(){Z({variables:{input:{profileImageId:null}}})},hideModal:function(){return g(!1)}})}),(0,s.tZ)(eK(),{id:"eb9d7f32a9a7df20",dynamic:[nn.j.mobileMax],children:".profile-image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding-bottom:var(--space-16)}.profile-info.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}@media screen and (min-width:".concat(nn.j.mobileMax,"px){.profile.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.profile-image.__jsx-style-dynamic-selector{padding-right:var(--space-16);width:-webkit-calc(128px + var(--space-16));width:-moz-calc(128px + var(--space-16));width:calc(128px + var(--space-16));padding-bottom:0}}.error.__jsx-style-dynamic-selector{padding:var(--space-8)0;color:var(--accent-negative-default)}textarea.__jsx-style-dynamic-selector{margin:var(--space-4)0;min-height:42px;height:100px;resize:none;font-size:var(--font-size-subhead-default);font-family:var(--font-family-default);padding:var(--space-8);display:block;width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);-webkit-transition:.1s box-shadow;-moz-transition:.1s box-shadow;-o-transition:.1s box-shadow;transition:.1s box-shadow;background-color:transparent;color:var(--foreground-default)}textarea.__jsx-style-dynamic-selector:hover{border:1px solid var(--accent-primary-dimmer)}textarea.__jsx-style-dynamic-selector:focus,textarea.__jsx-style-dynamic-selector:active{outline:none;border-color:var(--accent-primary-default)}")})]})}var nc=t(78066),nu=t(56231),nd=t(38080);function nh(){var e=(0,M._)(["\n  fragment ReplIdentityCurrentUser on CurrentUser {\n    id\n    hasReplitIdentityTesting: hasRole(role: REPLIT_IDENTITY_TESTING)\n  }\n"]);return nh=function(){return e},e}function np(){var e=(0,M._)(["\n  query ReplIdentity {\n    allowedReplIdentityRepls {\n      ... on AllowedReplIdentityReplsOutput {\n        repls {\n          ... on Repl {\n            id\n            title\n            iconUrl\n          }\n        }\n      }\n    }\n  }\n"]);return np=function(){return e},e}function nm(){var e=(0,M._)(["\n  mutation AddReplIdentityAllowedRepl(\n    $input: AddReplIdentityAllowedReplInput!\n  ) {\n    addReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nm=function(){return e},e}function nf(){var e=(0,M._)(["\n  mutation DeleteReplIdentityAllowedRepl(\n    $input: DeleteReplIdentityAllowedReplInput!\n  ) {\n    deleteReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return nf=function(){return e},e}var ng={},nv=(0,k.Ps)(nh()),ny=(0,k.Ps)(np()),nb=(0,k.Ps)(nm()),nZ=(0,k.Ps)(nf());function nx(){var e,n,t,r,o=(0,a._)(D.useState(null),2),i=o[0],l=o[1],c=(0,a._)((e=(0,R._)({},ng,{onError:function(){return l("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.addReplIdentityAllowedRepl.__typename?l(e.addReplIdentityAllowedRepl.message):(l(null),Z())}}),X.D(nb,e)),2),u=c[0],d=c[1].loading,h=(0,a._)((n=(0,R._)({},ng,{onError:function(){return l("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.deleteReplIdentityAllowedRepl.__typename?l(e.deleteReplIdentityAllowedRepl.message):(l(null),Z())}}),X.D(nZ,n)),2),p=h[0],m=h[1].loading,g=(t=(0,R._)({},ng,void 0),E.a(ny,t)),v=g.data,y=g.loading,b=g.error,Z=g.refetch;if(y)return(0,s.tZ)(eb.Z,{});var w=(null==v?void 0:null===(r=v.allowedReplIdentityRepls)||void 0===r?void 0:r.__typename)==="AllowedReplIdentityReplsOutput"?v.allowedReplIdentityRepls.repls:[];return(0,s.BX)(P.gC,{spacing:2,align:"stretch",children:[(0,s.tZ)(P.Ug,{spacing:1,align:"center",justify:"space-between",children:(0,s.tZ)(x.xv,{color:"default",multiline:!1,children:"Allow Repls to act as you when authenticating to Replit public APIs."})}),(0,s.tZ)(nu.Z,{disabled:d,filter:function(e){return!w.find(function(n){return n.id===e.id})},excludeMultiplayer:!1,manualSelect:!0,onSelect:function(e){w.find(function(n){return n.id===e.id})||u({variables:{input:{replId:e.id}}})},showComboBox:!0}),w.length>0?(0,s.BX)(C.G,{css:[G.l0.pt(8),G.l0.colWithGap(8)],children:[(0,s.tZ)(x.h4,{level:3,variant:"subheadDefault",children:"Currently Authorized Repls"}),w.map(function(e){return e?(0,s.BX)(nd.Tg,{background:"higher",css:[G.l0.flex.row,G.l0.justify.spaceBetween,G.l0.align.center,G.l0.p(8),G.l0.borderRadius(8)],children:[(0,s.BX)(C.G,{css:[G.l0.rowWithGap(8)],children:[(0,s.tZ)(nc.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,s.tZ)(x.xv,{multiline:!1,css:[G.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}],children:e.title})]}),(0,s.tZ)(f.zx,{disabled:m,variant:"outlined",onClick:function(){return p({variables:{input:{replId:e.id}}})},text:"Remove"})]},e.id):null})]}):(0,s.tZ)("p",{children:"You haven't authorized any Repls yet."}),i?(0,s.tZ)(er,{children:i}):null,"string"==typeof b?(0,s.tZ)(er,{children:b}):null]})}var nw=t(46590),nC=t(93302),n_=t(63623),nU=t(6378),nB=t(32078);function nS(e){var n,t,r=e.billableMetric,o=(0,a._)((0,D.useState)(),2),i=o[0],s=o[1],c=(0,a._)((0,D.useState)(),2),u=c[0],d=c[1],h=(0,a._)((0,D.useState)(""),2),p=h[0],m=h[1],f=(t={},(0,l._)(t,I.oD.AutoscaleComputeSeconds,"ComputeUnits"),(0,l._)(t,I.oD.AccountDeploymentsEgress,"GiB"),(0,l._)(t,I.oD.AutoscaleRequests,"Requests"),(0,l._)(t,I.oD.NeonComputeTime,"ComputeHours"),(0,l._)(t,I.oD.NeonDataStorage,"GiB"),(0,l._)(t,I.oD.NeonDataTransfer,"GiB"),(0,l._)(t,I.oD.NeonWrittenData,"GiB"),t)[r],g=(0,n_.Ql)({fetchPolicy:"cache-and-network",ssr:!1,onCompleted:function(e){var n;if((null===(n=e.currentUser)||void 0===n?void 0:n.__typename)!=="CurrentUser"){d("Unexpected response");return}switch(e.currentUser.usageBasedBilling.__typename){case"UserUsageBasedBillingSummary":s(e.currentUser.usageBasedBilling),m(e.currentUser.username);break;case"UnauthorizedError":case"UserError":d(e.currentUser.usageBasedBilling.message);break;default:d("Unexpected response")}},onError:function(e){d(e.message)}}).loading,v=(0,D.useMemo)(function(){return(0,nB.lc)({billingPeriodSummary:null==i?void 0:i.currentBillingPeriod,billableMetric:r})},[i,r]),y=(0,D.useMemo)(function(){if(null==i?void 0:i.currentBillingPeriod){var e=new Date(i.currentBillingPeriod.billingPeriodEnd);if(e)return{long:e.toLocaleString("default",{month:"long",day:"numeric"}),short:e.toLocaleString("default",{month:"2-digit",day:"numeric"})}}},[i]),b=null==i?void 0:null===(n=i.currentBillingPeriod)||void 0===n?void 0:n.totals.find(function(e){return e.billableMetric===r}),Z=null==b?void 0:b.usage,x=null==b?void 0:b.freeUnits,w=null!=Z&&null!=x?Math.max(Z,x):void 0,C=null==b?void 0:b.overageCostsUSD,_=void 0;w&&0!==w?_="".concat((0,nC.fZ)(null!=Z?Z:0,{resourceUsageType:f,precision:1,skipUnits:!0})," / ").concat((0,nC.fZ)(w,{resourceUsageType:f,precision:1})):Z&&(_="".concat((0,nC.fZ)(Z,{resourceUsageType:f,precision:1})));var U=y?"Resets on ".concat(y.long):"",B=y?"Resets ".concat(y.short):"",S=nP({totalUsage:null!=Z?Z:void 0,totalFreeUnits:null!=x?x:void 0,overageCostsUSD:null!=C?C:void 0,resourceUsageType:f});return{username:p,loading:g,errorMessage:u,resourceSummary:v,resourceUsageType:f,totalUsageMessage:_,statusMessageLong:U,statusMessageShort:B,overageIndicator:S}}var nT=function(e){var n=e.context,t=e.title,r=e.titleShort,o=e.infoTooltipMessage,i=nS({billableMetric:e.billableMetric}),l=i.loading,a=i.totalUsageMessage,c=i.resourceSummary,u=i.resourceUsageType,d=i.username,h=i.statusMessageLong,p=i.errorMessage,m=i.overageIndicator;return(0,s.tZ)(nU.Z,{context:n,title:t,titleShort:r,infoTooltipMessage:o,totalUsageMessage:a,resourceSummary:c,resourceUsageType:u,username:d,statusMessage:h,errorMessage:p,loading:l,overageSummary:null==m?void 0:m.summary,overageIndicator:null==m?void 0:m.indicator})},nG=(0,eu.X)({usage:[{fontWeight:G.TV.fontWeightBold}]}),nP=function(e){var n=e.totalUsage,t=e.totalFreeUnits,r=e.overageCostsUSD,o=e.resourceUsageType;if(null!=n&&null!=t&&null!=r&&(!(n<=t)||!(r<=0)))return{indicator:(0,s.BX)(x.xv,{color:"dimmer",children:[(0,s.tZ)(x.xv,{css:G.l0.color.accentPrimaryStrongest,children:"Limit depleted "}),"(",(0,nC.fZ)(Math.max(0,n),{resourceUsageType:o,precision:1,skipUnits:!0})," ","used)"]}),summary:(0,s.BX)(x.xv,{children:[(0,s.tZ)(x.xv,{css:nG.usage,children:(0,nC.fZ)(Math.max(0,n-t),{resourceUsageType:o,precision:1,additional:!0})})," ","(",Math.max(0,r).toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),") ",(0,s.tZ)(x.xv,{color:"dimmer",children:"this month so far"})]})}},nI=t(75928),nD=t(49996),nR=(0,eu.X)({self:[G.l0.colWithGap(6)],header:[G.l0.flex.row,G.l0.rowWithGap(0),G.l0.flex.growAndShrink(1),G.l0.justify.spaceBetween,G.l0.align.baseline],title:[G.l0.flex.growAndShrink(0)],info:[G.l0.rowWithGap(4),G.l0.align.center],loader:[G.l0.justify.center,G.l0.flex.row],usage:[G.l0.flex.growAndShrink(0),G.l0.align.baseline,G.l0.flex.row],total:[G.l0.py(1),G.l0.flex.growAndShrink(0)],tooltipIcon:[(0,l._)({},(0,nD.EM)("mobileMax"),[G.l0.display.none])]}),nM=function(e){var n=e.context,t=e.title,r=e.billableMetric,o=e.infoTooltipMessage,i=nS({billableMetric:r}),l=i.loading,a=i.totalUsageMessage,c=i.resourceSummary,u=i.resourceUsageType,d=i.username,h=i.statusMessageShort,p=i.errorMessage,m=i.overageIndicator,f=(null==m?void 0:m.indicator)?m.indicator:a?(0,s.tZ)(x.xv,{variant:"small",color:"dimmer",css:nR.total,multiline:!1,children:a}):null;return(0,s.BX)(C.G,{css:nR.self,children:[(0,s.BX)(C.G,{css:nR.header,children:[(0,s.tZ)(x.xv,{variant:"small",color:"dimmest",css:nR.title,children:t}),(0,s.tZ)(C.G,{css:nR.info,children:l?(0,s.tZ)(C.G,{css:nR.loader,children:(0,s.tZ)(eb.Z,{size:12})}):(0,s.BX)(s.HY,{children:[(0,s.BX)(x.xv,{variant:"small",color:"dimmest",css:nR.usage,children:[f," \xa0\xa0",h]}),(0,s.tZ)(w.u,{tooltip:(0,s.tZ)(x.xv,{children:o}),children:(0,s.tZ)(B.Z,{css:nR.tooltipIcon,size:12})})]})})]}),p?(0,s.tZ)(b.E,{colorway:"negative",text:p}):null,c?(0,s.tZ)(nI.$,{small:!0,summary:c,context:{type:"cycles_page"===n?n:"account_page"},username:d,resourceUsageType:u}):null]},r)},nk=(0,eu.X)({header:[G.l0.rowWithGap(16),G.l0.align.center,G.l0.justify.spaceBetween,G.l0.mb(12),(0,l._)({},(0,nD.EM)("mobileMax"),[G.l0.flex.wrap])],main:[G.l0.rowWithGap(4),G.l0.align.center],title:[G.l0.display.flex,(0,l._)({},(0,nD.EM)("mobileMax"),[G.l0.display.none])],titleShort:[G.l0.display.none,(0,l._)({},(0,nD.EM)("mobileMax"),{display:"unset"})],tooltipIcon:(0,l._)({},(0,nD.EM)("mobileMax"),[G.l0.display.none]),items:[G.l0.colWithGap(12),G.l0.flex.growAndShrink(1)]}),nX=function(e){var n=e.context,t=e.title,r=e.titleShort,o=e.infoTooltipMessage,i=e.billableMetrics;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(C.G,{tag:"header",css:nk.header,children:(0,s.BX)(C.G,{css:nk.main,children:[(0,s.tZ)(x.xv,{multiline:!1,variant:"subheadDefault",css:nk.title,children:t}),(0,s.tZ)(x.xv,{multiline:!1,variant:"subheadDefault",css:nk.titleShort,children:r}),(0,s.tZ)(w.u,{tooltip:(0,s.tZ)(x.xv,{children:o}),children:(0,s.tZ)(B.Z,{css:nk.tooltipIcon})})]})}),(0,s.tZ)(C.G,{css:nk.items,children:i.map(function(e){var t=e.title,r=e.billableMetric,o=e.infoTooltipMessage;return(0,s.tZ)(nM,{context:n,title:t,billableMetric:r,infoTooltipMessage:o},r)})})]})},nE=t(38213),nA=t(12912),nW=t(14986),nN=t(23211),nV=(0,eu.X)({section:[G.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+G.TV.outlineDimmest}}],buttonLink:[G.l0.width("fit-content")],buttonContainer:[G.l0.p(16)]});function nz(e){var n=e.children;return(0,s.tZ)(C.G,{css:nV.section,children:n})}var nL=function(){var e=(0,h.P5)({controlName:nN.uZ,logFlagToAnalytics:!1});return(0,nE.A)()?(0,s.tZ)(C.G,{css:nV.buttonContainer,children:(0,s.tZ)(ev.Z,{href:"/usage",variant:"outlined",text:"View Usage",iconLeft:(0,s.tZ)(nA.Z,{}),css:nV.buttonLink})}):(0,s.BX)(C.G,{children:[(0,s.tZ)(nz,{children:(0,s.tZ)(nT,{context:"account_resource_usage",billableMetric:I.oD.AutoscaleComputeSeconds,title:"Autoscale Deployments",titleShort:"Autoscale Deployments",infoTooltipMessage:"Usage of Autoscale Deployments is measured in compute units."})}),(0,s.tZ)(nz,{children:(0,s.tZ)(nT,{context:"account_resource_usage",billableMetric:I.oD.AccountDeploymentsEgress,title:"Deployments Outbound Data Transfer",titleShort:"Deployments Data Transfer",infoTooltipMessage:"Usage of Deployments Outbound Data Transfer is measured in bytes."})}),(0,s.tZ)(nz,{children:(0,s.tZ)(nT,{context:"account_resource_usage",billableMetric:I.oD.AutoscaleRequests,title:"Autoscale Incoming Requests",titleShort:"Autoscale Requests",infoTooltipMessage:"Usage of Autoscale Incoming Requests is measured in requests."})}),e?(0,s.tZ)(nz,{children:(0,s.tZ)(nX,{context:"account_resource_usage",title:"PostgreSQL Database",titleShort:"PostgreSQL Database",infoTooltipMessage:"Usage of PostgreSQL Databases are measured across the metrics listed below.",billableMetrics:[{title:"Compute time",titleShort:"Compute time",billableMetric:I.oD.NeonComputeTime,infoTooltipMessage:"The amount of compute resources used per hour."},{title:"Data storage",titleShort:"Data storage",billableMetric:I.oD.NeonDataStorage,infoTooltipMessage:"The volume of data and history stored."},{title:"Data transfer",titleShort:"Data transfer",billableMetric:I.oD.NeonDataTransfer,infoTooltipMessage:"The volume of data transferred out."},{title:"Written data",titleShort:"Written data",billableMetric:I.oD.NeonWrittenData,infoTooltipMessage:"The volume of data written from compute to storage."}]})}):null,(0,s.tZ)(nz,{children:(0,s.tZ)(nw.Z,{context:"account_resource_usage"})}),(0,s.tZ)(nz,{children:(0,s.tZ)(nW.r,{context:"account_page"})})]})},nj=t(60769),nY=t(25632),nq=t(90351),nO=t(10981),n$=(0,eu.X)({preferencesContainer:[G.l0.colWithGap(24)],preference:[G.l0.rowWithGap(8),G.l0.justify.spaceBetween],labelTitle:[G.l0.fontWeight.medium]});function nF(){var e=(0,nY.Gn)("extraDelight"),n=e.preferences,t=e.update,r=(0,nq.$0)().fireCircularBurstFrom,o=(0,nO.U)();return(0,s.tZ)(C.G,{css:n$.preferencesContainer,children:(0,s.BX)(C.G,{css:n$.preference,children:[(0,s.BX)(C.G,{tag:"label",htmlFor:o("delight"),children:[(0,s.tZ)(x.xv,{css:n$.labelTitle,children:"Extra delight mode"}),(0,s.tZ)(x.xv,{color:"dimmer",children:"Experience extra moments of joy"})]}),(0,s.tZ)(nj.X,{id:o("delight"),checked:n.extraDelight,onChange:function(e){e.target.checked&&r({element:e.target}),t({extraDelight:e.target.checked})}})]})})}function nH(){var e=(0,M._)(["\n  fragment AccountUserRolesCurrentUser on CurrentUser {\n    id\n    roles {\n      id\n      key\n    }\n  }\n"]);return nH=function(){return e},e}function nQ(){var e=(0,M._)(["\n  mutation AccountUserRolesUpdateRole($role: UserRoles!, $flag: Boolean!) {\n    updateRole(role: $role, flag: $flag) {\n      ... on CurrentUser {\n        id\n        ...AccountUserRolesCurrentUser\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return nQ=function(){return e},e}var nJ={},nK=(0,k.Ps)(nH()),n0=(0,k.Ps)(nQ(),nK),n1=t(87279),n2=(0,eu.X)({rolesContainer:[G.l0.colWithGap(24),G.l0.align.stretch],role:[G.l0.rowWithGap(8),G.l0.align.center,G.l0.justify.spaceBetween],label:[G.l0.fontWeight.medium]});function n8(e){var n,t=e.currentUser,r=(0,a._)(D.useState(null),2),o=r[0],i=r[1],l=t.roles.map(function(e){return e.key}),c=(0,a._)((n=(0,R._)({},nJ,{onError:function(){return i("Something went wrong")},onCompleted:function(e){var n;(null===(n=e.updateRole)||void 0===n?void 0:n.__typename)==="UserError"?i(e.updateRole.message):i(null)}}),X.D(n0,n)),2),u=c[0],d=c[1].loading;return(0,s.BX)(C.G,{css:n2.rolesContainer,children:[[{name:"Explorer",role:I.SM.Explorer}].map(function(e){var n=e.name,t=e.role,r=l.includes(t);return(0,s.BX)(D.Fragment,{children:[(0,s.BX)(C.G,{css:n2.role,children:[(0,s.tZ)(x.xv,{color:r?"default":"dimmest",css:n2.label,children:n}),(0,s.tZ)(Z.r,{isSelected:r,onChange:function(){d||u({variables:{role:t,flag:!r}})},"aria-labelledby":"toggle-explorer-role"})]}),t===I.SM.Explorer?(0,s.tZ)(b.E,{icon:(0,s.tZ)(n1.Z,{}),colorway:"warning",text:"Explorers help Replit test new features, but sometimes we make mistakes. If something isn’t working right, please let us know. You can remove this role to hang up your explorer’s hat until we get things fixed."}):null]},t)}),o?(0,s.tZ)(er,{children:o}):null]})}var n3=t(66587),n4=(0,eu.X)({container:[G.l0.colWithGap(16)],row:[G.l0.rowWithGap(16),G.l0.justify.spaceBetween,G.l0.align.center],property:[G.l0.colWithGap(4)],label:[G.l0.fontWeight.medium]}),n9=function(e){var n=e.context,t=e.onSuccess,r=e.verifiedPhoneNumber;return r?(0,s.tZ)(C.G,{css:n4.container,children:(0,s.BX)(C.G,{css:n4.row,children:[(0,s.BX)(C.G,{css:n4.property,children:[(0,s.tZ)(x.xv,{css:n4.label,children:"Phone Number"}),(0,s.tZ)(x.xv,{children:r})]}),(0,s.tZ)(w.u,{placement:"left",tooltip:"Once verified, your phone number cannot be changed. Please contact support for assistance.",children:(0,s.tZ)(f.zx,{text:"Edit",iconLeft:(0,s.tZ)(U.Z,{}),variant:"outlined",disabled:!0})})]})}):(0,s.tZ)(n3.Z,{context:n,onSuccess:t,autoFocus:!1})},n6=t(75246),n7=t(79378),n5=t(27302),te=t(73764),tn=t(50946),tt=t(80339),tr=t(84822),to=t(58003),ti=t(46320),tl=t(13051),ta=t(17054),ts=t(99656),tc=t(14024),tu=t(28121),td=(0,eu.X)({section:[G.l0.borderRadius(12)],self:[G.l0.colWithGap(8),G.l0.align.stretch,G.l0.position.relative],header:[G.l0.flex.row,G.l0.justify.spaceBetween,(0,l._)({},G.BC.max("mobileMax"),[G.l0.colWithGap(8)])],actions:[G.l0.align.center,G.l0.rowWithGap(8)],actionButton:[(0,l._)({},G.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[G.l0.rowWithGap(8),G.l0.align.baseline],linkAnchor:[{position:"absolute",top:"-80px"}]});function th(e){var n=e.title,t=e.children,r=(0,ta.oM)();return(0,s.BX)(C.G,{css:td.self,children:[(0,s.tZ)(C.G,{css:td.linkAnchor,id:"themes"}),(0,s.BX)(C.G,{css:td.header,children:[(0,s.BX)(C.G,{css:td.titleWrapper,children:[(0,s.tZ)(x.xv,{variant:"subheadBig",id:n.toLowerCase(),multiline:!1,children:n}),(0,s.tZ)(tc.Z,{feature:tu.l.Themes})]}),(0,s.BX)(C.G,{css:td.actions,children:[(0,s.tZ)(ev.Z,{dataCy:"browse-themes-button",iconLeft:(0,s.tZ)(eW.Z,{}),text:"Browse Themes",href:r.href,as:r.as,css:td.actionButton}),(0,s.tZ)(ev.Z,{dataCy:"create-theme-button",iconLeft:(0,s.tZ)(ts.Z,{}),text:"Create Theme",colorway:"primary",href:ta.ZS.href,as:ta.ZS.as,css:td.actionButton})]})]}),(0,s.tZ)(nd.Tg,{elevated:!0,tag:"section",css:td.section,children:t})]})}var tp=t(3310),tm=t(17507),tf=t(44524);function tg(){var e=(0,M._)(["\n  fragment ThemesPreferencesCustomTheme on CustomTheme {\n    id\n    title\n    slug\n    hasUnpublishedChanges\n    isCurrentUserThemeAuthor\n    ...DeleteDialogTheme\n    colorScheme\n    isInstalledByCurrentUser\n    currentUserInstalledThemeVersion {\n      id\n      values {\n        ...ThemesThemeValues\n      }\n    }\n    author {\n      id\n      ...ThemesCustomThemeUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return tg=function(){return e},e}function tv(){var e=(0,M._)(["\n  fragment ThemesPreferencesInstalledTheme on InstalledTheme {\n    id\n    customTheme {\n      id\n      ...ThemesPreferencesCustomTheme\n    }\n  }\n  ","\n"]);return tv=function(){return e},e}var ty=(0,k.Ps)(tg(),tm.LX,tf.x2,tf.sj),tb=(0,k.Ps)(tv(),ty);function tZ(){var e=(0,M._)(["\n  query ThemesPreferencesCustomPanelCurrentUser(\n    $authoredThemesInput: CurrentUserAuthoredThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n          title\n        }\n      }\n      editorPreferences {\n        theme\n      }\n      authoredThemes(input: $authoredThemesInput) {\n        ... on CustomThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesCustomTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return tZ=function(){return e},e}var tx={},tw=(0,k.Ps)(tZ(),ty),tC=(0,eu.X)({self:[G.l0.colWithGap(12)]}),t_=function(){var e,n,t,r,o=(0,em.Z)().showError,i=(0,nO.U)(),l=(0,a._)(D.useState({count:6}),2),c=l[0],u=l[1],d=(e=(0,R._)({},tx,{variables:{authoredThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return o(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.authoredThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&o(t.message)}}),E.a(tw,e)),h=d.data,p=d.loading,m=d.fetchMore,f=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.authoredThemes)||void 0===n?void 0:n.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.items:[]).reduce(function(e,n){var t,r=null===(t=n.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==r?e.concat([(0,R._)({type:"custom",values:r},n)]):e},[]),g=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.authoredThemes.__typename)==="CustomThemeConnection"?h.currentUser.authoredThemes.pageInfo:void 0,v={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(u(function(e){return(0,eQ._)((0,R._)({},e),{after:n.pageInfo.previousCursor})}),m({variables:{authoredThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.authoredThemes;(null==n?void 0:n.__typename)==="CustomThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(u(function(e){return(0,eQ._)((0,R._)({},e),{after:n.pageInfo.nextCursor})}),m({variables:{authoredThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==g?void 0:g.hasNextPage,hasPrev:null==g?void 0:g.hasPreviousPage};return(0,s.BX)(C.G,{css:tC.self,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Custom Themes"}),(0,s.tZ)(tp.Z,{name:i("custom-themes"),themes:f,paginationOptions:v,themesLoading:p,emptyText:"Themes you create will appear here.",refetchOptions:{queryDoc:tw,input:c}})]})};function tU(){var e=(0,M._)(["\n  query ThemesPreferencesInstalledPanelCurrentUser(\n    $installedThemesInput: CurrentUserInstalledThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n        }\n      }\n      editorPreferences {\n        theme\n      }\n      installedThemes(input: $installedThemesInput) {\n        ... on InstalledThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesInstalledTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return tU=function(){return e},e}var tB={},tS=(0,k.Ps)(tU(),tb),tT=(0,eu.X)({self:[G.l0.colWithGap(12)]}),tG=function(){var e,n,t,r,o=(0,em.Z)().showError,i=(0,nO.U)(),l=(0,a._)(D.useState({count:6}),2),c=l[0],u=l[1],d=(e=(0,R._)({},tB,{variables:{installedThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return o(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.installedThemes;((null==t?void 0:t.__typename)==="UnauthorizedError"||(null==t?void 0:t.__typename)==="UserError")&&o(t.message)}}),E.a(tS,e)),h=d.data,p=d.loading,m=d.fetchMore,f=((null==h?void 0:null===(t=h.currentUser)||void 0===t?void 0:null===(n=t.installedThemes)||void 0===n?void 0:n.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.items:[]).reduce(function(e,n){var t,r=n.customTheme,o=null===(t=r.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return void 0!==o?e.concat([(0,R._)({type:"custom",values:o},r)]):e},[]),g=(null==h?void 0:null===(r=h.currentUser)||void 0===r?void 0:r.installedThemes.__typename)==="InstalledThemeConnection"?h.currentUser.installedThemes.pageInfo:void 0,v={onPrevClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasPreviousPage&&void 0!==n.pageInfo.previousCursor&&(u(function(e){return(0,eQ._)((0,R._)({},e),{after:n.pageInfo.previousCursor})}),m({variables:{installedThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null==h?void 0:null===(e=h.currentUser)||void 0===e?void 0:e.installedThemes;(null==n?void 0:n.__typename)==="InstalledThemeConnection"&&n.pageInfo.hasNextPage&&void 0!==n.pageInfo.nextCursor&&(u(function(e){return(0,eQ._)((0,R._)({},e),{after:n.pageInfo.nextCursor})}),m({variables:{installedThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null==g?void 0:g.hasNextPage,hasPrev:null==g?void 0:g.hasPreviousPage};return(0,s.BX)(C.G,{css:tT.self,children:[(0,s.tZ)(x.xv,{variant:"subheadDefault",multiline:!1,children:"Installed from Community"}),(0,s.tZ)(tp.Z,{name:i("installed-themes"),themes:f,paginationOptions:v,themesLoading:p,emptyText:"Themes you install will appear here.",refetchOptions:{queryDoc:tS,input:c}})]})},tP=t(43349),tI=(0,eu.X)({subsection:[G.l0.p(16),{":not(:first-of-type)":{borderTop:"1px solid "+G.TV.outlineDimmest}}]}),tD=function(){return(0,s.BX)(C.G,{children:[(0,s.tZ)(C.G,{css:tI.subsection,children:(0,s.tZ)(tP.Z,{})}),(0,s.tZ)(C.G,{css:tI.subsection,children:(0,s.tZ)(t_,{})}),(0,s.tZ)(C.G,{css:tI.subsection,children:(0,s.tZ)(tG,{})})]})},tR=function(){return(0,s.tZ)(th,{title:"Themes",children:(0,s.tZ)(tD,{})})},tM=t(38785);function tk(){var e=(0,M._)(["\n  query AccountSettings {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n      roles {\n        id\n        key\n      }\n      ...AccountProfileCurrentUser\n      ...AccountAccountCurrentUser\n      ...AccountBillingCurrentUser\n      ...AccountUserRolesCurrentUser\n      ...AccountEmailSettingsCurrentUser\n      ...AccountConnectedServicesCurrentUser\n      ...ReplIdentityCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return tk=function(){return e},e}var tX={},tE=(0,k.Ps)(tk(),e4,Y,eS,nK,ee,eO,nv),tA=(0,eu.X)({page:[G.l0.flex.column,G.l0.px(16),G.l0.py(64),G.l0.pt(32),(r={marginBottom:"50vh",gap:G.TV.space32},(0,l._)(r,G.BC.max("mobileMax"),[G.l0.pt(24),{gap:G.TV.space16}]),(0,l._)(r,G.BC.max("tabletMax"),[G.l0.mb(0)]),r)],tabContainerTop:[nl.gU.listItem,G.l0.p(4),G.l0.rowWithGap(8),G.l0.borderRadius(8)],profilePicture:[G.l0.width(44),G.l0.height(44)],nameContainer:[G.l0.flex.column,G.l0.color.foregroundDefault],firstLastName:[G.l0.width(144),{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],main:[G.l0.flex.row,G.l0.justify.center,(0,l._)({gap:G.TV.space32},G.BC.max("tabletMax"),[G.l0.pb(32),G.l0.flex.column,{gap:G.TV.space16}])],sectionContainer:[G.l0.colWithGap(32),(0,l._)({},G.BC.min("tabletMax"),G.l0.maxWidth(600))],loadingContainer:[G.l0.width(600),G.l0.maxWidth("100%"),G.l0.height(128),G.l0.center],tabContainerWrapper:[G.l0.colWithGap(8),G.l0.width(200),G.l0.position.sticky,G.l0.top(80),(o={alignSelf:"flex-start"},(0,l._)(o,G.BC.max("tabletMax"),[G.l0.width("100%"),G.l0.position.relative,G.l0.top("revert"),G.l0.mb(0)]),(0,l._)(o,G.BC.max("tabletMax"),[G.l0.display.none]),o)],tabContainerAccordion:[G.l0.mb(0),G.l0.mx(8),G.l0.shadow(1),G.l0.borderRadius(8),G.l0.zIndex(1),G.l0.position.sticky,G.l0.top(56),G.l0.overflow("hidden"),G.l0.border({color:G.TV.outlineDimmest}),(i={backgroundColor:nl.vb.interactiveBackground,"& > button":{padding:G.TV.space8,fontWeight:G.TV.fontWeightMedium,borderRadius:8}},(0,l._)(i,G.BC.min("tabletMax"),[G.l0.display.none]),(0,l._)(i,'button[aria-expanded="true"]',{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid ".concat(G.TV.outlineDimmest)}),i)],tabComponent:[nl.gU.listItem,G.l0.p(8),G.l0.display.flex,G.l0.borderRadius(8),G.l0.rowWithGap(8),G.l0.height(32),G.l0.align.center,{"&:hover":{color:G.TV.foregroundDefault},"&:hover > svg":{color:G.TV.foregroundDefault}}],tabComponentBorder:[G.l0.my(2),G.l0.mx(4),G.l0.height(1),G.l0.width("calc(100% - 8px)"),G.l0.backgroundColor.outlineDimmest],straightCorners:{"& a":G.l0.borderRadius(0)},roundedCorners:{"& a":G.l0.borderRadius(8)}}),tW=(0,eu.X)({base:[tA.tabComponent,G.l0.backgroundColor.backgroundRoot,G.l0.color.foregroundDimmer,{"& > svg":G.l0.color.foregroundDimmest}],selected:[tA.tabComponent,G.l0.backgroundColor.backgroundDefault,G.l0.color.foregroundDefault,{"& > svg":G.l0.color.foregroundDefault}]}),tN=[{icon:(0,s.tZ)(tl.Z,{}),label:"Profile",href:"profile"},{icon:(0,s.tZ)(to.Z,{}),label:"Account",href:"account"},{icon:(0,s.tZ)(_.Z,{}),label:"Verification",href:"verification"},{icon:(0,s.tZ)(tn.Z,{}),label:"Billing",href:"billing"},{icon:(0,s.tZ)(te.Z,{}),label:"Preferences",href:"preferences"},{icon:(0,s.tZ)(n5.Z,{}),label:"Roles",href:"roles"},{icon:(0,s.tZ)(ti.Z,{}),label:"Resource usage",href:"resource-usage"},{icon:(0,s.tZ)(eW.Z,{}),label:"Connected services",href:"connected-services"},{icon:(0,s.tZ)(tt.Z,{}),label:"Repl identity",href:"repl-identity"},{icon:(0,s.tZ)(tr.Z,{}),label:"Themes",href:"themes"}],tV=function(e){var n=e.icon,t=e.label,r=e.href,o=e.selected,i=e.bottomBorder,l=e.onClick;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(e5(),{legacyBehavior:!0,href:"#".concat(r),passHref:!0,children:(0,s.BX)("a",{onClick:l,css:o?tW.selected:tW.base,children:[n,(0,s.tZ)(x.xv,{color:"default",children:t})]})}),i?(0,s.tZ)(C.G,{css:tA.tabComponentBorder}):null]})};function tz(){var e,n=(e=(0,R._)({},tX,{ssr:!1}),E.a(tE,e)),t=n.data,r=n.refetch,o=null==t?void 0:t.currentUser,i=null==o?void 0:o.roles.some(function(e){return e.key===I.SM.PrivacyLimitedAccess}),l=(0,h.P5)({controlName:"flag-sms-verification",logFlagToAnalytics:!1}),c=(0,a._)(D.useState(void 0),2),u=c[0],d=c[1];D.useEffect(function(){if(o){var e=window.location.hash;if(e&&e.startsWith("#")){var n=e.replace("#",""),t=document.getElementById(n);t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}},[o]);var p=(0,a._)(D.useState(!1),2),m=p[0],f=p[1],g=function(e){var n=e.straightCorners,t=function(e){d(e),f(!1)};return(0,s.tZ)(C.G,{css:n?tA.straightCorners:tA.roundedCorners,children:tN.map(function(e){if("repl-identity"===e.href&&!(null==o?void 0:o.hasReplitIdentityTesting)||"verification"===e.href&&!l)return null;var n="account"===e.href||"billing"===e.href||"connected-services"===e.href;return i&&n?null:(0,s.tZ)(tV,{icon:e.icon,label:e.label,href:e.href,bottomBorder:e.bottomBorder,selected:u===e.href,onClick:function(){return t(e.href)}},e.href)})})};return(0,s.tZ)(C.G,{css:tA.page,children:(0,s.BX)(C.G,{css:tA.main,children:[(0,s.BX)(C.G,{css:tA.tabContainerWrapper,children:[(0,s.tZ)(e5(),{legacyBehavior:!0,href:"/@".concat(null==o?void 0:o.username),passHref:!0,children:(0,s.tZ)("a",{children:(0,s.BX)(C.G,{css:tA.tabContainerTop,children:[(0,s.tZ)(n7.q,{size:48,css:tA.profilePicture,src:(null==o?void 0:o.image)||null,username:"".concat(null==o?void 0:o.username)}),(0,s.BX)(C.G,{css:tA.nameContainer,children:[(0,s.BX)(x.xv,{variant:"subheadDefault",color:"default",css:tA.firstLastName,children:[null==o?void 0:o.firstName," ",null==o?void 0:o.lastName]}),(0,s.tZ)(x.xv,{color:"dimmer",children:(null==o?void 0:o.username)?"@".concat(o.username):""})]})]})})}),(0,s.tZ)(g,{straightCorners:!1,showVerification:l})]}),(0,s.tZ)(n6.Q,{headerContent:"Jump to",css:tA.tabContainerAccordion,expanded:m,onClick:function(){return f(!m)},children:(0,s.tZ)(g,{straightCorners:!0,showVerification:l})}),(0,s.tZ)(C.G,{css:tA.sectionContainer,children:o?(0,s.BX)(s.HY,{children:[(0,s.tZ)(tj,{title:"Profile",id:"profile",setInView:d,children:(0,s.tZ)(ns,{currentUser:o})}),(0,s.tZ)(tj,{title:"Account",id:"account",setInView:d,flush:!0,children:i?(0,s.tZ)(eh,{currentUser:o}):(0,s.tZ)(ec,{currentUser:o})}),l?(0,s.tZ)(tj,{title:"Verification",id:"verification",setInView:d,children:(0,s.tZ)(n9,{context:I.jv.Voluntary,verifiedPhoneNumber:o.verifiedPhoneNumber,onSuccess:r})}):null,i?null:(0,s.tZ)(tj,{title:"Billing",id:"billing",setInView:d,flush:!0,children:(0,s.tZ)(eP,{currentUser:o})}),(0,s.tZ)(tj,{title:"Preferences",id:"preferences",setInView:d,children:(0,s.tZ)(nF,{})}),(0,s.tZ)(tj,{title:"Roles",id:"roles",setInView:d,children:(0,s.tZ)(n8,{currentUser:o})}),(0,s.tZ)(tj,{setInView:d,title:"Resource usage",id:"resource-usage",flush:!0,children:(0,s.tZ)(nL,{})}),i?null:(0,s.tZ)(tj,{title:"Connected services",id:"connected-services",setInView:d,children:(0,s.tZ)(eH,{currentUser:o})}),o.hasReplitIdentityTesting?(0,s.tZ)(tj,{title:"Repl identity",id:"repl-identity",setInView:d,children:(0,s.tZ)(nx,{})}):null," ",(0,s.tZ)(tj,{id:"themes",setInView:d,surface:!1,children:(0,s.tZ)(tR,{})})]}):(0,s.tZ)(C.G,{css:tA.loadingContainer,children:(0,s.tZ)(eb.Z,{size:20})})})]})})}var tL=(0,eu.X)({sectionWrapper:[G.l0.position.relative,G.l0.colWithGap(8),(0,l._)({scrollMarginTop:108},G.BC.min("tabletMax"),{scrollMarginTop:80})],section:[G.l0.p(16),G.l0.borderRadius(12)],sectionFlush:[G.l0.borderRadius(12)],anchor:[G.l0.position.absolute,G.l0.top("50%"),G.l0.width(1),G.l0.height(1)]});function tj(e){var n=e.title,t=e.children,r=e.id,o=e.setInView,i=e.surface,l=e.flush,a=D.useRef(null),c=(0,tM.Y)(a,{margin:"-20% 0px -79% 0px"});D.useEffect(function(){c&&o(r)},[r,c,o]);var u=void 0===i||i?(0,s.tZ)(nd.Tg,{elevated:!0,tag:"section",css:l?tL.sectionFlush:tL.section,children:t}):(0,s.tZ)(C.G,{tag:"section",children:t});return(0,s.BX)(C.G,{css:tL.sectionWrapper,id:r,innerRef:a,children:[n?(0,s.tZ)(x.h4,{level:2,variant:"subheadBig",children:n}):null,u]})}},56971:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(32477),o=t(8182),i=t(43429),l=t(85805),a=t(55534),s=t(43973),c=t(88205),u=t(56596),d=t(29287),h=t(74833),p=t(93918),m=t(79378),f=(0,p.X)({dropContainer:[d.l0.position.relative,{width:96,height:96,textAlign:"center","& label":{transition:"0.25s"},"&:hover label":{opacity:1}}],overlayLabel:[d.l0.flex.row,d.l0.center,d.l0.backgroundColor.backgroundOverlay,d.l0.borderRadius("full"),d.l0.coverContainer,{opacity:0,position:"absolute",top:0,left:0,cursor:"pointer",zIndex:1}],uploadInput:{width:1,height:0,opacity:0,overflow:"hidden"}});function g(e){var n=e.currentUser,t=e.onChange,d=(0,a.Z)(),p=d.showError,g=d.showConfirm,v=(0,r._)((0,i.useState)(n.image),2),y=v[0],b=v[1];(0,i.useEffect)(function(){return b(n.image)},[n.image]);var Z=(0,l.Z)({onUpload:function(e){return t({imageId:e.id})},onUploadPreview:function(e){b(e.dataUrl),g("Uploading profile image")},onError:function(e){return p(e.message)}});return n.hasPrivacyRole?(0,o.tZ)(m.q,{size:96,src:y,username:n.username,fullName:n.fullName}):(0,o.BX)(u.G,{css:f.dropContainer,onDrop:function(e){e.preventDefault();var n,t,r=null===(t=e.dataTransfer)||void 0===t?void 0:null===(n=t.files)||void 0===n?void 0:n[0];if(r){if(!r.type.startsWith("image/"))return p("Expected an image file");Z.uploadImage(r,c.N.ProfileImage)}},onDragOver:function(e){return e.preventDefault()},children:[(0,o.tZ)(m.q,{size:96,src:y,username:n.username,fullName:n.fullName}),(0,o.BX)("label",{css:f.overlayLabel,children:[(0,o.tZ)("input",{accept:s.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity.valid,r=n.files;(null==r?void 0:r.length)&&t&&Z.uploadImage(r[0],c.N.ProfileImage)},css:f.uploadInput}),(0,o.tZ)(h.xv,{variant:"small",multiline:!1,children:"Drag or upload"})]})]})}},66587:function(e,n,t){t.d(n,{Z:function(){return D}});var r=t(32477),o=t(8182),i=t(40282),l=t(45903),a=t(25e3),s=t(43429),c=t(93295),u=t(23982),d=t(72986);function h(){var e=(0,c._)(["\n  mutation SendSmsVerification($input: SendSmsVerificationInput!) {\n    sendSmsVerification(input: $input) {\n      ... on SendSmsVerificationResult {\n        __typename\n        success\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n      ... on TooManyRequestsError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}function p(){var e=(0,c._)(["\n  mutation ConfirmSmsVerification($input: ConfirmSmsVerificationInput!) {\n    confirmSmsVerification(input: $input) {\n      ... on ConfirmSmsVerificationResult {\n        __typename\n        success\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n      ... on TooManyRequestsError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}var m={},f=(0,u.Ps)(h()),g=(0,u.Ps)(p()),v=function(e,n){switch(n.type){case"setPhoneNumber":return(0,a._)((0,l._)({},e),{phoneNumber:n.phoneNumber});case"setCode":return(0,a._)((0,l._)({},e),{code:n.code});case"setError":return(0,a._)((0,l._)({},e),{error:n.message});case"setMode":return(0,a._)((0,l._)({},e),{mode:n.mode});default:return e}},y=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.onSuccess,i=t.context,c=(0,r._)(s.useReducer(v,{mode:"phone-input"}),2),u=c[0],h=c[1],p=(0,r._)((e=(0,l._)({},m,{onError:function(){return h({type:"setError",message:"Something went wrong"})},onCompleted:function(e){if("SendSmsVerificationResult"===e.sendSmsVerification.__typename){h({type:"setMode",mode:"code-input"});return}h({type:"setError",message:e.sendSmsVerification.message})}}),d.D(f,e)),2),y=p[0],b=p[1].loading,Z=(0,r._)((n=(0,l._)({},m,{onError:function(){return h({type:"setError",message:"Something went wrong"})},onCompleted:function(e){if("ConfirmSmsVerificationResult"===e.confirmSmsVerification.__typename){null==o||o(),h({type:"setMode",mode:"success"});return}h({type:"setError",message:e.confirmSmsVerification.message})}}),d.D(g,n)),2),x=Z[0],w=Z[1].loading;return[(0,a._)((0,l._)({},u),{loading:w||b}),{reset:function(){h({type:"setMode",mode:"phone-input"}),h({type:"setPhoneNumber",phoneNumber:void 0}),h({type:"setCode",code:void 0}),h({type:"setError",message:void 0})},submitCode:function(){if(!w){var e=u.phoneNumber,n=u.code;if(!e){h({type:"setError",message:"Phone number is required"});return}if(!n){h({type:"setError",message:"Verification code is required"});return}h({type:"setError",message:void 0}),x({variables:{input:{phoneNumber:e,code:n,context:i}}})}},submitPhoneNumber:function(){if(!b){var e=u.phoneNumber;if(!e){h({type:"setError",message:"Phone number is required"});return}h({type:"setError",message:void 0}),y({variables:{input:{phoneNumber:e,context:i}}})}},handleCodeChange:function(e){h({type:"setCode",code:e})},handlePhoneNumberChange:function(e){h({type:"setPhoneNumber",phoneNumber:e})}}]},b=t(1498),Z=t(18836),x=t(93496),w=t(37951),C=t(74833),_=t(56596),U=t(29479),B=t(93918),S=t(88936),T=t(29287),G=t(28191),P=(0,B.X)({mobilePhoneInput:[T.l0.colWithGap(8),{".PhoneInput":[T.l0.display.flex,T.l0.rowWithGap(4),x.gU.filledAndOutlined,T.l0.px(8),T.l0.py(4),T.l0.color.foregroundDefault,{".PhoneInputCountry":[T.l0.rowWithGap(4),T.l0.display.flex,T.l0.align.center,T.l0.flex.shrink(1),T.l0.position.relative,{".PhoneInputCountryIcon":[T.l0.width(16),T.l0.height(12),{".PhoneInputCountryIconImg":[T.l0.display.block,T.l0.width("100%"),T.l0.height("100%")]}],".PhoneInputCountrySelect":[T.l0.position.absolute,T.l0.top(0),T.l0.left(0),T.l0.width("100%"),T.l0.height("100%"),{opacity:0,zIndex:1,cursor:"pointer"}],".PhoneInputCountrySelectArrow":[T.l0.display.block,T.l0.width(8),T.l0.height(8),T.l0.mx(2),T.l0.mb(4),{content:'""',borderStyle:"solid",borderColor:T.TV.foregroundDefault,borderTopWidth:0,borderBottomWidth:1,borderLeftWidth:0,borderRightWidth:1,transform:"rotate(45deg)"}]}],".PhoneInputInput":[T.l0.flex.grow(1),{appearance:"none",background:"transparent",border:0,"&:focus":{outline:0}}]}]}],didNotGetCodeContainer:[T.l0.colWithGap(0)],resetResendOptions:[T.l0.display.inlineBlock],textButton:[T.l0.reset.button,T.l0.color.accentPrimaryStronger,T.l0.focusRing,T.l0.borderRadius(4),{":focus":{outlineOffset:"2px"},transitionProperty:"color, box-shadow",transitionDuration:U.H.duration,transitionTimingFunction:U.H.timingFunction,":not([disabled])":{textDecoration:"underline",cursor:"pointer","@media (hover: hover)":{":hover":{color:T.TV.accentPrimaryStrongest}},":not(textarea):active":{color:T.TV.accentPrimaryStrongest}}}],loading:[T.l0.align.center]}),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=s.useId();return e?"".concat(e,"-").concat(n):n},D=function(e){var n=e.context,t=e.ctas,l=void 0===t?{sendCode:"Send code",confirmCode:"Confirm code"}:t,a=e.onSuccess,s=e.autoFocus,c=(0,r._)(y({onSuccess:a,context:n}),2),u=c[0],d=c[1],h=I("sms-verification-phone"),p=I("sms-verification-phone-error"),m=I("sms-verification-code"),f=I("sms-verification-code-error");switch(u.mode){case"phone-input":return(0,o.BX)(_.G,{css:P.mobilePhoneInput,tag:"form",onSubmit:function(e){e.preventDefault(),d.submitPhoneNumber()},children:[(0,o.tZ)(C.xv,{children:"Enter your phone number:"}),(0,o.tZ)(i.T,{children:(0,o.tZ)("label",{htmlFor:h,children:"Phone Number"})}),(0,o.tZ)(G.ZP,{id:h,addInternationalOption:!1,countryCallingCodeEditable:!1,defaultCountry:"US",international:!0,value:u.phoneNumber,onChange:d.handlePhoneNumberChange,numberInputProps:{"aria-describedby":p,onKeyDown:function(e){"Enter"===e.key&&d.submitPhoneNumber()},autoFocus:void 0===s||s}}),u.error?(0,o.tZ)(w.E,{id:p,colorway:"warning",text:u.error}):null,(0,o.tZ)(C.xv,{variant:"small",color:"dimmer",children:"Your phone number is only used for account verification."}),(0,o.tZ)(b.zx,{colorway:"primary",text:l.sendCode,loading:u.loading,type:"submit"})]});case"code-input":return(0,o.BX)(_.G,{css:T.l0.colWithGap(8),tag:"form",onSubmit:function(e){e.preventDefault(),d.submitCode()},children:[(0,o.BX)(C.xv,{children:["We just sent a verification code to ",u.phoneNumber,". Enter the code below."]}),(0,o.tZ)(i.T,{children:(0,o.tZ)("label",{htmlFor:m,children:"code"})}),(0,o.tZ)(Z.II,{id:m,type:"text",inputMode:"numeric",pattern:"[0-9]*",autoComplete:"one-time-code",value:u.code,onChange:function(e){var n=e.currentTarget.value;return d.handleCodeChange(n)},onKeyDown:function(e){"Enter"===e.key&&d.submitCode()},"aria-describedby":f}),u.error?(0,o.tZ)(w.E,{id:f,colorway:"warning",text:u.error}):null,(0,o.BX)(_.G,{css:P.didNotGetCodeContainer,children:[(0,o.tZ)(C.xv,{variant:"small",color:"dimmer",multiline:!0,children:"Didn't get the code?"}),(0,o.BX)(C.xv,{variant:"small",color:"dimmer",css:P.resetResendOptions,children:[(0,o.tZ)("button",{disabled:u.loading,css:P.textButton,onClick:d.submitPhoneNumber,type:"button",children:"Resend the code"})," or ",(0,o.tZ)("button",{disabled:u.loading,css:P.textButton,onClick:d.reset,type:"button",children:"use a different number"})]})]}),(0,o.tZ)(b.zx,{text:l.confirmCode,colorway:"primary",loading:u.loading,type:"submit"})]});case"success":return(0,o.tZ)(_.G,{css:P.loading,children:(0,o.tZ)(S.Z,{size:24})})}}},79621:function(e,n,t){var r=t(8182);t(43429);var o=t(56596),i=t(74833),l=t(29287),a=t(1498),s=t(52682),c=t(88936);n.Z=function(e){return(0,r.BX)(o.G,{css:[l.l0.colWithGap(24)],children:[(0,r.BX)(i.h4,{variant:"headerDefault",level:2,children:["Delete ",e.name||e.entityType,"?"]}),(0,r.BX)(o.G,{css:[l.l0.colWithGap(8)],children:[(0,r.BX)(i.xv,{children:["Are you sure you want to delete"," ",e.description?e.description:"this ".concat(e.entityType),"? This cannot be undone."]}),"Repl"===e.entityType?(0,r.tZ)(i.xv,{children:"Some Repls may take a few minutes to finish deleting."}):null]}),(0,r.BX)(o.G,{css:[l.l0.rowWithGap(12),l.l0.justify.end],children:[(0,r.tZ)(a.zx,{text:"Cancel",onClick:e.hideModal}),(0,r.tZ)(a.zx,{dataCy:"delete-modal-confirm-button",disabled:e.isDeleting,iconLeft:e.isDeleting?(0,r.tZ)(c.Z,{}):(0,r.tZ)(s.Z,{}),onClick:function(){e.delete(),e.hideModal()},text:"Yes, delete ".concat(e.confirmDescription?e.confirmDescription:"this ".concat(e.entityType)),colorway:"negative"})]})]})}},14024:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(32477),o=t(8182),i=t(43429),l=t(56596),a=t(29287),s=t(74833),c=t(71144),u=t(49344),d=t(28121),h=function(e){var n=e.isOpen,t=e.setOpen,r=e.feature;return(0,o.tZ)(o.HY,{children:(0,o.tZ)(c.b5,{children:(0,o.tZ)(u.u,{isOpen:n,onRequestClose:function(){t(!1)},children:(0,o.tZ)(d.Z,{setFeedbackFormOpen:t,feature:r})})})})},p=function(e){var n=e.feature,t=(0,r._)(i.useState(!1),2),c=t[0],u=t[1];return(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.G,{onClick:function(){return u(!c)},children:(0,o.tZ)(s.xv,{multiline:!1,css:[a.l0.fontSize("inherit"),a.l0.color.accentPrimaryStronger,a.l0.cursor.pointer,{":hover":{color:a.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,o.tZ)(h,{feature:n,isOpen:c,setOpen:u})]})}},56231:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(45903),o=t(25e3),i=t(32477),l=t(21289),a=t(8182),s=t(51384),c=t(31366),u=t(42308),d=t(6187),h=t(7444),p=t(57526),m=t(2161),f=t(93496),g=t(74833),v=t(56596),y=t(88936),b=t(82723),Z=t(29287),x=t(63130),w=t(43429),C=t(93295),_=t(23982),U=t(77393);function B(){var e=(0,C._)(["\n  fragment ReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n        fullName\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n    templateLabel\n  }\n"]);return B=function(){return e},e}function S(){var e=(0,C._)(["\n  query ReplSelector(\n    $search: String!\n    $excludePrivate: Boolean\n    $excludeMultiplayer: Boolean\n  ) {\n    currentUser {\n      id\n      replSearch(\n        search: $search\n        excludePrivate: $excludePrivate\n        excludeMultiplayer: $excludeMultiplayer\n      ) {\n        id\n        ...ReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return S=function(){return e},e}var T={},G=(0,_.Ps)(B()),P=(0,_.Ps)(S(),G),I=v.K.input,D=v.K.div,R=v.K.li,M=(0,s.iv)([f.gU.filled,Z.l0.p(8),{color:Z.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:Z.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:Z.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function k(e){var n,t,s,f=e.id,C=e.disabled,_=e.filter,B=e.manualSelect,S=e.excludePrivate,G=e.excludeMultiplayer,k=e.onSelect,X=e.selectedIconOverride,E=e.showComboBox,A=(0,i._)(w.useState([]),2),W=A[0],N=A[1],V=(0,i._)(w.useState(""),2),z=V[0],L=V[1],j=w.useRef(null),Y=_?W.filter(_):W,q=(0,x.Kb)({items:Y,initialHighlightedIndex:B?-1:0,itemToString:function(e){var n;return e?"".concat(null===(n=e.owner)||void 0===n?void 0:n.username,"/").concat(e.title):""}});w.useEffect(function(){return L(q.inputValue)},[q.inputValue]);var O=(n={variables:{search:(0,d.Z)(z,100),excludePrivate:S,excludeMultiplayer:G},onCompleted:function(e){if(!e.currentUser)throw Error("Expected currentUser");if(!e.currentUser.replSearch){N([]);return}N(e.currentUser.replSearch.reduce(function(e,n){return n?(0,l._)(e).concat([n]):e},[]))}},t=(0,r._)({},T,n),U.a(P,t)).loading,$=(0,h.Z)(k);w.useEffect(function(){var e;q.selectedItem&&(null===(e=j.current)||void 0===e||e.blur(),$.current(q.selectedItem))},[q.selectedItem,$]);var F=(null===(s=q.selectedItem)||void 0===s?void 0:s.iconUrl)&&q.inputValue?(0,a.tZ)(v.G,{css:[Z.l0.px(8),Z.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:X||(0,a.tZ)(m.ZP,{alt:q.selectedItem.title,iconUrl:q.selectedItem.iconUrl,size:16})}):null;return(0,a.BX)(v.G,{css:[{position:"relative"}],children:[(0,a.BX)(D,(0,o._)((0,r._)({},q.getComboboxProps()),{css:{position:"relative"},children:[F,(0,a.tZ)(I,(0,r._)({css:[M,Z.l0.pr(32),F&&Z.l0.pl(32)]},q.getInputProps({ref:j,id:f,placeholder:"Search for a Repl",onFocus:void 0===E||E?function(e){q.selectedItem&&(e.preventDefault(),e.currentTarget.select(),L("")),q.openMenu()}:void 0}))),(0,a.tZ)(v.G,{css:[Z.l0.center,Z.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,a.tZ)(b.Z,{})})]})),(0,a.tZ)(D,(0,o._)((0,r._)({},q.getMenuProps()),{css:{position:"relative"},children:q.isOpen&&!C?(0,a.BX)(c.Z,{children:[O?(0,a.tZ)(R,{css:[Z.l0.center,Z.l0.py(32)],children:(0,a.tZ)(y.Z,{})}):null,Y.length||O?null:(0,a.tZ)(R,{css:[Z.l0.center,Z.l0.py(32)],children:(0,a.BX)(g.xv,{color:"dimmer",variant:"small",multiline:!1,children:["No ",W.length>0?"more ":null,"repls found"]})}),Y.map(function(e,n){return(0,a.tZ)(R,(0,o._)((0,r._)({},q.getItemProps({item:e,index:n})),{children:(0,a.tZ)(u.Z,{taller:!0,filter:z,title:e.title,subtitle:(0,p.F)(e.timeUpdated),selected:q.selectedItem===e,highlighted:q.highlightedIndex===n,icon:e.iconUrl?(0,a.tZ)(m.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)})]}):null}))]})}},46590:function(e,n,t){var r=t(34142),o=t(32477),i=t(87682),l=t(8182),a=t(38213),s=t(93302),c=t(43429),u=t(84874),d=t(32078),h=t(6378);n.Z=function(e){var n,t=e.context,p=e.title,m=e.titleShort,f=(0,a.A)(),g=(0,o._)((0,c.useState)(),2),v=g[0],y=g[1],b=(0,o._)((0,c.useState)(),2),Z=b[0],x=b[1],w=(0,o._)((0,c.useState)(!1),2),C=w[0],_=w[1],U=(0,o._)((0,c.useState)(""),2),B=U[0],S=U[1],T=function(e){var n;if((null===(n=e.currentUser)||void 0===n?void 0:n.__typename)!=="CurrentUser"){x("Unexpected response");return}switch(e.currentUser.egress.__typename){case"UserEgressSummary":y(e.currentUser.egress),S(e.currentUser.username);break;case"UnauthorizedError":case"UserError":x(e.currentUser.egress.message);break;default:x("Unexpected response")}},G=(0,u.FX)({onCompleted:T,onError:function(e){x(e.message)}}),P=G.loading,I=G.refetch,D=(n=(0,r._)(function(){var e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,I()];case 1:return(e=n.sent()).error?x(e.error.message):e.errors?x("Something unexpected happened, please try again"):T(e.data),[3,3];case 2:return x(n.sent().message),[3,3];case 3:return[2]}})}),function(){return n.apply(this,arguments)}),R=v?Number(v.monthly.usage):0,M=v?Number(v.monthly.limit):0,k=v?(0,d._4)(v.monthly):void 0,X="Bytes",E=0!==M?"".concat((0,s.fZ)(R,{forceGib:!0,precision:1,skipUnits:!0,resourceUsageType:X})," / ").concat((0,s.fZ)(M,{forceGib:!0,precision:1,resourceUsageType:X})):"".concat((0,s.fZ)(R,{precision:1,resourceUsageType:X})),A=v&&v.monthly.isThrottled?"Bandwidth for your Repls is being throttled. Increase\n        your limit to resume normal speeds.":void 0,W="Resets on ".concat(null==v?void 0:v.monthly.resets),N=!v||v.monthly.showUpgrade||v.monthly.isEnforced?void 0:"Limit not yet enforced";return(0,l.tZ)(h.Z,{context:t,title:void 0===p?"Outbound Data Transfer":p,titleShort:void 0===m?"Data Transfer":m,infoTooltipMessage:"Similar to bandwidth, outbound data transfer is the amount\n      of data that our servers send to your Repls' users and\n      external services.",totalUsageMessage:E,throttlingTooltipMessage:A,resourceSummary:k,resourceUsageType:X,username:B,statusMessage:W,errorMessage:Z,loading:P,upgradeModalProps:f?void 0:{showUpgradeModal:C,setShowUpgradeModal:_,onPotentialLimitChange:D,limitEnforcementMessage:N}})}},6378:function(e,n,t){var r=t(39698),o=t(8182),i=t(25491),l=t(1498),a=t(37951),s=t(38080),c=t(74833),u=t(30983),d=t(56596),h=t(93918),p=t(97615),m=t(88936),f=t(20573),g=t(29287),v=t(49996),y=t(75928),b=t(99656),Z=(0,h.X)({self:[g.l0.colWithGap(12),g.l0.flex.growAndShrink(1)]});n.Z=function(e){var n=e.context,t=e.title,h=e.titleShort,x=e.infoTooltipMessage,w=e.totalUsageMessage,C=e.throttlingTooltipMessage,_=e.resourceSummary,U=e.resourceUsageType,B=e.username,S=e.statusMessage,T=e.placeholderMessage,G=e.errorMessage,P=e.loading,I=e.upgradeModalProps,D=e.overageSummary,R=e.overageIndicator;return(0,o.BX)(s.Tg,{css:Z.self,children:[P?(0,o.tZ)(d.G,{css:[g.l0.justify.center,g.l0.flex.row],children:(0,o.tZ)(m.Z,{})}):null,G?(0,o.tZ)(a.E,{colorway:"negative",text:G}):null,_?(0,o.BX)(o.HY,{children:[(0,o.BX)(d.G,{tag:"header",css:[g.l0.rowWithGap(16),g.l0.align.center,g.l0.justify.spaceBetween,(0,r._)({},(0,v.EM)("mobileMax"),[g.l0.flex.wrap])],children:[(0,o.BX)(d.G,{css:[g.l0.rowWithGap(4),g.l0.align.center],children:[(0,o.tZ)(c.xv,{multiline:!1,variant:"subheadDefault",css:[g.l0.display.flex,(0,r._)({},(0,v.EM)("mobileMax"),[g.l0.display.none])],children:t}),(0,o.tZ)(c.xv,{multiline:!1,variant:"subheadDefault",css:[g.l0.display.none,(0,r._)({},(0,v.EM)("mobileMax"),{display:"unset"})],children:h}),(0,o.tZ)(u.u,{tooltip:(0,o.tZ)(c.xv,{children:x}),children:(0,o.tZ)(p.Z,{css:[(0,r._)({},(0,v.EM)("mobileMax"),[g.l0.display.none])]})})]}),(0,o.BX)(d.G,{css:[g.l0.rowWithGap(4),g.l0.align.center],children:[C?(0,o.tZ)(u.u,{tooltip:(0,o.tZ)(c.xv,{children:C}),children:(0,o.tZ)(f.Z,{color:"red"})}):null,R||(0,o.tZ)(o.HY,{children:w?(0,o.tZ)(c.xv,{color:"dimmer",css:[g.l0.py(1)],multiline:!1,children:w}):null})]})]}),(0,o.tZ)(d.G,{children:(0,o.tZ)(y.$,{summary:_,context:{type:"cycles_page"===n?n:"account_page"},username:B,resourceUsageType:U})}),D?(0,o.tZ)(d.G,{children:D}):null,T?(0,o.tZ)(d.G,{children:(0,o.tZ)(c.xv,{color:"dimmest",children:T})}):null,S||I?(0,o.BX)(d.G,{tag:"footer",css:[g.l0.rowWithGap(16),g.l0.justify.spaceBetween,g.l0.align.center],children:[S?(0,o.tZ)(c.xv,{color:"dimmest",multiline:!1,children:S}):null,I?(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.zx,{colorway:"primary",text:"Increase Limit",iconLeft:(0,o.tZ)(b.Z,{}),onClick:function(){return I.setShowUpgradeModal(!I.showUpgradeModal)}}),I.limitEnforcementMessage?(0,o.tZ)(c.xv,{color:"dimmest",multiline:!1,children:I.limitEnforcementMessage}):null]}):null]}):null]}):null,I?(0,o.tZ)(i.Z,{isOpen:I.showUpgradeModal,context:n,powerUp:"egress",uponPurchaseGoTo:"account_resource_usage"===n?"account":"cyclesPage",onRequestClose:function(){I.setShowUpgradeModal(!1),I.onPotentialLimitChange()}}):null]})}},19089:function(e,n,t){t.d(n,{S:function(){return m}});var r=t(8182),o=t(89960),i=t(97764),l=t(71411),a=t(15146),s=t(74833),c=t(56596),u=t(93918),d=t(40102),h=t(29287),p=(0,u.X)({paymentMethodFormContainer:[h.l0.colWithGap(16)],paymentMethodFormHeader:[h.l0.rowWithGap(8),h.l0.align.center]});function m(){var e=(0,l.P)({step:"card_preferences"}),n=e.currentStep,t=e.goBack,u=e.goTo;switch(n.step){case"card_preferences":return(0,r.tZ)(o.t,{goToNewPaymentMethodForm:function(){return u({step:"new_payment_method_form"})},showUsageSettingsBudget:!0});case"new_payment_method_form":return(0,r.BX)(c.G,{css:p.paymentMethodFormContainer,children:[(0,r.BX)(c.G,{css:p.paymentMethodFormHeader,children:[(0,r.tZ)(a.hU,{alt:"Back",onClick:t,children:(0,r.tZ)(d.Z,{})}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,r.tZ)(i.q,{onSuccess:t,context:"account_page"})]})}}},63623:function(e,n,t){t.d(n,{Ql:function(){return y},eD:function(){return g}});var r=t(45903),o=t(93295),i=t(23982),l=t(77393);function a(){var e=(0,o._)(["\n  fragment UserUsageBasedBillingTotals on UsageBasedBillingResourceUsageAndCosts {\n    __typename\n    billableMetric\n    freeUnits\n    usage\n    percentage\n    overageCostsUSD\n  }\n"]);return a=function(){return e},e}function s(){var e=(0,o._)(["\n  fragment UserUsageBasedBillingResourceReplUsage on UsageBasedBillingResourceReplUsage {\n    __typename\n    repl {\n      __typename\n      id\n      title\n      url\n      iconUrl\n      nextPagePathname\n    }\n    usage {\n      billableMetric\n      usage\n      percentage\n    }\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,o._)(["\n  fragment UserUsageBasedBillingBillingPeriodSummary on UserUsageBasedBillingSummary {\n    __typename\n    currentBillingPeriod {\n      __typename\n      billingPeriodStart\n      billingPeriodEnd\n      totals {\n        ...UserUsageBasedBillingTotals\n      }\n      perRepl {\n        ...UserUsageBasedBillingResourceReplUsage\n      }\n    }\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}function u(){var e=(0,o._)(["\n  fragment CurrentUserUsageBasedBillingSummary on CurrentUser {\n    __typename\n    usageBasedBilling {\n      __typename\n      ... on UserUsageBasedBillingSummary {\n        capabilities {\n          canUseUsageBasedBilling\n          explanation\n          hasPaymentMethod\n        }\n        ...UserUsageBasedBillingBillingPeriodSummary\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,o._)(["\n  query CurrentUserUsageBasedBilling {\n    currentUser {\n      id\n      username\n      ...CurrentUserUsageBasedBillingSummary\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var h={},p=(0,i.Ps)(a()),m=(0,i.Ps)(s()),f=(0,i.Ps)(c(),p,m),g=(0,i.Ps)(u(),f),v=(0,i.Ps)(d(),g);function y(e){var n=(0,r._)({},h,e);return l.a(v,n)}},14986:function(e,n,t){t.d(n,{r:function(){return L}});var r=t(45903),o=t(25e3),i=t(32477),l=t(8182),a=t(43429),s=t(93918),c=t(29287),u=t(38080),d=t(74833),h=t(56596),p=t(47957),m=t(93302),f=t(75928),g=t(88936),v=t(32078),y=t(25491),b=t(75582),Z=t(5542),x=t(70002),w=t(16166),C=t(91612),_=t(23291),U=t(34785),B=t(52682),S=t(15146),T=(0,s.X)({self:[c.l0.rowWithGap(4),c.l0.align.center]}),G=function(e){var n=P(e),t=n.quotaText,r=n.attribution;return(0,l.BX)(h.G,{css:T.self,children:[(0,l.tZ)(d.xv,{color:"dimmer",children:t}),(0,l.tZ)(_.D,{text:r}),"sku"in e?(0,l.tZ)(S.hU,{onClick:e.onRequestDelete,alt:"Remove add-on storage",children:(0,l.tZ)(B.Z,{})}):null]})},P=function(e){if("sku"in e)return{quotaText:"+".concat(C.zd[e.sku],"GiB"),attribution:"Add-on"};var n=e.userSubscriptionType,t=n?C.XR[n]:C.XR.FREE;return{quotaText:"".concat(t,"GiB"),attribution:(0,U.s)(n)}},I=t(74593),D=t(55534),R=t(49344),M=t(1498),k=t(32377),X=t(25680),E=t(37951),A=t(20573),W=(0,s.X)({self:[c.l0.rowWithGap(16),c.l0.justify.spaceBetween,c.l0.align.center],quotaBreakdownAndActions:[c.l0.rowWithGap(12)],deleteModalActions:[c.l0.rowWithGap(12),c.l0.justify.end],deleteModalContent:[c.l0.colWithGap(12)],deleteModal:[c.l0.colWithGap(16)]}),N=function(e){var n=e.username,t=e.setShowUpgradeModal,s=e.userSubscriptionType,c=e.currentSku,u=e.quotaInBytes,m=e.totalInBytes,f=(0,D.Z)(),g=f.showError,v=f.showConfirm,y=(0,i._)((0,a.useState)(!1),2),_=y[0],U=y[1],B=(0,i._)((0,I.iE)({onError:function(e){return g(e.message)},onCompleted:function(e){if("ManageStorageAddOnOutput"!==e.manageStorageAddOn.__typename){g(e.manageStorageAddOn.message);return}v("Storage add-on removed."),U(!1)},refetchQueries:[p.P1]}),2),S=B[0],T=B[1].loading,P=s===b.HP.HackerPro,N=!!c&&u-C.zd[c]*C.lb<m;return(0,l.BX)(h.G,{css:W.self,children:[(0,l.tZ)(x.Z,(0,o._)((0,r._)({},(0,Z.Ru)(n)),{text:"Manage Repls"})),(0,l.BX)(h.G,{css:W.quotaBreakdownAndActions,children:[(0,l.tZ)(G,{userSubscriptionType:s}),c?(0,l.tZ)(G,{sku:c,onRequestDelete:function(){return U(!0)}}):null,(0,l.tZ)(w.U,{isPro:P,setShowUpgradeModal:t,source:"account_storage_footer_upgrade_button"})]}),c?(0,l.tZ)(R.u,{centered:!0,isOpen:_,onRequestClose:function(){return U(!1)},children:(0,l.BX)(h.G,{css:W.deleteModal,children:[(0,l.BX)(d.xv,{variant:"headerDefault",children:["Remove ",C.zd[c],"GiB additional storage?"]}),(0,l.BX)(h.G,{css:W.deleteModalContent,children:[(0,l.BX)(d.xv,{children:["This additional storage costs ",(0,C.d_)(c)," ","Cycles (",(0,X.b)(c),") per month."]}),N?(0,l.tZ)(E.E,{colorway:"orange",icon:(0,l.tZ)(A.Z,{}),text:"You’re using more storage than the amount this change will give you. You won’t be able to add new files unless you delete existing files."}):null]}),(0,l.BX)(h.G,{css:W.deleteModalActions,children:[(0,l.tZ)(M.zx,{text:"Cancel"}),(0,l.tZ)(M.zx,{loading:T,colorway:"primary",text:"Yes, remove storage",iconLeft:(0,l.tZ)(k.Z,{}),onClick:function(){S({variables:{input:{setting:b.F$.Off}}})}})]})]})}):null]})},V=t(85838),z=(0,s.X)({self:[c.l0.colWithGap(12),c.l0.flex.growAndShrink(1)],loadingWrapper:[c.l0.center],errorMessage:[c.l0.width("100%"),c.l0.center,{alignSelf:"center",justifySelf:"center"}],header:[c.l0.rowWithGap(16),c.l0.align.center,c.l0.justify.spaceBetween],footerActions:[c.l0.rowWithGap(8),c.l0.justify.spaceBetween,c.l0.align.center]}),L=function(e){var n=e.context,t=e.title,s=(0,i._)((0,a.useState)(!1),2),c=s[0],Z=s[1],x=(0,p.Pf)({fetchPolicy:"network-only",ssr:!1,notifyOnNetworkStatusChange:!0}),w=x.data,_=x.loading,U=x.refetch;if(_&&!w)return(0,l.tZ)(u.Tg,{css:z.self,children:(0,l.tZ)(h.G,{css:z.loadingWrapper,children:(0,l.tZ)(g.Z,{})})});if(w&&(null===(B=w.currentUser)||void 0===B?void 0:B.__typename)==="CurrentUser"&&"StorageQuota"===w.currentUser.storageInfo.storageQuota.__typename&&"StorageGracePeriodQuota"===w.currentUser.storageInfo.storageGracePeriodQuota.__typename&&"AccountStorageUtilization"===w.currentUser.storageInfo.accountStorageUtilization.__typename&&"UserPowerUpsTypes"===w.currentUser.userPowerUpsByType.__typename){var B,S,T,G=w.currentUser.storageInfo,P=G.accountStorageUtilization,I=G.storageQuota.quota,D=P.total,R="Bytes",M="".concat((0,m.fZ)(Number(D),{forceGib:!0,precision:1,resourceUsageType:R})),k=null!==(S=w.currentUser.userSubscriptionType)&&void 0!==S?S:void 0,X=null!==(T=w.currentUser.userPowerUpsByType.storage.currentSku)&&void 0!==T?T:void 0,E=k===b.HP.HackerPro?C.CU:C.tC,A=X?Number(I):E,W=0===A?M:"".concat(M," / ").concat((0,m.fZ)(A,{forceGib:!0,precision:1,resourceUsageType:R})),L=w.currentUser.username;return(0,l.BX)(u.Tg,{css:z.self,children:[(0,l.BX)(h.G,{css:z.header,children:[(0,l.tZ)(d.xv,{variant:"subheadDefault",multiline:!1,children:void 0===t?"Storage":t}),(0,l.tZ)(d.xv,{color:"dimmer",multiline:!1,children:W})]}),(0,l.tZ)(f.$,{context:{type:n},summary:(0,v._4)((0,o._)((0,r._)({},P),{quota:A.toString()})),username:L,resourceUsageType:R}),(0,l.tZ)(V.q,{}),(0,l.tZ)(N,{username:L,setShowUpgradeModal:Z,userSubscriptionType:k,currentSku:X,quotaInBytes:Number(A),totalInBytes:Number(D)}),(0,l.tZ)(y.Z,{isOpen:c,context:n,powerUp:"storage",uponPurchaseGoTo:"account",onRequestClose:function(){U(),Z(!1)}})]})}return(0,l.BX)(h.G,{css:z.self,children:[(0,l.tZ)(j,{total:"0"}),(0,l.tZ)(h.G,{css:z.errorMessage,children:(0,l.tZ)(d.xv,{color:"dimmest",multiline:!1,children:"We had trouble loading your storage information. Please try again later."})})]})},j=function(e){var n=e.total;return(0,l.BX)(h.G,{css:z.header,children:[(0,l.tZ)(d.xv,{variant:"subheadDefault",multiline:!1,children:"Storage"}),(0,l.tZ)(d.xv,{color:"dimmer",multiline:!1,children:(0,m.fZ)(Number(n),{forceGib:!0,resourceUsageType:"Bytes"})})]})}}}]);
//# sourceMappingURL=2858-6a54f468d4dd4fb9.js.map