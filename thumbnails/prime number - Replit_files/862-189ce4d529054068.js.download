!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="86aefbe2-ef00-476a-a9f3-1b148b0fa5db",e._sentryDebugIdIdentifier="sentry-dbid-86aefbe2-ef00-476a-a9f3-1b148b0fa5db")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d103cf55"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[862],{85805:function(e,n,r){r.d(n,{Z:function(){return u}});var t=r(34142),o=r(32477),i=r(87682),a=r(43429),l=r(43973);function u(e){var n,r=e.onUploadPreview,u=e.onUpload,s=e.onError,c=(0,o._)(a.useState(!1),2),d=c[0],f=c[1];return{isLoading:d,uploadImage:a.useCallback((n=(0,t._)(function(e,n){var t,o,a,c,d,m;return(0,i.Jh)(this,function(i){switch(i.label){case 0:f(!0),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,l.o1)(e)];case 2:return t=i.sent(),[3,4];case 3:return i.sent(),s(Error("This image is over the ".concat(l.bq/1e6,"MB maximum"))),[2,!1];case 4:r({dataUrl:t}),o=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,(0,l.mh)(t,n)];case 6:return o=i.sent(),[3,8];case 7:return a=i.sent(),c="Something went wrong",c=a.message.toLowerCase().includes("entity too large")?"This image is over the 1MB maximum":a.message,r({dataUrl:""}),f(!1),s(Error(c)),[2,!1];case 8:if(d=o.id,m=o.url,"number"!=typeof d)throw Error("Expected id");if("string"!=typeof m)throw Error("Expected url");f(!1),i.label=9;case 9:return i.trys.push([9,11,,12]),[4,u({id:d,url:m})];case 10:return i.sent(),[3,12];case 11:return s(i.sent()),[2,!1];case 12:return[2,!0]}})}),function(e,r){return n.apply(this,arguments)}),[s,u,r])}}},43973:function(e,n,r){r.d(n,{W9:function(){return f},bq:function(){return l},mh:function(){return c},o1:function(){return u}});var t=r(34142),o=r(87682),i=r(87226),a=r(89446),l=1e7;function u(e){return s.apply(this,arguments)}function s(){return(s=(0,t._)(function(e){var n;return(0,o.Jh)(this,function(r){switch(r.label){case 0:return[4,(0,a.L0)(e)];case 1:if(n=r.sent(),e.size>l)throw Error("This image is over the ".concat(l/1e6,"MB maximum"));if(!n)throw Error("Expected file");return[2,n]}})})).apply(this,arguments)}function c(e,n){return d.apply(this,arguments)}function d(){return(d=(0,t._)(function(e,n){return(0,o.Jh)(this,function(r){switch(r.label){case 0:return[4,(0,i.uz)("/data/images/upload",{image:e,context:n})];case 1:return[2,r.sent()]}})})).apply(this,arguments)}var f=["image/png","image/jpeg","image/gif","image/webp"]},89446:function(e,n,r){r.d(n,{L0:function(){return u},Xy:function(){return a},pV:function(){return l}}),(t=o||(o={})).ArrayBuffer="ARRAY_BUFFER",t.BinaryString="BINARY_STRING",t.DataURL="DATA_URL",t.Text="TEXT";var t,o,i=function(e,n){return e instanceof window.File?new Promise(function(r,t){var o=new window.FileReader;switch(o.onload=function(n){var o;if(!(null===(o=n.target)||void 0===o?void 0:o.result)){t(Error('Failed to read file "'.concat(e.name,'"')));return}r(n.target.result)},o.onerror=t,n){case"ARRAY_BUFFER":o.readAsArrayBuffer(e);break;case"BINARY_STRING":o.readAsBinaryString(e);break;case"DATA_URL":o.readAsDataURL(e);break;case"TEXT":o.readAsText(e)}}):Promise.all(Array.from(e).filter(function(e){return!!e}).map(function(e){return i(e,n)}))},a=function(e){return i(e,"TEXT")},l=function(e){return i(e,"ARRAY_BUFFER")},u=function(e){return i(e,"DATA_URL")}},56756:function(e,n,r){r.d(n,{Z:function(){return O},m:function(){return N}});var t=r(34142),o=r(32477),i=r(87682),a=r(8182),l=r(43429),u=r(45903),s=r(93295),c=r(23982),d=r(77393),f=r(72986);function m(){var e=(0,s._)(["\n  fragment CoverImageUser on User {\n    id\n    coverImage {\n      url\n      offsetY\n    }\n    hasPrivacyRole\n  }\n"]);return m=function(){return e},e}function p(){var e=(0,s._)(["\n  fragment CoverImageCurrentUser on CurrentUser {\n    id\n    coverImage {\n      url\n      offsetY\n    }\n  }\n"]);return p=function(){return e},e}function v(){var e=(0,s._)(["\n  query CoverImage($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      ...CoverImageUser\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function g(){var e=(0,s._)(["\n  mutation CoverImageUpdate($input: SetUserCoverImageInput!) {\n    setUserCoverImage(input: $input) {\n      ... on CurrentUser {\n        id\n        ...CoverImageCurrentUser\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}var h={},b=(0,c.Ps)(m()),_=(0,c.Ps)(p()),w=(0,c.Ps)(v(),b),y=(0,c.Ps)(g(),_),Z=r(56596),C=r(74833),U=r(76588),E=r(6620),R=r(52682),k=r(55219),I=r(91754),P=r(29287),x=r(1498),L=r(85805),B=r(55534),T=r(26508),F=r(20399),D=r(43973),S=r(88205),A=r(88936),G=r(32855),M=[["#C83625","#D7B02D"],["#00C9FF","#92FE9D"],["#0E55E0","#C36CEC"],["#CC4194","#EF967A"]],N=function(e){var n=Math.abs(e.toString().slice(0,12).split("").reduce(function(e,n){return e+n.charCodeAt(0)},0)%M.length);return"linear-gradient(to right, ".concat(M[n][0],", ").concat(M[n][1],")")},W=function(e){return"touches"in e},X=function(e){var n=e.hasImage,r=e.onClick,t=[(0,a.tZ)(F.ck,{children:(0,a.BX)(Z.G,{css:[P.l0.flex.row,P.l0.rowWithGap(8),P.l0.align.center],children:[(0,a.tZ)(E.Z,{}),(0,a.tZ)(C.xv,{multiline:!1,children:"Upload banner image"})]})},"upload")];return n&&t.push((0,a.tZ)(F.ck,{children:(0,a.BX)(Z.G,{css:[P.l0.flex.row,P.l0.rowWithGap(8),P.l0.align.center],children:[(0,a.tZ)(k.Z,{}),(0,a.tZ)(C.xv,{multiline:!1,children:"Position banner image"})]})},"position"),(0,a.tZ)(F.ck,{children:(0,a.BX)(Z.G,{css:[P.l0.flex.row,P.l0.rowWithGap(8),P.l0.align.center,P.l0.color.accentNegativeStronger],children:[(0,a.tZ)(R.Z,{}),(0,a.tZ)(C.xv,{multiline:!1,children:"Remove banner image"})]})},"remove")),(0,a.tZ)(F.ZE,{"aria-label":"update banner image",icon:(0,a.tZ)(I.Z,{}),onAction:function(e){return r(e)},children:t})},O=function(e){var n,r,s,c,m,p=e.username,v=e.isOwnProfile,g=(0,B.Z)(),b=g.showError,_=g.showConfirm,C=(n=(0,u._)({},h,{variables:{username:p},onCompleted:function(e){var n=e.user;(null==n?void 0:n.coverImage)?(z(n.coverImage.url),q(n.coverImage.offsetY)):(z(void 0),q(0))}}),d.a(w,n)),E=C.data,R=C.loading,k=(0,o._)((r=(0,u._)({},h,{onCompleted:function(e){var n=e.setUserCoverImage;"CurrentUser"===n.__typename&&(n.coverImage?(z(n.coverImage.url),q(n.coverImage.offsetY)):(z(void 0),q(0))),_("Updated cover image")},onError:function(e){return b(e.message)},update:function(e,n){(null==E?void 0:E.user)&&e.modify({id:e.identify(E.user),fields:{coverImage:function(){var e,r;if((null===(r=n.data)||void 0===r?void 0:null===(e=r.setUserCoverImage)||void 0===e?void 0:e.__typename)==="CurrentUser")return n.data.setUserCoverImage.coverImage}}})}}),f.D(y,r)),1)[0],I=(null==E?void 0:null===(c=E.user)||void 0===c?void 0:c.__typename)==="User"&&E.user,F=(null==E?void 0:null===(m=E.user)||void 0===m?void 0:m.__typename)==="User"&&E.user.coverImage,M=(0,L.Z)({onUpload:function(e){var n=e.id,r=e.url;I&&k({variables:{input:{imageId:n,offsetY:0}},optimisticResponse:{__typename:"RootMutationType",setUserCoverImage:{__typename:"CurrentUser",id:I.id,coverImage:{__typename:"CoverImage",url:r,offsetY:0}}}})},onUploadPreview:function(e){return z(e.dataUrl)},onError:function(e){return b(e.message)}}),O=(0,o._)(l.useState(),2),Y=O[0],z=O[1],H=(0,o._)(l.useState(0),2),V=H[0],j=H[1],$=(0,o._)(l.useState(0),2),K=$[0],q=$[1],J=(0,o._)(l.useState(0),2),Q=J[0],ee=J[1],en=(0,o._)(l.useState(0),2),er=en[0],et=en[1],eo=(0,o._)(l.useState(!1),2),ei=eo[0],ea=eo[1],el=l.useRef(null),eu=l.useRef(null),es=l.useRef(null),ec=l.useRef(),ed=l.useRef(null),ef=(0,T.Z)(function(){ec.current&&j(ec.current.naturalHeight)}),em=l.useCallback((s=(0,t._)(function(e){var n;return(0,i.Jh)(this,function(r){switch(r.label){case 0:if(null===e||0===e.length)return[2];if(!(n=e.find(function(e){return e.type.startsWith("image/")})))return b("Please select an image file"),[2];return[4,M.uploadImage(n,S.N.ProfileCoverImage)];case 1:return r.sent()&&(0,G.w)({source:"profile",surface:"banner"}),[2]}})}),function(e){return s.apply(this,arguments)}),[M,b]),ep=l.useCallback(function(e){if(e.target===eu.current&&null===ed.current){e.preventDefault();var n=W(e)?e.touches[0].clientY:e.clientY;ed.current=n}},[]),ev=l.useCallback(function(e){if(null!==ed.current&&null!==el.current){e.preventDefault();var n=(W(e)?e.touches[0].clientY:e.clientY)-ed.current,r=Q+n;if(r<=0){if(V&&Math.abs(r)+el.current.clientHeight>V)return;et(n)}}},[Q,V]),eg=l.useCallback(function(e){null!==ed.current&&(e.preventDefault(),ee(Q+er),et(0),ed.current=null)},[Q,er]);return(l.useEffect(function(){if(eu.current&&ei){var e=eu.current;return e.addEventListener("mousedown",ep),e.addEventListener("touchstart",ep),window.addEventListener("mousemove",ev),window.addEventListener("mouseup",eg),e.addEventListener("touchmove",ev),e.addEventListener("touchend",eg),e.addEventListener("touchcancel",eg),function(){e&&(e.removeEventListener("mousedown",ep),window.removeEventListener("mousemove",ev),window.removeEventListener("mouseup",eg),e.removeEventListener("touchstart",ep),e.removeEventListener("touchmove",ev),e.removeEventListener("touchend",eg),e.removeEventListener("touchcancel",eg))}}},[eu,ei,ep,ev,eg]),R||!I)?(0,a.tZ)(Z.G,{css:[P.l0.height(96),P.l0.backgroundColor.backgroundDefault]}):(0,a.BX)(Z.G,{innerRef:el,css:[{position:"relative",height:96},E&&!R&&!F&&{backgroundImage:N(p)}],children:[v&&!I.hasPrivacyRole?(0,a.BX)(Z.G,{innerRef:eu,css:[{position:"absolute",top:0,left:0,width:"100%",height:ei?"100%":"auto",cursor:ei?"move":"auto",zIndex:10}],children:[(0,a.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:es,accept:D.W9.join(","),type:"file",onChange:function(e){var n=e.target,r=n.validity,t=n.files;r.valid&&em(t?Array.from(t):null)}}),(0,a.tZ)(Z.G,{css:[{position:"absolute",top:10,right:10,zIndex:99}],children:M.isLoading?(0,a.tZ)(Z.G,{css:[{margin:10,width:24,height:24}],children:(0,a.tZ)(A.Z,{size:24})}):ei?(0,a.BX)(Z.G,{css:[P.l0.rowWithGap(8)],children:[(0,a.tZ)(x.zx,{text:"Cancel",onClick:function(){ee(0),et(0),ea(!1)}}),(0,a.tZ)(x.zx,{text:"Done",onClick:function(){var e=Math.floor(100*Math.abs(Q/V));q(e),ea(!1),I&&F&&k({variables:{input:{offsetY:e}},optimisticResponse:{__typename:"RootMutationType",setUserCoverImage:{__typename:"CurrentUser",id:I.id,coverImage:{__typename:"CoverImage",url:F.url,offsetY:e}}}})}})]}):(0,a.tZ)(X,{hasImage:!!Y,onClick:function(e){if("remove"===e&&I&&(ee(0),et(0),j(0),k({variables:{input:{remove:!0}},optimisticResponse:{__typename:"RootMutationType",setUserCoverImage:{__typename:"CurrentUser",id:I.id,coverImage:null}}})),"position"===e&&(ea(!0),ee(-Math.floor(K/100*V)),et(0)),"upload"===e){var n;null===(n=es.current)||void 0===n||n.click()}}})})]}):null,(0,a.tZ)(Z.G,{innerRef:ef,css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}],children:Y?(0,a.tZ)(U.Z,{onLoad:function(e){ec.current=e.target},onLoadingComplete:function(e){j(e.naturalHeight)},objectFit:"cover",objectPosition:"0 ".concat(ei?Q+er:V-K/100*V<200?0:-(K/100)*V,"px"),layout:"fill",src:Y,priority:!0,alt:""}):null})]})}},22003:function(e,n,r){r.d(n,{Z:function(){return U}});var t=r(34142),o=r(45903),i=r(25e3),a=r(70322),l=r(32477),u=r(87682),s=r(8182),c=r(88073),d=r(76051),f=r(55534),m=r(59868),p=r(1498),v=r(32377),g=r(99656),h=r(94106),b=r(93295),_=r(23982),w=r(72986);function y(){var e=(0,b._)(["\n  mutation SetFollowing($input: setFollowingInput!) {\n    setFollowing(input: $input) {\n      ... on FollowResult {\n        targetUser {\n          id\n          isFollowedByCurrentUser\n          followerCount\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return y=function(){return e},e}var Z={},C=(0,_.Ps)(y()),U=function(e){var n,r=e.user,b=e.subtle,_=e.targetName,y=(0,a._)(e,["user","subtle","targetName"]),U=(0,h.useRouter)(),E=(0,c.x)(),R={from:"repl",location:"follow-button"},k=r.isFollowedByCurrentUser,I=(0,f.Z)().showError,P=(0,l._)((n=(0,o._)({},Z,{onCompleted:function(e){var n,r,t;(null===(n=e.setFollowing)||void 0===n?void 0:n.__typename)==="NotFoundError"&&I(e.setFollowing.message),(null===(r=e.setFollowing)||void 0===r?void 0:r.__typename)==="UserError"&&I(e.setFollowing.message),(null===(t=e.setFollowing)||void 0===t?void 0:t.__typename)==="UnauthorizedError"&&(0,d.Vu)(U,R)}}),w.D(C,n)),2),x=P[0],L=P[1].loading,B=k?"Following":"Follow";null!=_&&(B="".concat(B," ").concat(_));var T=function(){x({variables:{input:{targetUserId:r.id,shouldFollow:!k}}}),k||(0,m.j)(m.U3.USER_FOLLOWED)};return(0,s.BX)(s.HY,{children:[(0,s.tZ)(p.zx,(0,i._)((0,o._)({type:"button"},y),{colorway:k?void 0:b?void 0:"primary",text:B,iconLeft:k?(0,s.tZ)(v.Z,{}):(0,s.tZ)(g.Z,{}),onClick:function(){T()},disabled:L,dataCy:"follow-button"})),(0,s.tZ)(d.ZP,{loginTitle:"Log in to follow on Replit",signupTitle:"Sign up to follow on Replit",description:"Follow your favorite Replers",onSuccess:(0,t._)(function(){return(0,u.Jh)(this,function(e){switch(e.label){case 0:return[4,E.resetStore()];case 1:return e.sent(),T(),(0,m.j)(m.U3.SIGNUP_FROM_FOLLOW_BUTTON_SUCCESSFUL),[2]}})}),tracking:R})]})}},32855:function(e,n,r){r.d(n,{w:function(){return o}});var t=r(59868);function o(e){(0,t.j)(t.U3.PROFILE_EDITED,e)}},20399:function(e,n,r){r.d(n,{ZE:function(){return M},ck:function(){return k.ck},v2:function(){return D}});var t=r(45903),o=r(25e3),i=r(70322),a=r(32477),l=r(21289),u=r(8182),s=r(43429),c=r(51384),d=r(26890),f=r(46053),m=r(62347),p=r(49786),v=r(13729),g=r(12915),h=r(88298),b=r(2581),_=r(10910),w=r(1498),y=r(93496),Z=r(74833),C=r(29287),U=r(56596),E=r(99741),R=r(1415),k=r(52878),I=(0,c.iv)([C.l0.shadow(1),{border:"1px solid ".concat(C.TV.outlineDimmer),borderRadius:C.TV.borderRadius8,backgroundColor:y.vb.interactiveBackground,overflow:"hidden"}]),P=(0,c.iv)([C.l0.p(8),{":not([disabled])":{cursor:"pointer","&[data-focused=true]":{backgroundColor:y.vb.interactiveBackgroundActive}}}]),x=U.K.button,L=U.K.div,B=U.K.ul,T=U.K.li;function F(e){var n=e.item,r=e.state,a=(0,i._)(e,["item","state"]),l=r.disabledKeys.has(n.key),c=r.selectionManager.isFocused&&r.selectionManager.focusedKey===n.key,d=(0,s.useRef)(null),f=(0,m.iX)((0,t._)({key:n.key,"aria-label":n["aria-label"],isDisabled:l},a),r,d).menuItemProps;return(0,s.useEffect)(function(){var e;null===(e=d.current)||void 0===e||e.addEventListener("touchend",function(e){e.preventDefault()})},[]),(0,u.tZ)(T,(0,o._)((0,t._)({},(0,v.dG)({ref:d,css:P,"data-focused":c},f)),{children:n.rendered}))}function D(e){var n=e.className,r=e.menuProps,a=e.label,c=e.onAction,d=e.onClose,f=(0,i._)(e,["className","menuProps","label","onAction","onClose"]),p=(0,h.D)((0,o._)((0,t._)({},f),{selectionMode:"none"})),g=(0,s.useRef)(null),b=(0,m.H9)((0,t._)({"aria-label":a||f["aria-label"]},f),p,g).menuProps;return(0,u.tZ)(B,(0,o._)((0,t._)({},(0,v.dG)({ref:g,className:n},b,void 0===r?{}:r)),{children:(0,l._)(p.collection).map(function(e){return(0,u.tZ)(F,{item:e,onAction:c,onClose:d,state:p},e.key)})}))}var S=C.n0,A=(0,c.iv)({zIndex:S});function G(e){var n=e.menuProps,r=e.state,l=e.target,s=e.cssProps,c=e.placement,d=e.autoFocus,m=(0,i._)(e,["menuProps","state","target","cssProps","placement","autoFocus"]),g=(0,a._)((0,_.Z)(),2),h=g[0],w=g[1],y=(0,b.D)(l,h.current,{modifiers:[{name:"offset",options:{offset:[0,4]}}],placement:void 0===c?"bottom-start":c,strategy:"fixed"}),Z=y.styles,C=y.attributes,U=(0,p.Ir)({isDismissable:!0,isOpen:r.isOpen,onClose:r.close,shouldCloseOnBlur:!0},h).overlayProps;return(0,u.tZ)(f.MT,{restoreFocus:!0,autoFocus:d,children:(0,u.tZ)(L,(0,o._)((0,t._)({},(0,v.dG)({ref:w,style:Z.popper},C.popper||{},U)),{css:A,children:(0,u.BX)(L,{css:I,children:[(0,u.tZ)(p.U4,{onDismiss:r.close}),(0,u.tZ)(D,(0,t._)({menuProps:n,onClose:r.close,css:void 0===s?[]:s},m)),(0,u.tZ)(p.U4,{onDismiss:r.close})]})}))})}function M(e){var n=e.innerRef,r=e.label,c=e.suffix,f=e.icon,p=e.cssProps,h=e.menuCssProps,b=e.onOpen,y=e.placement,k=e.autoFocus,I=(0,i._)(e,["innerRef","label","suffix","icon","cssProps","menuCssProps","onOpen","placement","autoFocus"]),P=(0,s.useId)(),L=(0,a._)((0,_.Z)(),2),B=L[0],T=L[1],F=(0,g.W)({}),D=(0,m.u4)({},F,B),S=D.menuTriggerProps,A=D.menuProps,M=(0,d.U)((0,v.dG)(S,{"aria-label":I["aria-label"],id:P}),B).buttonProps;return(0,s.useEffect)(function(){F.isOpen&&(null==b||b())},[b,F.isOpen]),(0,u.BX)(U.G,{css:C.l0.position.relative,children:[(0,u.BX)(x,(0,o._)((0,t._)({},(0,v.dG)({css:(0,l._)((0,w.uW)({size:16})).concat([r?null:[C.l0.width(32)]],(0,l._)(void 0===p?[]:p)),ref:function(e){T(e),n&&"object"==typeof n&&(n.current=e)}},M)),{children:[f?(0,s.cloneElement)(f,{size:16}):(0,u.tZ)(E.Z,{size:16}),r?(0,u.tZ)(Z.xv,{multiline:!1,children:r}):null,c]})),F.isOpen?(0,u.tZ)(R.h,{children:(0,u.tZ)(G,(0,t._)({label:r||I["aria-label"]||"default",menuProps:A,state:F,target:B.current,cssProps:void 0===h?[]:h,placement:y,autoFocus:void 0===k||k},I))}):null]})}},50862:function(e,n,r){r.d(n,{Z:function(){return $}});var t=r(45903),o=r(25e3),i=r(32477),a=r(8182),l=r(43429),u=r(34709),s=r(95891),c=r(56596),d=r(29287),f=r(74833),m=r(23291),p=r(75582),v=r(93295),g=r(23982),h=r(78747);function b(){var e=(0,v._)(["\n  fragment UserLabelUser on User {\n    id\n    username\n    ...UserLinkUser\n  }\n  ","\n"]);return b=function(){return e},e}function _(){var e=(0,v._)(["\n  fragment UserLabelWithImageUser on User {\n    id\n    image\n    ...UserLabelUser\n  }\n  ","\n"]);return _=function(){return e},e}var w=(0,g.Ps)(b(),h._);_();var y=r(77393);function Z(){var e=(0,v._)(["\n  fragment UserCardUser on User {\n    id\n    fullName\n    username\n    url\n    bio\n    image\n    coverImage {\n      url\n    }\n    isModerator: hasRole(role: MODERATOR)\n    isAdmin: hasRole(role: ADMIN)\n    followerCount\n    followCount\n    isFollowedByCurrentUser\n    isFollowingCurrentUser\n    socials {\n      id\n      url\n      type\n    }\n    roles(\n      only: [MODERATOR, PATRON, PYTHONISTA, EXTENSION_DEVELOPER, REPLIT_REP]\n    ) {\n      id\n      name\n      key\n      tagline\n    }\n    ...UserLabelUser\n  }\n  ","\n"]);return Z=function(){return e},e}function C(){var e=(0,v._)(["\n  query UserCard($username: String!) {\n    currentUser {\n      id\n    }\n    userByUsername(username: $username) {\n      id\n      ...UserCardUser\n    }\n  }\n  ","\n"]);return C=function(){return e},e}var U={},E=(0,g.Ps)(Z(),w),R=(0,g.Ps)(C(),E),k=r(79378),I=r(88936),P=r(36010),x=r.n(P),L=r(5542),B=r(4099),T=r(22003),F=r(90409),D=r(8300),S=r(14264),A=r(4391),G=r(83890),M=r(39390),N=r(73157),W=r(99334),X=r(93918),O=r(93496),Y=r(56756),z=c.K.span,H=(0,X.X)({popover:[{background:d.TV.backgroundDefault,border:"solid 1px ".concat(d.TV.backgroundHigher)}],loadingState:[d.l0.center,d.l0.width("100%"),d.l0.height("100%"),d.l0.p(16)],card:[d.l0.position.relative],socialLink:[d.l0.p(6),d.l0.borderRadius(8),O.gU.nofill,d.l0.width(28),d.l0.height(28),d.l0.display.flex,d.l0.align.center,d.l0.justify.center,d.l0.color.foregroundDimmest,{"&:hover svg":{color:d.TV.foregroundDefault}}],content:[d.l0.colWithGap(8),d.l0.p(12),{marginTop:-52}],pfpLinkWrapper:[d.l0.width("fit-content")],pfpWrapper:[d.l0.backgroundColor.backgroundDefault,{border:"solid 4px ".concat(d.TV.backgroundDefault)}],buttons:[d.l0.rowWithGap(8),d.l0.align.center,d.l0.position.absolute,d.l0.top(92),d.l0.right(12)],iconsContainer:[d.l0.rowWithGap(4)],name:[d.l0.flex.column],followsYouWrapper:[d.l0.rowWithGap(8),d.l0.align.center],fullNameLink:[d.l0.focusRing,d.l0.borderRadius(8),d.l0.color.foregroundDefault,{"&:focus-visible":{outlineOffset:0},">span":{maxWidth:"326px"}}],followsYouPill:[d.l0.minWidth("fit-content")],username:[d.l0.width("fit-content")],followCountContainer:[d.l0.rowWithGap(8)],followCountNumber:[{color:d.TV.foregroundDefault}],bio:[{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}],badges:[d.l0.flex.row,d.l0.flex.wrap,{display:"inline-flex",gap:"8px"}],coverImage:[d.l0.width("100%"),d.l0.height(80),{backgroundSize:"cover"}]});function V(e){switch(e.type){case"github":return(0,a.tZ)(A.Z,{});case"youtube":return(0,a.tZ)(G.Z,{});case"twitter":return(0,a.tZ)(F.Z,{});case"facebook":return(0,a.tZ)(D.Z,{});case"linkedin":return(0,a.tZ)(S.Z,{});case"website":return(0,a.tZ)(M.Z,{});default:return null}}function j(e){var n,r,i=e.user,l=e.isCurrentUser,s=void 0!==l&&l;return(0,a.BX)(c.G,{css:H.card,children:[(0,a.tZ)(c.G,{css:H.coverImage,style:{backgroundImage:i.coverImage?'url("'.concat(null===(n=i.coverImage)||void 0===n?void 0:n.url,'")'):(0,Y.m)(i.username)}}),(0,a.BX)(c.G,{css:H.content,children:[(0,a.tZ)(x(),{legacyBehavior:!0,href:"/@"+i.username,target:"_blank",rel:"noreferrer",children:(0,a.tZ)("a",{css:H.pfpLinkWrapper,children:(0,a.tZ)(k.q,{size:80,src:i.image,username:i.username,fullName:i.fullName,css:H.pfpWrapper})})}),(0,a.BX)(c.G,{css:H.buttons,children:[(0,a.tZ)(c.G,{css:H.iconsContainer,children:(null==i?void 0:null===(r=i.socials)||void 0===r?void 0:r.length)&&!s?i.socials.slice(0,3).map(function(e){return(0,a.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",css:H.socialLink,children:(0,a.tZ)(V,{type:e.type})},e.id+"-socialid")}):null}),s?null:(0,a.tZ)(T.Z,{user:i,subtle:!0,stretch:!0,size:"small"})]}),(0,a.BX)(c.G,{css:H.name,children:[(0,a.BX)(c.G,{css:H.followsYouWrapper,children:[(0,a.tZ)(x(),(0,o._)((0,t._)({legacyBehavior:!0,passHref:!0},(0,L.Ru)(i)),{children:(0,a.tZ)("a",{css:H.fullNameLink,children:(0,a.tZ)(f.xv,{variant:"subheadBig",multiline:!1,children:i.fullName||i.username})})})),i.isFollowingCurrentUser?(0,a.tZ)(m.D,{css:H.followsYouPill,text:"Follows you"}):null]}),(0,a.tZ)(x(),{legacyBehavior:!0,href:"/@"+i.username,target:"_blank",rel:"noreferrer",children:(0,a.tZ)("a",{css:H.username,children:(0,a.BX)(f.xv,{color:"dimmest",multiline:!1,children:["@",i.username]})})})]}),(0,a.BX)(c.G,{css:H.followCountContainer,children:[(0,a.BX)(f.xv,{variant:"small",color:"dimmer",multiline:!1,children:[(0,a.tZ)("span",{css:H.followCountNumber,children:i.followerCount})," ",(0,N.Z)("follower",i.followerCount)]}),(0,a.BX)(f.xv,{variant:"small",color:"dimmer",multiline:!1,children:[(0,a.tZ)("span",{css:H.followCountNumber,children:i.followCount})," ","following"]})]}),i.bio?(0,a.tZ)(f.xv,{css:H.bio,children:(0,a.tZ)(u.ZP,{properties:{target:"_blank"},children:i.bio})}):null,(0,a.BX)(c.G,{css:H.badges,children:[(0,a.tZ)(W.Z,{username:i.username}),i.isAdmin?(0,a.tZ)(B.R.Admin,{}):null,i.roles.map(function(e){if(e.key===p.SM.Moderator&&i.isAdmin)return null;var n=e.tagline||void 0,r=d.TV.foregroundDefault,t=(0,a.tZ)(B.R.Default,{name:e.name,tagline:n},e.id);return e.key===p.SM.Moderator?t=(0,a.tZ)(B.R.Moderator,{},e.id):e.key===p.SM.ReplitRep?t=(0,a.tZ)(B.R.ReplitRep,{},e.id):e.key===p.SM.Patron?t=(0,a.tZ)(B.R.Patron,{},e.id):e.key===p.SM.Pythonista?t=(0,a.tZ)(B.R.Pythonista,{},e.id):e.key===p.SM.ExtensionDeveloper&&(t=(0,a.tZ)(B.R.ExtensionDeveloper,{},e.id)),(0,a.tZ)("div",{children:(0,a.tZ)(c.G,{css:[{color:r,fontSize:d.TV.fontSizeSmall}],children:t})},e.id)})]})]})]})}function $(e){var n,r,o,u=e.username,d=e.children,m=e.inline,p=e.onUserClick,v=(0,i._)((0,l.useState)(!1),2),g=v[0],h=v[1],b=(0,i._)((0,l.useState)(!1),2),_=b[0],w=b[1],Z=(0,l.useRef)(!1);(0,l.useEffect)(function(){g&&(Z.current=!0);var e=setTimeout(function(){w(g)},200);return function(){clearTimeout(e)}},[g]);var C=(n={variables:{username:u},skip:!1===Z.current},r=(0,t._)({},U,n),y.a(R,r)),E=C.data,k=C.loading,P=null==E?void 0:E.userByUsername,x=(null==E?void 0:null===(o=E.currentUser)||void 0===o?void 0:o.id)===(null==P?void 0:P.id);return(0,a.BX)(s.Z,{disableFocusLock:!0,isOpen:_,onClickOutside:function(){return w(!1)},maxWidth:350,growToMaxWidth:!0,padding:0,css:H.popover,showArrow:!0,children:[m?(0,a.tZ)("span",{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:d}):(0,a.tZ)(z,{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:d}),(0,a.BX)(z,{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:[!k&&(P?(0,a.tZ)(j,{user:P,onUserClick:p,isCurrentUser:x}):(0,a.tZ)(f.xv,{color:"dimmer",multiline:!1,children:"User doesn’t exist"})),k?(0,a.tZ)(c.G,{css:H.loadingState,children:(0,a.tZ)(I.Z,{})}):null]})]})}},99334:function(e,n,r){r.d(n,{Z:function(){return w}});var t,o=r(39698),i=r(8182),a=r(59868),l=r(56596),u=r(49072),s=r(75582),c=r(36010),d=r.n(c),f=r(45903),m=r(93295),p=r(23982),v=r(77393);function g(){var e=(0,m._)(["\n  query PlanBadge($username: String!) {\n    userByUsername(username: $username) {\n      id\n      userSubscriptionType\n    }\n  }\n"]);return g=function(){return e},e}var h={},b=(0,p.Ps)(g()),_=(t={},(0,o._)(t,s.HP.Hacker,u.vA.Hacker),(0,o._)(t,s.HP.HackerPro,u.vA.HackerPro),t);function w(e){var n,r,t,o=(r={variables:{username:e.username}},t=(0,f._)({},h,r),v.a(b,t)),s=o.data,c=o.loading,m=null==s?void 0:null===(n=s.userByUsername)||void 0===n?void 0:n.userSubscriptionType;if(c||!m)return null;var p=_[m];return(0,i.tZ)(d(),{legacyBehavior:!0,href:"/replit-core",passHref:!0,children:(0,i.tZ)(l.G,{tag:"a",css:{":hover *":{cursor:"pointer"}},onClick:function(){(0,a.j)(a.U3.UPGRADE_SELECTED,{source:"plan_badge"})},children:(0,i.tZ)(u.ZP,{name:p,userRole:p})})})}},88205:function(e,n,r){var t,o;r.d(n,{N:function(){return t}}),(o=t||(t={})).AdminTutorialUpdate="admin-tutorial-update",o.CommunityPost="community-post",o.ProfileImage="profile-image",o.ProfileCoverImage="profile-cover-image",o.TemplateIcon="template-icon",o.ReplIcon="repl-icon",o.ReplCoverImage="repl-cover-image",o.TrainingProfileImage="training-profile-image"}}]);
//# sourceMappingURL=862-189ce4d529054068.js.map